2021-02-22 05:00:38,707 - INFO - Reading existing Domain with UUID f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-22 05:00:38,734 - INFO - Using existing domain ['admin_domain'](f27c063f-c6c4-434f-a616-97e72e0043e5)
2021-02-22 05:00:39,089 - INFO - Project ctest-TestBasicVMVN-38169843 not found, creating it
2021-02-22 05:00:39,725 - INFO - Created Project:ctest-TestBasicVMVN-38169843, ID : 0b2d6cc7-3cdf-4da5-9ba8-955b78629814 
2021-02-22 05:00:43,563 - INFO - ================================================================================
2021-02-22 05:00:43,563 - INFO - STARTING TEST    : test_generic_link_local_service
2021-02-22 05:00:43,563 - INFO - TEST DESCRIPTION : 
        Description: Test to validate generic linklocal service - running nova list from vm.
            1.Create generic link local service to be able to wget to jenkins
            2.Create a vm
            3.Try wget to jenkins - passes if successful else fails

        Maintainer: sandipd@juniper.net
        
2021-02-22 05:00:44,942 - DEBUG - Nothing to compare xmpp stats {'192.168.7.19': {'192.168.27.20': '0', '192.168.27.34': '0'}, '192.168.7.9': {'192.168.27.20': '0', '192.168.27.34': '0'}} with
2021-02-22 05:00:44,942 - INFO - Initial checks done. Running the testcase now
2021-02-22 05:00:44,942 - INFO - 
2021-02-22 05:00:46,403 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn2_metadata-76870535'], 'name': 'ctest-vn2_metadata-76870535', 'admin_state_up': True, 'tenant_id': '0b2d6cc73cdf4da59ba8955b78629814', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': '0b2d6cc73cdf4da59ba8955b78629814', 'id': '84a3534f-ca21-49ab-879a-6d76db243fa6', 'description': ''}}
2021-02-22 05:00:46,708 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': '84a3534f-ca21-49ab-879a-6d76db243fa6', 'tenant_id': '0b2d6cc73cdf4da59ba8955b78629814', 'created_at': '2021-02-22T05:00:46.074602', 'dns_nameservers': [], 'updated_at': '2021-02-22T05:00:46.074602', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '11.1.1.2', 'end': '11.1.1.254'}], 'gateway_ip': '11.1.1.1', 'dns_server_address': '11.1.1.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '11.1.1.0/24', 'id': '09026ec3-600c-4ace-9f9d-557324e421aa'}}
2021-02-22 05:00:46,761 - INFO - Created VN ctest-vn2_metadata-76870535
2021-02-22 05:00:46,799 - DEBUG - VN ctest-vn2_metadata-76870535 UUID is 84a3534f-ca21-49ab-879a-6d76db243fa6
2021-02-22 05:00:47,314 - DEBUG - Services list from nova: [<Service: 1>, <Service: 3>, <Service: 4>, <Service: 16>]
2021-02-22 05:02:18,321 - INFO - Deleting VN ctest-vn2_metadata-76870535 
2021-02-22 05:02:18,648 - DEBUG - Response for deleting network ()
2021-02-22 05:02:19,928 - ERROR - ConnectFailure
Python 3.6.8: /usr/bin/python3
Mon Feb 22 05:02:18 2021

A problem occurred in a Python script.  Here is the sequence of
function calls leading up to the error, in the order they occurred.

 /contrail-test/tcutils/wrappers.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f8fe9796d30>, *args=(), **kwargs={})
   80             log.info('Initial checks done. Running the testcase now')
   81             log.info('')
   82             result = function(self, *args, **kwargs)
   83             if self.inputs.upgrade:
   84                 pid = os.getpid()
result = None
function = <function TestBasicVMVN.test_generic_link_local_service>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f8fe9796d30>
args = ()
kwargs = {}

 /contrail-test/tcutils/util.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f8fe9796d30>, *func_args=(), **func_kwargs={})
 1127                     msg = "Skipped as not supported in non remote compute setup"
 1128                     raise testtools.TestCase.skipException(msg)
 1129             return f(self, *func_args, **func_kwargs)
 1130         return wrapper
 1131     return decorator
f = <function TestBasicVMVN.test_generic_link_local_service>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f8fe9796d30>
func_args = ()
func_kwargs = {}

 /contrail-test/scripts/vm_regression/test_vm_basic.py in test_generic_link_local_service(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f8fe9796d30>)
  292                 vn_name=vn_name, inputs=self.inputs, subnets=vn_subnets))
  293         vn_obj = vn_fixture.obj
  294         vm1_fixture = self.create_vm(vn_ids=[vn_fixture.uuid], image_name='cirros')
  295 
  296         lls_service_name = 'introspect'
vm1_fixture undefined
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f8fe9796d30>
self.create_vm = <bound method GenericTestBase.create_vm of <scri...ite1,vcenter,vcenter_compute] id=0x7f8fe9796d30>>
vn_ids undefined
vn_fixture = <vn_test.VNFixture object>
vn_fixture.uuid = '84a3534f-ca21-49ab-879a-6d76db243fa6'
image_name undefined

 /contrail-test/common/base.py in create_vm(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f8fe9796d30>, vn_fixture=None, vm_name=None, image_name='cirros', port_ids=None, **kwargs={'vn_ids': ['84a3534f-ca21-49ab-879a-6d76db243fa6']})
  290                         image_name=image_name,
  291                         port_ids=port_ids,
  292                         **kwargs)
  293         if cleanup:
  294             self.addCleanup(vm_fixture.cleanUp)
kwargs = {'vn_ids': ['84a3534f-ca21-49ab-879a-6d76db243fa6']}

 /contrail-test/common/base.py in create_only_vm(cls=<class 'scripts.vm_regression.test_vm_basic.TestBasicVMVN'>, vn_fixture=None, vm_name=None, image_name='cirros', **kwargs={'port_ids': None, 'vn_ids': ['84a3534f-ca21-49ab-879a-6d76db243fa6']})
  263                     image_name=image_name,
  264                     **kwargs)
  265         vm_obj.setUp()
  266         return vm_obj
  267     # end create_only_vm
vm_obj = <VMFixture: ctest-TestBasicVMVN-38169843-17445949>
vm_obj.setUp = <bound method VMFixture.setUp of <VMFixture: ctest-TestBasicVMVN-38169843-17445949>>

 /contrail-test/fixtures/vm_test.py in setUp(self=<VMFixture: ctest-TestBasicVMVN-38169843-17445949>)
  207     def setUp(self):
  208         super(VMFixture, self).setUp()
  209         self.create()
  210 
  211     def create(self):
self = <VMFixture: ctest-TestBasicVMVN-38169843-17445949>
self.create = <bound method VMFixture.create of <VMFixture: ctest-TestBasicVMVN-38169843-17445949>>

 /contrail-test/fixtures/vm_test.py in create(self=<VMFixture: ctest-TestBasicVMVN-38169843-17445949>)
  260                     userdata=self.userdata,
  261                     port_ids=self.port_ids,
  262                     fixed_ips=self.fixed_ips)
  263                 self.created = True
  264                 self.vm_obj = objs[0]
fixed_ips undefined
self = <VMFixture: ctest-TestBasicVMVN-38169843-17445949>
self.fixed_ips = []

 /contrail-test/fixtures/openstack.py in create_vm(self=<openstack.OpenstackOrchestrator object>, vm_name='ctest-TestBasicVMVN-38169843-17445949', image_name='cirros', vn_objs=[{'network': {'status': 'ACTIVE', 'router:externa...ca21-49ab-879a-6d76db243fa6', 'description': ''}}], **kwargs={'count': 1, 'fixed_ips': [], 'flavor': 'contrail_flavor_tiny', 'node_name': None, 'port_ids': None, 'project_uuid': '0b2d6cc7-3cdf-4da5-9ba8-955b78629814', 'sg_ids': [], 'userdata': None, 'zone': None})
  138            except Exception as e:
  139                vn_ids.append(vn.uuid) #For the case of VcenterVN obnect in vrouter gw case
  140        return self.nova_h.create_vm(vm_name=vm_name, image_name=image_name, vn_ids=vn_ids, **kwargs)
  141 
  142    def delete_vm(self, vm_obj, **kwargs):
self = <openstack.OpenstackOrchestrator object>
self.nova_h = <nova_test.NovaHelper object>
self.nova_h.create_vm = <bound method NovaHelper.create_vm of <nova_test.NovaHelper object>>
vm_name = 'ctest-TestBasicVMVN-38169843-17445949'
image_name = 'cirros'
vn_ids = ['84a3534f-ca21-49ab-879a-6d76db243fa6']
kwargs = {'count': 1, 'fixed_ips': [], 'flavor': 'contrail_flavor_tiny', 'node_name': None, 'port_ids': None, 'project_uuid': '0b2d6cc7-3cdf-4da5-9ba8-955b78629814', 'sg_ids': [], 'userdata': None, 'zone': None}

 /contrail-test/fixtures/nova_test.py in create_vm(self=<nova_test.NovaHelper object>, project_uuid='0b2d6cc7-3cdf-4da5-9ba8-955b78629814', image_name='cirros', vm_name='ctest-TestBasicVMVN-38169843-17445949', vn_ids=['84a3534f-ca21-49ab-879a-6d76db243fa6'], node_name='nodec9', sg_ids=[], count=1, userdata=None, flavor=<Flavor: contrail_flavor_tiny>, port_ids=None, fixed_ips=[], zone='nova:nodec9')
  615                                 config_drive=config_drive,
  616                                 key_name=self.key, availability_zone=zone,
  617                                 min_count=count, max_count=count, userdata=userdata)
  618         vm_objs = self.get_vm_list(name_pattern=vm_name,
  619                                    project_id=project_uuid)
min_count undefined
count = 1
max_count undefined
userdata = None

 /usr/local/lib/python3.6/site-packages/novaclient/v2/servers.py in create(self=<novaclient.v2.servers.ServerManager object>, name='ctest-TestBasicVMVN-38169843-17445949', image=<RequestIdProxy at 0x7f8fecb87408 for image>, flavor=<Flavor: contrail_flavor_tiny>, meta=None, files=None, reservation_id=False, min_count=1, max_count=1, security_groups=[], userdata=None, key_name='ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', availability_zone='nova:nodec9', block_device_mapping=None, block_device_mapping_v2=None, nics=[{'net-id': '84a3534f-ca21-49ab-879a-6d76db243fa6'}], scheduler_hints=None, config_drive=False, disk_config=None, admin_pass=None, access_ip_v4=None, access_ip_v6=None, trusted_image_certificates=None, host=None, hypervisor_hostname=None, **kwargs={})
 1479 
 1480         response_key = "server" if not reservation_id else "reservation_id"
 1481         return self._boot(response_key, *boot_args, **boot_kwargs)
 1482 
 1483     @api_versions.wraps("2.0", "2.18")
self = <novaclient.v2.servers.ServerManager object>
self._boot = <bound method ServerManager._boot of <novaclient.v2.servers.ServerManager object>>
response_key = 'server'
boot_args = ['ctest-TestBasicVMVN-38169843-17445949', <RequestIdProxy at 0x7f8fecb87408 for image>, <Flavor: contrail_flavor_tiny>]
boot_kwargs = {'access_ip_v4': None, 'access_ip_v6': None, 'admin_pass': None, 'availability_zone': 'nova:nodec9', 'config_drive': False, 'disk_config': None, 'files': None, 'host': None, 'hypervisor_hostname': None, 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', ...}

 /usr/local/lib/python3.6/site-packages/novaclient/v2/servers.py in _boot(self=<novaclient.v2.servers.ServerManager object>, response_key='server', name='ctest-TestBasicVMVN-38169843-17445949', image=<RequestIdProxy at 0x7f8fecb87408 for image>, flavor=<Flavor: contrail_flavor_tiny>, meta=None, files=None, userdata=None, reservation_id=False, return_raw=False, min_count=1, max_count=1, security_groups=[], key_name='ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', availability_zone='nova:nodec9', block_device_mapping=None, block_device_mapping_v2=None, nics=[{'net-id': '84a3534f-ca21-49ab-879a-6d76db243fa6'}], scheduler_hints=None, config_drive=False, admin_pass=None, disk_config=None, access_ip_v4=None, access_ip_v6=None, description=None, tags=None, trusted_image_certificates=None, host=None, hypervisor_hostname=None, **kwargs={})
  844 
  845         return self._create('/servers', body, response_key,
  846                             return_raw=return_raw, **kwargs)
  847 
  848     def get(self, server):
return_raw = False
kwargs = {}

 /usr/local/lib/python3.6/site-packages/novaclient/base.py in _create(self=<novaclient.v2.servers.ServerManager object>, url='/servers', body={'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}, response_key='server', return_raw=False, obj_class=None, **kwargs={})
  362                 obj_class=None, **kwargs):
  363         self.run_hooks('modify_body_for_create', body, **kwargs)
  364         resp, body = self.api.client.post(url, body=body)
  365         if return_raw:
  366             return self.convert_into_with_meta(body[response_key], resp)
resp undefined
body = {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}
self = <novaclient.v2.servers.ServerManager object>
self.api = <novaclient.v2.client.Client object>
self.api.client = <novaclient.client.SessionClient object>
self.api.client.post = <bound method Adapter.post of <novaclient.client.SessionClient object>>
url = '/servers'

 /usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py in post(self=<novaclient.client.SessionClient object>, url='/servers', **kwargs={'body': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}})
  390 
  391     def post(self, url, **kwargs):
  392         return self.request(url, 'POST', **kwargs)
  393 
  394     def put(self, url, **kwargs):
self = <novaclient.client.SessionClient object>
self.request = <bound method SessionClient.request of <novaclient.client.SessionClient object>>
url = '/servers'
kwargs = {'body': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}}

 /usr/local/lib/python3.6/site-packages/novaclient/client.py in request(self=<novaclient.client.SessionClient object>, url='/servers', method='POST', **kwargs={'body': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}})
   70                                                             method,
   71                                                             raise_exc=False,
   72                                                             **kwargs)
   73 
   74         # TODO(andreykurilin): uncomment this line, when we will be able to
kwargs = {'body': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py in request(self=<novaclient.client.SessionClient object>, *args=('/servers', 'POST'), **kwargs={'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}, 'json': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}, 'raise_exc': False})
  543             pass
  544 
  545         resp = super(LegacyJsonAdapter, self).request(*args, **kwargs)
  546 
  547         try:
resp undefined
builtinsuper = <class 'super'>
global LegacyJsonAdapter = <class 'keystoneauth1.adapter.LegacyJsonAdapter'>
self = <novaclient.client.SessionClient object>
).request = <bound method SessionClient.request of <novaclient.client.SessionClient object>>
args = ('/servers', 'POST')
kwargs = {'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}, 'json': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}, 'raise_exc': False}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py in request(self=<novaclient.client.SessionClient object>, url='/servers', method='POST', **kwargs={'client_name': 'python-novaclient', 'client_version': '16.0.0', 'endpoint_filter': {'interface': 'publicURL', 'region_name': 'RegionOne', 'service_type': 'compute'}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}, 'json': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}, 'raise_exc': False, 'rate_semaphore': <keystoneauth1._fair_semaphore.FairSemaphore object>, 'user_agent': 'python-novaclient'})
  246             kwargs.setdefault('raise_exc', self.raise_exc)
  247 
  248         return self.session.request(url, method, **kwargs)
  249 
  250     def get_token(self, auth=None):
self = <novaclient.client.SessionClient object>
self.session = <keystoneauth1.session.Session object>
self.session.request = <bound method Session.request of <keystoneauth1.session.Session object>>
url = '/servers'
method = 'POST'
kwargs = {'client_name': 'python-novaclient', 'client_version': '16.0.0', 'endpoint_filter': {'interface': 'publicURL', 'region_name': 'RegionOne', 'service_type': 'compute'}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}, 'json': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}, 'raise_exc': False, 'rate_semaphore': <keystoneauth1._fair_semaphore.FairSemaphore object>, 'user_agent': 'python-novaclient'}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/session.py in request(self=<keystoneauth1.session.Session object>, url='http://192.168.7.12:8774/v2.1/servers', method='POST', json={'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-38169843ctest-TestBasicVMVN-38169843key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-38169843-17445949', 'networks': [{'uuid': '84a3534f-ca21-49ab-879a-6d76db243fa6'}]}}, original_ip=None, user_agent='python-novaclient', redirect=30, authenticated=True, endpoint_filter={'interface': 'publicURL', 'region_name': 'RegionOne', 'service_type': 'compute'}, auth=None, requests_auth=None, raise_exc=False, allow_reauth=True, log=True, endpoint_override=None, connect_retries=0, logger=<Logger keystoneauth.session (WARNING)>, allow=None, client_name='python-novaclient', client_version='16.0.0', microversion=None, microversion_service_type=None, status_code_retries=0, retriable_status_codes=[503], rate_semaphore=<keystoneauth1._fair_semaphore.FairSemaphore object>, global_request_id=None, connect_retry_delay=None, status_code_retry_delay=None, **kwargs={'allow_redirects': False, 'cert': (None, None), 'data': '{"server": {"name": "ctest-TestBasicVMVN-3816984...uuid": "84a3534f-ca21-49ab-879a-6d76db243fa6"}]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}, 'verify': False})
  911                 kwargs.update(connection_params)
  912 
  913         resp = send(**kwargs)
  914 
  915         # log callee and caller request-id for each api call
resp undefined
send = functools.partial(<bound method Session._send_re...auth1.session._Retries object at 0x7f8fe3d220b8>)
kwargs = {'allow_redirects': False, 'cert': (None, None), 'data': '{"server": {"name": "ctest-TestBasicVMVN-3816984...uuid": "84a3534f-ca21-49ab-879a-6d76db243fa6"}]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}, 'verify': False}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/session.py in _send_request(self=<keystoneauth1.session.Session object>, url='http://192.168.7.12:8774/v2.1/servers', method='POST', redirect=30, log=True, logger=<Logger keystoneauth.session (WARNING)>, split_loggers=None, connect_retries=0, status_code_retries=0, retriable_status_codes=[503], rate_semaphore=<keystoneauth1._fair_semaphore.FairSemaphore object>, connect_retry_delays=<keystoneauth1.session._Retries object>, status_code_retry_delays=<keystoneauth1.session._Retries object>, **kwargs={'allow_redirects': False, 'cert': (None, None), 'data': '{"server": {"name": "ctest-TestBasicVMVN-3816984...uuid": "84a3534f-ca21-49ab-879a-6d76db243fa6"}]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'a85d1326bbf249b8b7f77e8ea88988bf'}, 'verify': False})
 1018                 # and firewall blocking.
 1019                 msg = 'Unable to establish connection to %s: %s' % (url, e)
 1020                 raise exceptions.ConnectFailure(msg)
 1021             except requests.exceptions.RequestException as e:
 1022                 msg = 'Unexpected exception for %(url)s: %(error)s' % {
global exceptions = <module 'keystoneauth1.exceptions' from '/usr/lo...e-packages/keystoneauth1/exceptions/__init__.py'>
exceptions.ConnectFailure = <class 'keystoneauth1.exceptions.connection.ConnectFailure'>
msg = "Unable to establish connection to http://192.168...Remote end closed connection without response',))"
ConnectFailure: Unable to establish connection to http://192.168.7.12:8774/v2.1/servers: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))
    __cause__ = None
    __class__ = <class 'keystoneauth1.exceptions.connection.ConnectFailure'>
    __context__ = ConnectionError(ProtocolError('Connection aborte...mote end closed connection without response',)),)
    __delattr__ = <method-wrapper '__delattr__' of ConnectFailure object>
    __dict__ = {'message': "Unable to establish connection to http://192.168...Remote end closed connection without response',))"}
    __dir__ = <built-in method __dir__ of ConnectFailure object>
    __doc__ = None
    __eq__ = <method-wrapper '__eq__' of ConnectFailure object>
    __format__ = <built-in method __format__ of ConnectFailure object>
    __ge__ = <method-wrapper '__ge__' of ConnectFailure object>
    __getattribute__ = <method-wrapper '__getattribute__' of ConnectFailure object>
    __gt__ = <method-wrapper '__gt__' of ConnectFailure object>
    __hash__ = <method-wrapper '__hash__' of ConnectFailure object>
    __init__ = <bound method ClientException.__init__ of Connec...te end closed connection without response',))",)>
    __init_subclass__ = <built-in method __init_subclass__ of type object>
    __le__ = <method-wrapper '__le__' of ConnectFailure object>
    __lt__ = <method-wrapper '__lt__' of ConnectFailure object>
    __module__ = 'keystoneauth1.exceptions.connection'
    __ne__ = <method-wrapper '__ne__' of ConnectFailure object>
    __new__ = <built-in method __new__ of type object>
    __reduce__ = <built-in method __reduce__ of ConnectFailure object>
    __reduce_ex__ = <built-in method __reduce_ex__ of ConnectFailure object>
    __repr__ = <method-wrapper '__repr__' of ConnectFailure object>
    __setattr__ = <method-wrapper '__setattr__' of ConnectFailure object>
    __setstate__ = <built-in method __setstate__ of ConnectFailure object>
    __sizeof__ = <built-in method __sizeof__ of ConnectFailure object>
    __str__ = <method-wrapper '__str__' of ConnectFailure object>
    __subclasshook__ = <built-in method __subclasshook__ of type object>
    __suppress_context__ = False
    __traceback__ = <traceback object>
    __weakref__ = None
    args = ("Unable to establish connection to http://192.168...Remote end closed connection without response',))",)
    message = "Unable to establish connection to http://192.168...Remote end closed connection without response',))"
    with_traceback = <built-in method with_traceback of ConnectFailure object>

The above is a description of an error in a Python program.  Here is
the original traceback:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1346, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 307, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 276, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "/usr/local/lib/python3.6/site-packages/urllib3/util/retry.py", line 400, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/usr/local/lib/python3.6/site-packages/urllib3/packages/six.py", line 734, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1346, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 307, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 276, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 1004, in _send_request
    resp = self.session.request(method, url, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/contrail-test/tcutils/wrappers.py", line 82, in wrapper
    result = function(self, *args, **kwargs)
  File "/contrail-test/tcutils/util.py", line 1129, in wrapper
    return f(self, *func_args, **func_kwargs)
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 294, in test_generic_link_local_service
    vm1_fixture = self.create_vm(vn_ids=[vn_fixture.uuid], image_name='cirros')
  File "/contrail-test/common/base.py", line 292, in create_vm
    **kwargs)
  File "/contrail-test/common/base.py", line 265, in create_only_vm
    vm_obj.setUp()
  File "/contrail-test/fixtures/vm_test.py", line 209, in setUp
    self.create()
  File "/contrail-test/fixtures/vm_test.py", line 262, in create
    fixed_ips=self.fixed_ips)
  File "/contrail-test/fixtures/openstack.py", line 140, in create_vm
    return self.nova_h.create_vm(vm_name=vm_name, image_name=image_name, vn_ids=vn_ids, **kwargs)
  File "/contrail-test/fixtures/nova_test.py", line 617, in create_vm
    min_count=count, max_count=count, userdata=userdata)
  File "/usr/local/lib/python3.6/site-packages/novaclient/v2/servers.py", line 1481, in create
    return self._boot(response_key, *boot_args, **boot_kwargs)
  File "/usr/local/lib/python3.6/site-packages/novaclient/v2/servers.py", line 846, in _boot
    return_raw=return_raw, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/novaclient/base.py", line 364, in _create
    resp, body = self.api.client.post(url, body=body)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 392, in post
    return self.request(url, 'POST', **kwargs)
  File "/usr/local/lib/python3.6/site-packages/novaclient/client.py", line 72, in request
    **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 545, in request
    resp = super(LegacyJsonAdapter, self).request(*args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 248, in request
    return self.session.request(url, method, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 913, in request
    resp = send(**kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 1020, in _send_request
    raise exceptions.ConnectFailure(msg)
keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to http://192.168.7.12:8774/v2.1/servers: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))



2021-02-22 05:02:19,975 - DEBUG - No XMPP flaps were noticed during the test
2021-02-22 05:02:19,975 - INFO - 
2021-02-22 05:02:19,975 - INFO - END TEST : test_generic_link_local_service : FAILED[0:01:36]
2021-02-22 05:02:19,975 - INFO - --------------------------------------------------------------------------------
2021-02-22 05:02:19,984 - INFO - ================================================================================
2021-02-22 05:02:19,984 - INFO - STARTING TEST    : test_ping_within_vn_two_vms_two_different_subnets
2021-02-22 05:02:19,984 - INFO - TEST DESCRIPTION : 
        Description:  Validate Ping between 2 VMs in the same VN, 2 VMs in different VN
        subnets.
        Test steps:
                1. Create 1 IPAM's.
                2. Create 1 VN with 2 subnets and launch 2 VMs in them.
                3. Ping between the VMs in the same VN should go thru fine.
                4. Ping to the subnet broadcast and all-broadcast address.
        Pass criteria: VM in the same subnet will respond to both the pings, while the VM in a different VN should respond only to the
                        all-broadcast address.
        Maintainer : ganeshahv@juniper.net
        
2021-02-22 05:02:21,311 - DEBUG - Nothing to compare xmpp stats {'192.168.7.19': {'192.168.27.20': '0', '192.168.27.34': '0'}, '192.168.7.9': {'192.168.27.20': '0', '192.168.27.34': '0'}} with
2021-02-22 05:02:21,312 - INFO - Initial checks done. Running the testcase now
2021-02-22 05:02:21,312 - INFO - 
2021-02-22 05:02:21,836 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'name': 'ctest-vn-30970887', 'admin_state_up': True, 'tenant_id': '0b2d6cc73cdf4da59ba8955b78629814', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': '0b2d6cc73cdf4da59ba8955b78629814', 'id': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'description': ''}}
2021-02-22 05:02:22,201 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'tenant_id': '0b2d6cc73cdf4da59ba8955b78629814', 'created_at': '2021-02-22T05:02:21.516320', 'dns_nameservers': [], 'updated_at': '2021-02-22T05:02:21.516320', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '31.1.1.2', 'end': '31.1.1.6'}], 'gateway_ip': '31.1.1.1', 'dns_server_address': '31.1.1.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '31.1.1.0/29', 'id': '42287ef1-f64f-4f74-9624-8dd748623713'}}
2021-02-22 05:03:52,503 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:03:54,660 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:03:56,808 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:03:58,964 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:01,140 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:03,303 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:05,456 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:07,624 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:09,781 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:11,942 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:14,085 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:16,233 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:18,381 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:20,527 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:22,681 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:24,838 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:26,999 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:29,120 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:31,229 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:33,337 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:35,446 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:37,582 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:39,695 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:41,829 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:43,954 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:46,085 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:48,199 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:50,323 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:52,441 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:54,558 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:56,666 - WARNING - Project ctest-TestBasicVMVN-38169843 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-38169843', 'ctest-vn-30970887'], 'href': 'https://192.168.7.34:8082/virtual-network/f98b0578-b94c-47f0-8caa-36bcdbd5521b', 'uuid': 'f98b0578-b94c-47f0-8caa-36bcdbd5521b'}] before deletion
2021-02-22 05:04:56,666 - WARNING - One or more references still present, will not delete the project ctest-TestBasicVMVN-38169843
2021-02-22 05:22:38,060 - INFO - Reading existing Domain with UUID f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-22 05:22:38,085 - INFO - Using existing domain ['admin_domain'](f27c063f-c6c4-434f-a616-97e72e0043e5)
2021-02-22 05:22:38,418 - INFO - Project ctest-TestBasicVMVN-17660133 not found, creating it
2021-02-22 05:22:39,088 - INFO - Created Project:ctest-TestBasicVMVN-17660133, ID : e4d24cd9-034b-406c-a265-f549a064b2be 
2021-02-22 05:22:42,735 - INFO - ================================================================================
2021-02-22 05:22:42,736 - INFO - STARTING TEST    : test_generic_link_local_service
2021-02-22 05:22:42,736 - INFO - TEST DESCRIPTION : 
        Description: Test to validate generic linklocal service - running nova list from vm.
            1.Create generic link local service to be able to wget to jenkins
            2.Create a vm
            3.Try wget to jenkins - passes if successful else fails

        Maintainer: sandipd@juniper.net
        
2021-02-22 05:22:44,090 - DEBUG - Nothing to compare xmpp stats {'192.168.7.19': {'192.168.27.20': '0', '192.168.27.34': '0'}, '192.168.7.9': {'192.168.27.20': '0', '192.168.27.34': '0'}} with
2021-02-22 05:22:44,090 - INFO - Initial checks done. Running the testcase now
2021-02-22 05:22:44,090 - INFO - 
2021-02-22 05:22:45,298 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn2_metadata-35689422'], 'name': 'ctest-vn2_metadata-35689422', 'admin_state_up': True, 'tenant_id': 'e4d24cd9034b406ca265f549a064b2be', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': 'e4d24cd9034b406ca265f549a064b2be', 'id': 'fbb95b4b-646c-451b-99d0-17b961459936', 'description': ''}}
2021-02-22 05:22:45,658 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': 'fbb95b4b-646c-451b-99d0-17b961459936', 'tenant_id': 'e4d24cd9034b406ca265f549a064b2be', 'created_at': '2021-02-22T05:22:45.014870', 'dns_nameservers': [], 'updated_at': '2021-02-22T05:22:45.014870', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '11.1.1.2', 'end': '11.1.1.254'}], 'gateway_ip': '11.1.1.1', 'dns_server_address': '11.1.1.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '11.1.1.0/24', 'id': '78ee5ec8-d08e-4ec2-9aea-7c9835f24677'}}
2021-02-22 05:22:45,707 - INFO - Created VN ctest-vn2_metadata-35689422
2021-02-22 05:22:45,741 - DEBUG - VN ctest-vn2_metadata-35689422 UUID is fbb95b4b-646c-451b-99d0-17b961459936
2021-02-22 05:22:46,250 - DEBUG - Services list from nova: [<Service: 1>, <Service: 3>, <Service: 4>, <Service: 16>]
2021-02-22 05:24:16,618 - INFO - Deleting VN ctest-vn2_metadata-35689422 
2021-02-22 05:24:16,839 - DEBUG - Response for deleting network ()
2021-02-22 05:24:18,135 - ERROR - ConnectFailure
Python 3.6.8: /usr/bin/python3
Mon Feb 22 05:24:16 2021

A problem occurred in a Python script.  Here is the sequence of
function calls leading up to the error, in the order they occurred.

 /contrail-test/tcutils/wrappers.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f6ad6d9eda0>, *args=(), **kwargs={})
   80             log.info('Initial checks done. Running the testcase now')
   81             log.info('')
   82             result = function(self, *args, **kwargs)
   83             if self.inputs.upgrade:
   84                 pid = os.getpid()
result = None
function = <function TestBasicVMVN.test_generic_link_local_service>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f6ad6d9eda0>
args = ()
kwargs = {}

 /contrail-test/tcutils/util.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f6ad6d9eda0>, *func_args=(), **func_kwargs={})
 1127                     msg = "Skipped as not supported in non remote compute setup"
 1128                     raise testtools.TestCase.skipException(msg)
 1129             return f(self, *func_args, **func_kwargs)
 1130         return wrapper
 1131     return decorator
f = <function TestBasicVMVN.test_generic_link_local_service>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f6ad6d9eda0>
func_args = ()
func_kwargs = {}

 /contrail-test/scripts/vm_regression/test_vm_basic.py in test_generic_link_local_service(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f6ad6d9eda0>)
  292                 vn_name=vn_name, inputs=self.inputs, subnets=vn_subnets))
  293         vn_obj = vn_fixture.obj
  294         vm1_fixture = self.create_vm(vn_ids=[vn_fixture.uuid], image_name='cirros')
  295 
  296         lls_service_name = 'introspect'
vm1_fixture undefined
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f6ad6d9eda0>
self.create_vm = <bound method GenericTestBase.create_vm of <scri...ite1,vcenter,vcenter_compute] id=0x7f6ad6d9eda0>>
vn_ids undefined
vn_fixture = <vn_test.VNFixture object>
vn_fixture.uuid = 'fbb95b4b-646c-451b-99d0-17b961459936'
image_name undefined

 /contrail-test/common/base.py in create_vm(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7f6ad6d9eda0>, vn_fixture=None, vm_name=None, image_name='cirros', port_ids=None, **kwargs={'vn_ids': ['fbb95b4b-646c-451b-99d0-17b961459936']})
  290                         image_name=image_name,
  291                         port_ids=port_ids,
  292                         **kwargs)
  293         if cleanup:
  294             self.addCleanup(vm_fixture.cleanUp)
kwargs = {'vn_ids': ['fbb95b4b-646c-451b-99d0-17b961459936']}

 /contrail-test/common/base.py in create_only_vm(cls=<class 'scripts.vm_regression.test_vm_basic.TestBasicVMVN'>, vn_fixture=None, vm_name=None, image_name='cirros', **kwargs={'port_ids': None, 'vn_ids': ['fbb95b4b-646c-451b-99d0-17b961459936']})
  263                     image_name=image_name,
  264                     **kwargs)
  265         vm_obj.setUp()
  266         return vm_obj
  267     # end create_only_vm
vm_obj = <VMFixture: ctest-TestBasicVMVN-17660133-31250652>
vm_obj.setUp = <bound method VMFixture.setUp of <VMFixture: ctest-TestBasicVMVN-17660133-31250652>>

 /contrail-test/fixtures/vm_test.py in setUp(self=<VMFixture: ctest-TestBasicVMVN-17660133-31250652>)
  207     def setUp(self):
  208         super(VMFixture, self).setUp()
  209         self.create()
  210 
  211     def create(self):
self = <VMFixture: ctest-TestBasicVMVN-17660133-31250652>
self.create = <bound method VMFixture.create of <VMFixture: ctest-TestBasicVMVN-17660133-31250652>>

 /contrail-test/fixtures/vm_test.py in create(self=<VMFixture: ctest-TestBasicVMVN-17660133-31250652>)
  260                     userdata=self.userdata,
  261                     port_ids=self.port_ids,
  262                     fixed_ips=self.fixed_ips)
  263                 self.created = True
  264                 self.vm_obj = objs[0]
fixed_ips undefined
self = <VMFixture: ctest-TestBasicVMVN-17660133-31250652>
self.fixed_ips = []

 /contrail-test/fixtures/openstack.py in create_vm(self=<openstack.OpenstackOrchestrator object>, vm_name='ctest-TestBasicVMVN-17660133-31250652', image_name='cirros', vn_objs=[{'network': {'status': 'ACTIVE', 'router:externa...646c-451b-99d0-17b961459936', 'description': ''}}], **kwargs={'count': 1, 'fixed_ips': [], 'flavor': 'contrail_flavor_tiny', 'node_name': None, 'port_ids': None, 'project_uuid': 'e4d24cd9-034b-406c-a265-f549a064b2be', 'sg_ids': [], 'userdata': None, 'zone': None})
  138            except Exception as e:
  139                vn_ids.append(vn.uuid) #For the case of VcenterVN obnect in vrouter gw case
  140        return self.nova_h.create_vm(vm_name=vm_name, image_name=image_name, vn_ids=vn_ids, **kwargs)
  141 
  142    def delete_vm(self, vm_obj, **kwargs):
self = <openstack.OpenstackOrchestrator object>
self.nova_h = <nova_test.NovaHelper object>
self.nova_h.create_vm = <bound method NovaHelper.create_vm of <nova_test.NovaHelper object>>
vm_name = 'ctest-TestBasicVMVN-17660133-31250652'
image_name = 'cirros'
vn_ids = ['fbb95b4b-646c-451b-99d0-17b961459936']
kwargs = {'count': 1, 'fixed_ips': [], 'flavor': 'contrail_flavor_tiny', 'node_name': None, 'port_ids': None, 'project_uuid': 'e4d24cd9-034b-406c-a265-f549a064b2be', 'sg_ids': [], 'userdata': None, 'zone': None}

 /contrail-test/fixtures/nova_test.py in create_vm(self=<nova_test.NovaHelper object>, project_uuid='e4d24cd9-034b-406c-a265-f549a064b2be', image_name='cirros', vm_name='ctest-TestBasicVMVN-17660133-31250652', vn_ids=['fbb95b4b-646c-451b-99d0-17b961459936'], node_name='nodec9', sg_ids=[], count=1, userdata=None, flavor=<Flavor: contrail_flavor_tiny>, port_ids=None, fixed_ips=[], zone='nova:nodec9')
  615                                 config_drive=config_drive,
  616                                 key_name=self.key, availability_zone=zone,
  617                                 min_count=count, max_count=count, userdata=userdata)
  618         vm_objs = self.get_vm_list(name_pattern=vm_name,
  619                                    project_id=project_uuid)
min_count undefined
count = 1
max_count undefined
userdata = None

 /usr/local/lib/python3.6/site-packages/novaclient/v2/servers.py in create(self=<novaclient.v2.servers.ServerManager object>, name='ctest-TestBasicVMVN-17660133-31250652', image=<RequestIdProxy at 0x7f6ada199908 for image>, flavor=<Flavor: contrail_flavor_tiny>, meta=None, files=None, reservation_id=False, min_count=1, max_count=1, security_groups=[], userdata=None, key_name='ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', availability_zone='nova:nodec9', block_device_mapping=None, block_device_mapping_v2=None, nics=[{'net-id': 'fbb95b4b-646c-451b-99d0-17b961459936'}], scheduler_hints=None, config_drive=False, disk_config=None, admin_pass=None, access_ip_v4=None, access_ip_v6=None, trusted_image_certificates=None, host=None, hypervisor_hostname=None, **kwargs={})
 1479 
 1480         response_key = "server" if not reservation_id else "reservation_id"
 1481         return self._boot(response_key, *boot_args, **boot_kwargs)
 1482 
 1483     @api_versions.wraps("2.0", "2.18")
self = <novaclient.v2.servers.ServerManager object>
self._boot = <bound method ServerManager._boot of <novaclient.v2.servers.ServerManager object>>
response_key = 'server'
boot_args = ['ctest-TestBasicVMVN-17660133-31250652', <RequestIdProxy at 0x7f6ada199908 for image>, <Flavor: contrail_flavor_tiny>]
boot_kwargs = {'access_ip_v4': None, 'access_ip_v6': None, 'admin_pass': None, 'availability_zone': 'nova:nodec9', 'config_drive': False, 'disk_config': None, 'files': None, 'host': None, 'hypervisor_hostname': None, 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', ...}

 /usr/local/lib/python3.6/site-packages/novaclient/v2/servers.py in _boot(self=<novaclient.v2.servers.ServerManager object>, response_key='server', name='ctest-TestBasicVMVN-17660133-31250652', image=<RequestIdProxy at 0x7f6ada199908 for image>, flavor=<Flavor: contrail_flavor_tiny>, meta=None, files=None, userdata=None, reservation_id=False, return_raw=False, min_count=1, max_count=1, security_groups=[], key_name='ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', availability_zone='nova:nodec9', block_device_mapping=None, block_device_mapping_v2=None, nics=[{'net-id': 'fbb95b4b-646c-451b-99d0-17b961459936'}], scheduler_hints=None, config_drive=False, admin_pass=None, disk_config=None, access_ip_v4=None, access_ip_v6=None, description=None, tags=None, trusted_image_certificates=None, host=None, hypervisor_hostname=None, **kwargs={})
  844 
  845         return self._create('/servers', body, response_key,
  846                             return_raw=return_raw, **kwargs)
  847 
  848     def get(self, server):
return_raw = False
kwargs = {}

 /usr/local/lib/python3.6/site-packages/novaclient/base.py in _create(self=<novaclient.v2.servers.ServerManager object>, url='/servers', body={'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}, response_key='server', return_raw=False, obj_class=None, **kwargs={})
  362                 obj_class=None, **kwargs):
  363         self.run_hooks('modify_body_for_create', body, **kwargs)
  364         resp, body = self.api.client.post(url, body=body)
  365         if return_raw:
  366             return self.convert_into_with_meta(body[response_key], resp)
resp undefined
body = {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}
self = <novaclient.v2.servers.ServerManager object>
self.api = <novaclient.v2.client.Client object>
self.api.client = <novaclient.client.SessionClient object>
self.api.client.post = <bound method Adapter.post of <novaclient.client.SessionClient object>>
url = '/servers'

 /usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py in post(self=<novaclient.client.SessionClient object>, url='/servers', **kwargs={'body': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}})
  390 
  391     def post(self, url, **kwargs):
  392         return self.request(url, 'POST', **kwargs)
  393 
  394     def put(self, url, **kwargs):
self = <novaclient.client.SessionClient object>
self.request = <bound method SessionClient.request of <novaclient.client.SessionClient object>>
url = '/servers'
kwargs = {'body': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}}

 /usr/local/lib/python3.6/site-packages/novaclient/client.py in request(self=<novaclient.client.SessionClient object>, url='/servers', method='POST', **kwargs={'body': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}})
   70                                                             method,
   71                                                             raise_exc=False,
   72                                                             **kwargs)
   73 
   74         # TODO(andreykurilin): uncomment this line, when we will be able to
kwargs = {'body': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py in request(self=<novaclient.client.SessionClient object>, *args=('/servers', 'POST'), **kwargs={'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}, 'json': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}, 'raise_exc': False})
  543             pass
  544 
  545         resp = super(LegacyJsonAdapter, self).request(*args, **kwargs)
  546 
  547         try:
resp undefined
builtinsuper = <class 'super'>
global LegacyJsonAdapter = <class 'keystoneauth1.adapter.LegacyJsonAdapter'>
self = <novaclient.client.SessionClient object>
).request = <bound method SessionClient.request of <novaclient.client.SessionClient object>>
args = ('/servers', 'POST')
kwargs = {'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}, 'json': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}, 'raise_exc': False}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py in request(self=<novaclient.client.SessionClient object>, url='/servers', method='POST', **kwargs={'client_name': 'python-novaclient', 'client_version': '16.0.0', 'endpoint_filter': {'interface': 'publicURL', 'region_name': 'RegionOne', 'service_type': 'compute'}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}, 'json': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}, 'raise_exc': False, 'rate_semaphore': <keystoneauth1._fair_semaphore.FairSemaphore object>, 'user_agent': 'python-novaclient'})
  246             kwargs.setdefault('raise_exc', self.raise_exc)
  247 
  248         return self.session.request(url, method, **kwargs)
  249 
  250     def get_token(self, auth=None):
self = <novaclient.client.SessionClient object>
self.session = <keystoneauth1.session.Session object>
self.session.request = <bound method Session.request of <keystoneauth1.session.Session object>>
url = '/servers'
method = 'POST'
kwargs = {'client_name': 'python-novaclient', 'client_version': '16.0.0', 'endpoint_filter': {'interface': 'publicURL', 'region_name': 'RegionOne', 'service_type': 'compute'}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}, 'json': {'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}, 'raise_exc': False, 'rate_semaphore': <keystoneauth1._fair_semaphore.FairSemaphore object>, 'user_agent': 'python-novaclient'}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/session.py in request(self=<keystoneauth1.session.Session object>, url='http://192.168.7.12:8774/v2.1/servers', method='POST', json={'server': {'availability_zone': 'nova:nodec9', 'flavorRef': 'a91f54af-e009-4d84-96b6-789c2a4050f1', 'imageRef': '952950e2-064f-4a7b-bd4a-75edea240e03', 'key_name': 'ctest_ctest-TestBasicVMVN-17660133ctest-TestBasicVMVN-17660133key1', 'max_count': 1, 'min_count': 1, 'name': 'ctest-TestBasicVMVN-17660133-31250652', 'networks': [{'uuid': 'fbb95b4b-646c-451b-99d0-17b961459936'}]}}, original_ip=None, user_agent='python-novaclient', redirect=30, authenticated=True, endpoint_filter={'interface': 'publicURL', 'region_name': 'RegionOne', 'service_type': 'compute'}, auth=None, requests_auth=None, raise_exc=False, allow_reauth=True, log=True, endpoint_override=None, connect_retries=0, logger=<Logger keystoneauth.session (WARNING)>, allow=None, client_name='python-novaclient', client_version='16.0.0', microversion=None, microversion_service_type=None, status_code_retries=0, retriable_status_codes=[503], rate_semaphore=<keystoneauth1._fair_semaphore.FairSemaphore object>, global_request_id=None, connect_retry_delay=None, status_code_retry_delay=None, **kwargs={'allow_redirects': False, 'cert': (None, None), 'data': '{"server": {"name": "ctest-TestBasicVMVN-1766013...uuid": "fbb95b4b-646c-451b-99d0-17b961459936"}]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}, 'verify': False})
  911                 kwargs.update(connection_params)
  912 
  913         resp = send(**kwargs)
  914 
  915         # log callee and caller request-id for each api call
resp undefined
send = functools.partial(<bound method Session._send_re...auth1.session._Retries object at 0x7f6ad52db470>)
kwargs = {'allow_redirects': False, 'cert': (None, None), 'data': '{"server": {"name": "ctest-TestBasicVMVN-1766013...uuid": "fbb95b4b-646c-451b-99d0-17b961459936"}]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}, 'verify': False}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/session.py in _send_request(self=<keystoneauth1.session.Session object>, url='http://192.168.7.12:8774/v2.1/servers', method='POST', redirect=30, log=True, logger=<Logger keystoneauth.session (WARNING)>, split_loggers=None, connect_retries=0, status_code_retries=0, retriable_status_codes=[503], rate_semaphore=<keystoneauth1._fair_semaphore.FairSemaphore object>, connect_retry_delays=<keystoneauth1.session._Retries object>, status_code_retry_delays=<keystoneauth1.session._Retries object>, **kwargs={'allow_redirects': False, 'cert': (None, None), 'data': '{"server": {"name": "ctest-TestBasicVMVN-1766013...uuid": "fbb95b4b-646c-451b-99d0-17b961459936"}]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-novaclient', 'X-Auth-Token': 'e06e1e155c8443b990b80228cb4b8b74'}, 'verify': False})
 1018                 # and firewall blocking.
 1019                 msg = 'Unable to establish connection to %s: %s' % (url, e)
 1020                 raise exceptions.ConnectFailure(msg)
 1021             except requests.exceptions.RequestException as e:
 1022                 msg = 'Unexpected exception for %(url)s: %(error)s' % {
global exceptions = <module 'keystoneauth1.exceptions' from '/usr/lo...e-packages/keystoneauth1/exceptions/__init__.py'>
exceptions.ConnectFailure = <class 'keystoneauth1.exceptions.connection.ConnectFailure'>
msg = "Unable to establish connection to http://192.168...Remote end closed connection without response',))"
ConnectFailure: Unable to establish connection to http://192.168.7.12:8774/v2.1/servers: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))
    __cause__ = None
    __class__ = <class 'keystoneauth1.exceptions.connection.ConnectFailure'>
    __context__ = ConnectionError(ProtocolError('Connection aborte...mote end closed connection without response',)),)
    __delattr__ = <method-wrapper '__delattr__' of ConnectFailure object>
    __dict__ = {'message': "Unable to establish connection to http://192.168...Remote end closed connection without response',))"}
    __dir__ = <built-in method __dir__ of ConnectFailure object>
    __doc__ = None
    __eq__ = <method-wrapper '__eq__' of ConnectFailure object>
    __format__ = <built-in method __format__ of ConnectFailure object>
    __ge__ = <method-wrapper '__ge__' of ConnectFailure object>
    __getattribute__ = <method-wrapper '__getattribute__' of ConnectFailure object>
    __gt__ = <method-wrapper '__gt__' of ConnectFailure object>
    __hash__ = <method-wrapper '__hash__' of ConnectFailure object>
    __init__ = <bound method ClientException.__init__ of Connec...te end closed connection without response',))",)>
    __init_subclass__ = <built-in method __init_subclass__ of type object>
    __le__ = <method-wrapper '__le__' of ConnectFailure object>
    __lt__ = <method-wrapper '__lt__' of ConnectFailure object>
    __module__ = 'keystoneauth1.exceptions.connection'
    __ne__ = <method-wrapper '__ne__' of ConnectFailure object>
    __new__ = <built-in method __new__ of type object>
    __reduce__ = <built-in method __reduce__ of ConnectFailure object>
    __reduce_ex__ = <built-in method __reduce_ex__ of ConnectFailure object>
    __repr__ = <method-wrapper '__repr__' of ConnectFailure object>
    __setattr__ = <method-wrapper '__setattr__' of ConnectFailure object>
    __setstate__ = <built-in method __setstate__ of ConnectFailure object>
    __sizeof__ = <built-in method __sizeof__ of ConnectFailure object>
    __str__ = <method-wrapper '__str__' of ConnectFailure object>
    __subclasshook__ = <built-in method __subclasshook__ of type object>
    __suppress_context__ = False
    __traceback__ = <traceback object>
    __weakref__ = None
    args = ("Unable to establish connection to http://192.168...Remote end closed connection without response',))",)
    message = "Unable to establish connection to http://192.168...Remote end closed connection without response',))"
    with_traceback = <built-in method with_traceback of ConnectFailure object>

The above is a description of an error in a Python program.  Here is
the original traceback:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1346, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 307, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 276, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "/usr/local/lib/python3.6/site-packages/urllib3/util/retry.py", line 400, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/usr/local/lib/python3.6/site-packages/urllib3/packages/six.py", line 734, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1346, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 307, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 276, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 1004, in _send_request
    resp = self.session.request(method, url, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/contrail-test/tcutils/wrappers.py", line 82, in wrapper
    result = function(self, *args, **kwargs)
  File "/contrail-test/tcutils/util.py", line 1129, in wrapper
    return f(self, *func_args, **func_kwargs)
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 294, in test_generic_link_local_service
    vm1_fixture = self.create_vm(vn_ids=[vn_fixture.uuid], image_name='cirros')
  File "/contrail-test/common/base.py", line 292, in create_vm
    **kwargs)
  File "/contrail-test/common/base.py", line 265, in create_only_vm
    vm_obj.setUp()
  File "/contrail-test/fixtures/vm_test.py", line 209, in setUp
    self.create()
  File "/contrail-test/fixtures/vm_test.py", line 262, in create
    fixed_ips=self.fixed_ips)
  File "/contrail-test/fixtures/openstack.py", line 140, in create_vm
    return self.nova_h.create_vm(vm_name=vm_name, image_name=image_name, vn_ids=vn_ids, **kwargs)
  File "/contrail-test/fixtures/nova_test.py", line 617, in create_vm
    min_count=count, max_count=count, userdata=userdata)
  File "/usr/local/lib/python3.6/site-packages/novaclient/v2/servers.py", line 1481, in create
    return self._boot(response_key, *boot_args, **boot_kwargs)
  File "/usr/local/lib/python3.6/site-packages/novaclient/v2/servers.py", line 846, in _boot
    return_raw=return_raw, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/novaclient/base.py", line 364, in _create
    resp, body = self.api.client.post(url, body=body)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 392, in post
    return self.request(url, 'POST', **kwargs)
  File "/usr/local/lib/python3.6/site-packages/novaclient/client.py", line 72, in request
    **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 545, in request
    resp = super(LegacyJsonAdapter, self).request(*args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 248, in request
    return self.session.request(url, method, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 913, in request
    resp = send(**kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 1020, in _send_request
    raise exceptions.ConnectFailure(msg)
keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to http://192.168.7.12:8774/v2.1/servers: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))



2021-02-22 05:24:18,175 - DEBUG - No XMPP flaps were noticed during the test
2021-02-22 05:24:18,175 - INFO - 
2021-02-22 05:24:18,176 - INFO - END TEST : test_generic_link_local_service : FAILED[0:01:36]
2021-02-22 05:24:18,176 - INFO - --------------------------------------------------------------------------------
2021-02-22 05:24:18,185 - INFO - ================================================================================
2021-02-22 05:24:18,186 - INFO - STARTING TEST    : test_ping_within_vn_two_vms_two_different_subnets
2021-02-22 05:24:18,186 - INFO - TEST DESCRIPTION : 
        Description:  Validate Ping between 2 VMs in the same VN, 2 VMs in different VN
        subnets.
        Test steps:
                1. Create 1 IPAM's.
                2. Create 1 VN with 2 subnets and launch 2 VMs in them.
                3. Ping between the VMs in the same VN should go thru fine.
                4. Ping to the subnet broadcast and all-broadcast address.
        Pass criteria: VM in the same subnet will respond to both the pings, while the VM in a different VN should respond only to the
                        all-broadcast address.
        Maintainer : ganeshahv@juniper.net
        
2021-02-22 05:24:19,503 - DEBUG - Nothing to compare xmpp stats {'192.168.7.19': {'192.168.27.20': '0', '192.168.27.34': '0'}, '192.168.7.9': {'192.168.27.20': '0', '192.168.27.34': '0'}} with
2021-02-22 05:24:19,503 - INFO - Initial checks done. Running the testcase now
2021-02-22 05:24:19,503 - INFO - 
2021-02-22 05:24:20,006 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'name': 'ctest-vn-44365568', 'admin_state_up': True, 'tenant_id': 'e4d24cd9034b406ca265f549a064b2be', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': 'e4d24cd9034b406ca265f549a064b2be', 'id': '37b7d49d-917b-42a2-80de-0911ad59e7b5', 'description': ''}}
2021-02-22 05:24:20,327 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': '37b7d49d-917b-42a2-80de-0911ad59e7b5', 'tenant_id': 'e4d24cd9034b406ca265f549a064b2be', 'created_at': '2021-02-22T05:24:19.688892', 'dns_nameservers': [], 'updated_at': '2021-02-22T05:24:19.688892', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '31.1.1.2', 'end': '31.1.1.6'}], 'gateway_ip': '31.1.1.1', 'dns_server_address': '31.1.1.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '31.1.1.0/29', 'id': 'c19dc529-7aac-4e28-a87f-51ae3ce534f6'}}
2021-02-22 05:25:50,614 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:25:52,726 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:25:54,851 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:25:56,963 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:25:59,094 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:01,215 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:03,334 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:05,443 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:07,567 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:09,687 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:11,802 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:13,915 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:16,018 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:18,126 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:20,247 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:22,387 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:24,510 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:26,631 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:28,752 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:30,892 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:33,007 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:35,139 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:37,250 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:39,368 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:41,495 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:43,617 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:45,754 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:47,880 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:50,003 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:52,157 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:54,276 - WARNING - Project ctest-TestBasicVMVN-17660133 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-17660133', 'ctest-vn-44365568'], 'href': 'https://192.168.7.34:8082/virtual-network/37b7d49d-917b-42a2-80de-0911ad59e7b5', 'uuid': '37b7d49d-917b-42a2-80de-0911ad59e7b5'}] before deletion
2021-02-22 05:26:54,277 - WARNING - One or more references still present, will not delete the project ctest-TestBasicVMVN-17660133
2021-02-22 05:29:15,892 - DEBUG - [192.168.7.20]: Running cmd : hostname
2021-02-22 05:29:16,877 - DEBUG - Output : noden20
2021-02-22 05:29:16,877 - DEBUG - [192.168.7.20]: Running cmd : hostname -f
2021-02-22 05:29:16,999 - DEBUG - Output : noden20.maas
2021-02-22 05:29:16,999 - DEBUG - [192.168.7.20]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-22 05:29:17,225 - DEBUG - Output : NAMES
webui_job_1
webui_web_1
analyticssnmp_snmp-collector_1
analyticssnmp_topology_1
analyticssnmp_nodemgr_1
analyticsalarm_kafka_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analytics_api_1
analytics_nodemgr_1
analytics_collector_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
redis_stunnel_1
redis_redis_1
control_named_1
control_nodemgr_1
control_dns_1
control_control_1
configdatabase_zookeeper_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_schema_1
configapi_svcmonitor_1
configapi_api_1
2021-02-22 05:29:17,225 - DEBUG - [192.168.7.20]: Running cmd : getent hosts 192.168.7.20 | head -n 1 | awk '{print $2}'
2021-02-22 05:29:17,344 - DEBUG - Output : noden20.maas
2021-02-22 05:29:17,345 - DEBUG - [192.168.7.20]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-22 05:29:17,474 - DEBUG - Output : 192.168.27.20/24
172.17.0.1/16
192.168.7.20/24
2021-02-22 05:29:17,475 - DEBUG - [192.168.7.29]: Running cmd : hostname
2021-02-22 05:29:18,526 - DEBUG - Output : noden29
2021-02-22 05:29:18,527 - DEBUG - [192.168.7.29]: Running cmd : hostname -f
2021-02-22 05:29:18,634 - DEBUG - Output : noden29.maas
2021-02-22 05:29:18,635 - DEBUG - [192.168.7.29]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-22 05:29:18,858 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
webui_job_1
webui_web_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticsdatabase_cassandra_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
contrailkubernetesmaster_kubemanager_1
redis_stunnel_1
redis_redis_1
control_named_1
control_control_1
control_nodemgr_1
control_dns_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configdatabase_zookeeper_1
configapi_devicemgr_1
configapi_nodemgr_1
configapi_api_1
configapi_schema_1
configapi_svcmonitor_1
configapi_dnsmasq_1
2021-02-22 05:29:18,859 - DEBUG - [192.168.7.29]: Running cmd : getent hosts 192.168.7.29 | head -n 1 | awk '{print $2}'
2021-02-22 05:29:18,960 - DEBUG - Output : noden29.maas
2021-02-22 05:29:18,960 - DEBUG - [192.168.7.29]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-22 05:29:19,071 - DEBUG - Output : 192.168.7.29/24
172.17.0.1/16
192.168.27.29/24
2021-02-22 05:29:19,267 - DEBUG - [192.168.7.34]: Running cmd : hostname
2021-02-22 05:29:20,376 - DEBUG - Output : nodei34
2021-02-22 05:29:20,376 - DEBUG - [192.168.7.34]: Running cmd : hostname -f
2021-02-22 05:29:20,479 - DEBUG - Output : nodei34.maas
2021-02-22 05:29:20,479 - DEBUG - [192.168.7.34]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-22 05:29:20,690 - DEBUG - Output : NAMES
webui_web_1
webui_job_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
redis_redis_1
redis_stunnel_1
control_named_1
control_dns_1
control_nodemgr_1
control_control_1
configdatabase_cassandra_1
configdatabase_zookeeper_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_schema_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_api_1
configapi_svcmonitor_1
2021-02-22 05:29:20,691 - DEBUG - [192.168.7.34]: Running cmd : getent hosts 192.168.7.34 | head -n 1 | awk '{print $2}'
2021-02-22 05:29:20,803 - DEBUG - Output : nodei34.maas
2021-02-22 05:29:20,803 - DEBUG - [192.168.7.34]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-22 05:29:20,892 - DEBUG - Output : 192.168.7.34/24
192.168.27.34/24
172.17.0.1/16
2021-02-22 05:29:20,893 - DEBUG - [192.168.7.19]: Running cmd : hostname
2021-02-22 05:29:21,853 - DEBUG - Output : noden19
2021-02-22 05:29:21,854 - DEBUG - [192.168.7.19]: Running cmd : hostname -f
2021-02-22 05:29:21,956 - DEBUG - Output : noden19.maas
2021-02-22 05:29:21,956 - DEBUG - [192.168.7.19]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-22 05:29:22,118 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
k8s_nginx_nginx_default_e122a4d5-13d3-4b5c-a917-c375f5a0cafa_0
k8s_cirros_cirros_default_17de7c97-01cd-4350-8401-3c2249528561_0
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_23
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_22
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-hcvxs_kube-system_64575096-0773-4881-8bba-f16559ca5fd6_0
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-4gj79_kube-system_83e45f58-f119-4828-9b80-a681ecebeb2b_0
2021-02-22 05:29:22,118 - DEBUG - [192.168.7.19]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-22 05:29:22,222 - DEBUG - Output : 192.168.27.19/24
2021-02-22 05:29:22,223 - DEBUG - [192.168.7.19]: Running cmd : getent hosts 192.168.27.19 | head -n 1 | awk '{print $2}'
2021-02-22 05:29:22,327 - DEBUG - Output : noden19.maas
2021-02-22 05:29:22,328 - DEBUG - [192.168.7.9]: Running cmd : hostname
2021-02-22 05:29:23,003 - DEBUG - Output : nodec9
2021-02-22 05:29:23,003 - DEBUG - [192.168.7.9]: Running cmd : hostname -f
2021-02-22 05:29:23,071 - DEBUG - Output : nodec9.maas
2021-02-22 05:29:23,071 - DEBUG - [192.168.7.9]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-22 05:29:23,200 - DEBUG - Output : NAMES
vrouter_vrouter-agent_1
vrouter_nodemgr_1
2021-02-22 05:29:23,200 - DEBUG - [192.168.7.9]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-22 05:29:23,282 - DEBUG - Output : 192.168.27.9/24
2021-02-22 05:29:23,283 - DEBUG - [192.168.7.9]: Running cmd : getent hosts 192.168.27.9 | head -n 1 | awk '{print $2}'
2021-02-22 05:29:23,365 - DEBUG - Output : nodec9.maas
2021-02-22 05:29:23,366 - DEBUG - [192.168.7.18]: Running cmd : hostname
2021-02-22 05:29:23,748 - DEBUG - Output : noden18
2021-02-22 05:29:23,749 - DEBUG - [192.168.7.18]: Running cmd : hostname -f
2021-02-22 05:29:23,803 - DEBUG - Output : noden18.englab.juniper.net
2021-02-22 05:29:23,804 - DEBUG - [192.168.7.18]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-22 05:29:23,985 - DEBUG - Output : NAMES
nuthan_test8
nuthan_test2
nuthan_test7
tf_test
scale_test
nuthan_test
2021-02-22 05:29:26,304 - DEBUG - Not creating keypair since it exists
2021-02-22 05:29:26,378 - INFO - Reading existing Domain with UUID f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-22 05:29:26,974 - INFO - Using existing domain ['admin_domain'](f27c063f-c6c4-434f-a616-97e72e0043e5)
2021-02-22 05:29:27,228 - INFO - Project ctest-TestBasicVMVN-25263582 not found, creating it
2021-02-22 05:29:27,799 - INFO - Created Project:ctest-TestBasicVMVN-25263582, ID : 5dd97447-2de9-4d92-8efa-b64ad04d0da4 
2021-02-22 05:29:32,798 - INFO - ================================================================================
2021-02-22 05:29:32,798 - INFO - STARTING TEST    : test_ping_within_vn_two_vms_two_different_subnets
2021-02-22 05:29:32,799 - INFO - TEST DESCRIPTION : 
        Description:  Validate Ping between 2 VMs in the same VN, 2 VMs in different VN
        subnets.
        Test steps:
                1. Create 1 IPAM's.
                2. Create 1 VN with 2 subnets and launch 2 VMs in them.
                3. Ping between the VMs in the same VN should go thru fine.
                4. Ping to the subnet broadcast and all-broadcast address.
        Pass criteria: VM in the same subnet will respond to both the pings, while the VM in a different VN should respond only to the
                        all-broadcast address.
        Maintainer : ganeshahv@juniper.net
        
2021-02-22 05:29:34,108 - DEBUG - Skipping xmpp flap check
2021-02-22 05:29:34,108 - INFO - Initial checks done. Running the testcase now
2021-02-22 05:29:34,109 - INFO - 
2021-02-22 05:29:35,540 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'name': 'ctest-vn-48732097', 'admin_state_up': True, 'tenant_id': '5dd974472de94d928efab64ad04d0da4', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': '5dd974472de94d928efab64ad04d0da4', 'id': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'description': ''}}
2021-02-22 05:29:35,881 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'tenant_id': '5dd974472de94d928efab64ad04d0da4', 'created_at': '2021-02-22T05:29:35.247279', 'dns_nameservers': [], 'updated_at': '2021-02-22T05:29:35.247279', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '31.1.1.2', 'end': '31.1.1.6'}], 'gateway_ip': '31.1.1.1', 'dns_server_address': '31.1.1.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '31.1.1.0/29', 'id': '3ff63515-589a-4c38-a42f-2415d89c14a2'}}
2021-02-22 05:31:06,167 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:08,278 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:10,390 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:12,500 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:14,607 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:16,718 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:18,818 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:20,935 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:23,066 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:25,190 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:27,315 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:29,436 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:31,555 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:33,663 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:35,924 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:38,037 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:40,164 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:42,296 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:44,417 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:46,536 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:48,654 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:50,775 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:52,894 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:55,019 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:57,123 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:31:59,242 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:32:01,364 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:32:03,470 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:32:05,592 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:32:07,720 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:32:09,829 - WARNING - Project ctest-TestBasicVMVN-25263582 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-25263582', 'ctest-vn-48732097'], 'href': 'https://192.168.7.34:8082/virtual-network/9abea1e7-bc91-4dcf-ab4a-54cae13c38b2', 'uuid': '9abea1e7-bc91-4dcf-ab4a-54cae13c38b2'}] before deletion
2021-02-22 05:32:09,830 - WARNING - One or more references still present, will not delete the project ctest-TestBasicVMVN-25263582
2021-02-23 05:54:13,151 - INFO - Reading existing Domain with UUID f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-23 05:54:13,183 - INFO - Using existing domain ['admin_domain'](f27c063f-c6c4-434f-a616-97e72e0043e5)
2021-02-23 05:54:13,624 - INFO - Project ctest-TestBasicVMVN-47138812 not found, creating it
2021-02-23 05:54:14,420 - INFO - Created Project:ctest-TestBasicVMVN-47138812, ID : 7daf236d-09d6-4f9b-91e3-724f697684cd 
2021-02-23 05:54:21,235 - INFO - ================================================================================
2021-02-23 05:54:21,236 - INFO - STARTING TEST    : test_generic_link_local_service
2021-02-23 05:54:21,236 - INFO - TEST DESCRIPTION : 
        Description: Test to validate generic linklocal service - running nova list from vm.
            1.Create generic link local service to be able to wget to jenkins
            2.Create a vm
            3.Try wget to jenkins - passes if successful else fails

        Maintainer: sandipd@juniper.net
        
2021-02-23 05:54:24,426 - DEBUG - Nothing to compare xmpp stats {'192.168.7.19': {'192.168.27.20': '0', '192.168.27.34': '0'}, '192.168.7.9': {'192.168.27.20': '0', '192.168.27.34': '0'}} with
2021-02-23 05:54:24,427 - INFO - Initial checks done. Running the testcase now
2021-02-23 05:54:24,427 - INFO - 
2021-02-23 05:54:26,969 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'name': 'ctest-vn2_metadata-72350972', 'admin_state_up': True, 'tenant_id': '7daf236d09d64f9b91e3724f697684cd', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': '7daf236d09d64f9b91e3724f697684cd', 'id': 'e8cd7223-9add-41da-94c6-86080774071b', 'description': ''}}
2021-02-23 05:55:58,296 - ERROR - ConnectFailure
Python 3.6.8: /usr/bin/python3
Tue Feb 23 05:55:56 2021

A problem occurred in a Python script.  Here is the sequence of
function calls leading up to the error, in the order they occurred.

 /contrail-test/tcutils/wrappers.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fc7c4fcce10>, *args=(), **kwargs={})
   80             log.info('Initial checks done. Running the testcase now')
   81             log.info('')
   82             result = function(self, *args, **kwargs)
   83             if self.inputs.upgrade:
   84                 pid = os.getpid()
result = None
function = <function TestBasicVMVN.test_generic_link_local_service>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fc7c4fcce10>
args = ()
kwargs = {}

 /contrail-test/tcutils/util.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fc7c4fcce10>, *func_args=(), **func_kwargs={})
 1127                     msg = "Skipped as not supported in non remote compute setup"
 1128                     raise testtools.TestCase.skipException(msg)
 1129             return f(self, *func_args, **func_kwargs)
 1130         return wrapper
 1131     return decorator
f = <function TestBasicVMVN.test_generic_link_local_service>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fc7c4fcce10>
func_args = ()
func_kwargs = {}

 /contrail-test/scripts/vm_regression/test_vm_basic.py in test_generic_link_local_service(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fc7c4fcce10>)
  290             VNFixture(
  291                 project_name=self.inputs.project_name, connections=self.connections,
  292                 vn_name=vn_name, inputs=self.inputs, subnets=vn_subnets))
  293         vn_obj = vn_fixture.obj
  294         vm1_fixture = self.create_vm(vn_ids=[vn_fixture.uuid], image_name='cirros')
vn_name = 'ctest-vn2_metadata-72350972'
inputs undefined
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fc7c4fcce10>
self.inputs = <common.contrail_test_init.ContrailTestInit object>
subnets undefined
vn_subnets = ['11.1.1.0/24']

 /usr/local/lib/python3.6/site-packages/testtools/testcase.py in useFixture(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fc7c4fcce10>, fixture=<vn_test.VNFixture object>)
  754                 # Gather_details worked, so raise the exception setUp
  755                 # encountered.
  756                 reraise(*exc_info)
  757         else:
  758             self.addCleanup(fixture.cleanUp)
global reraise = <function reraise>
exc_info = (<class 'keystoneauth1.exceptions.connection.ConnectFailure'>, ConnectFailure("Unable to establish connection t...ote end closed connection without response',))",), <traceback object>)

 /usr/local/lib/python3.6/site-packages/testtools/_compat3x.py in reraise(exc_class=<class 'keystoneauth1.exceptions.connection.ConnectFailure'>, exc_obj=ConnectFailure("Unable to establish connection t...ote end closed connection without response',))",), exc_tb=<traceback object>, _marker=<object object>)
   13 
   14 def reraise(exc_class, exc_obj, exc_tb, _marker=object()):
   15     """Re-raise an exception received from sys.exc_info() or similar."""
   16     raise exc_obj.with_traceback(exc_tb)
   17 
exc_obj = ConnectFailure("Unable to establish connection t...ote end closed connection without response',))",)
exc_obj.with_traceback = <built-in method with_traceback of ConnectFailure object>
exc_tb = <traceback object>

 /usr/local/lib/python3.6/site-packages/testtools/testcase.py in useFixture(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fc7c4fcce10>, fixture=<vn_test.VNFixture object>)
  729         """
  730         try:
  731             fixture.setUp()
  732         except MultipleExceptions as e:
  733             if (fixtures is not None and
fixture = <vn_test.VNFixture object>
fixture.setUp = <bound method VNFixture.setUp of <vn_test.VNFixture object>>

 /contrail-test/fixtures/vn_test.py in setUp(self=<vn_test.VNFixture object>)
  442     def setUp(self):
  443         super(VNFixture, self).setUp()
  444         self.create()
  445 
  446     def create(self):
self = <vn_test.VNFixture object>
self.create = <bound method VNFixture.create of <vn_test.VNFixture object>>

 /contrail-test/fixtures/vn_test.py in create(self=<vn_test.VNFixture object>)
  455             self._create_vn_api(self.vn_name, self.project_obj)
  456         else:
  457             self._create_vn_orch()
  458         if not self.obj:
  459              self.logger.debug('VN %s not present' % (self.vn_name))
self = <vn_test.VNFixture object>
self._create_vn_orch = <bound method VNFixture._create_vn_orch of <vn_test.VNFixture object>>

 /contrail-test/fixtures/vn_test.py in _create_vn_orch(self=<vn_test.VNFixture object>)
  313                                                 sriov_provider_network=self.sriov_provider_network,
  314                                                 disable_gateway=self.disable_gateway,
  315                                                 dns_nameservers_list=self.dns_nameservers_list)
  316                 if self.obj:
  317                     self.logger.info('Created VN %s' %(self.vn_name))
dns_nameservers_list undefined
self = <vn_test.VNFixture object>
self.dns_nameservers_list = None

 /contrail-test/fixtures/openstack.py in create_vn(self=<openstack.OpenstackOrchestrator object>, name='ctest-vn2_metadata-72350972', subnets=[{'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}], option='orch', **kwargs={'disable_gateway': False, 'dns_nameservers_list': None, 'enable_dhcp': True, 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'router_external': False, 'shared': False, 'sriov_enable': False, 'sriov_provider_network': None, 'sriov_vlan': None})
  184 
  185    def create_vn(self, name, subnets, option='orch', **kwargs):
  186        return self.quantum_h.create_network(name, subnets, **kwargs)
  187 
  188    def delete_vn(self, vn_obj, option='orch', **kwargs):
self = <openstack.OpenstackOrchestrator object>
self.quantum_h = <quantum_test.QuantumHelper object>
self.quantum_h.create_network = <bound method QuantumHelper.create_network of <quantum_test.QuantumHelper object>>
name = 'ctest-vn2_metadata-72350972'
subnets = [{'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}]
kwargs = {'disable_gateway': False, 'dns_nameservers_list': None, 'enable_dhcp': True, 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'router_external': False, 'shared': False, 'sriov_enable': False, 'sriov_provider_network': None, 'sriov_vlan': None}

 /contrail-test/fixtures/quantum_test.py in create_network(self=<quantum_test.QuantumHelper object>, vn_name='ctest-vn2_metadata-72350972', vn_subnets=[{'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}], ipam_fq_name=['default-domain', 'default-project', 'default-network-ipam'], shared=False, router_external=False, enable_dhcp=True, sriov_enable=False, sriov_vlan=None, sriov_provider_network=None, dns_nameservers_list=None, disable_gateway=False)
  107                 for subnet in vn_subnets:
  108                     net_rsp = self.create_subnet(
  109                         subnet, net_id, ipam_fq_name, enable_dhcp, disable_gateway,dns_nameservers_list)
  110             # end for
  111             return self.obj.show_network(network=net_id)
subnet = {'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}
net_id = 'e8cd7223-9add-41da-94c6-86080774071b'
ipam_fq_name = ['default-domain', 'default-project', 'default-network-ipam']
enable_dhcp = True
disable_gateway = False
dns_nameservers_list = None

 /contrail-test/fixtures/quantum_test.py in create_subnet(self=<quantum_test.QuantumHelper object>, subnet={'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}, net_id='e8cd7223-9add-41da-94c6-86080774071b', ipam_fq_name=['default-domain', 'default-project', 'default-network-ipam'], enable_dhcp=True, disable_gateway=False, dns_nameservers_list=None)
  127            subnet_req['gateway_ip'] = None
  128         try:
  129             subnet_rsp = self.obj.create_subnet({'subnet': subnet_req})
  130             self.logger.debug(
  131                 'Response for create_subnet : ' +
subnet_rsp undefined
self = <quantum_test.QuantumHelper object>
self.obj = <neutronclient.v2_0.client.Client object>
self.obj.create_subnet = <bound method Client.create_subnet of <neutronclient.v2_0.client.Client object>>
subnet_req = {'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}

 /usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py in create_subnet(self=<neutronclient.v2_0.client.Client object>, body={'subnet': {'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}})
  846     def create_subnet(self, body=None):
  847         """Creates a new subnet."""
  848         return self.post(self.subnets_path, body=body)
  849 
  850     def update_subnet(self, subnet, body=None, revision_number=None):
self = <neutronclient.v2_0.client.Client object>
self.post = <bound method ClientBase.post of <neutronclient.v2_0.client.Client object>>
self.subnets_path = '/subnets'
body = {'subnet': {'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}}

 /usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py in post(self=<neutronclient.v2_0.client.Client object>, action='/subnets', body={'subnet': {'cidr': '11.1.1.0/24', 'enable_dhcp': True, 'ip_version': '4', 'ipam_fq_name': ['default-domain', 'default-project', 'default-network-ipam'], 'network_id': 'e8cd7223-9add-41da-94c6-86080774071b'}}, headers=None, params=None)
  357         # Do not retry POST requests to avoid the orphan objects problem.
  358         return self.do_request("POST", action, body=body,
  359                                headers=headers, params=params)
  360 
  361     def put(self, action, body=None, headers=None, params=None):
headers = None
params = None

 /usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py in do_request(self=<neutronclient.v2_0.client.Client object>, method='POST', action='/v2.0/subnets', body='{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', headers=None, params=None)
  280 
  281         resp, replybody = self.httpclient.do_request(action, method, body=body,
  282                                                      headers=headers)
  283 
  284         status_code = resp.status_code
headers = None

 /usr/local/lib/python3.6/site-packages/neutronclient/client.py in do_request(self=<neutronclient.client.SessionClient object>, url='/v2.0/subnets', method='POST', **kwargs={'authenticated': True, 'body': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'headers': None})
  338         kwargs.setdefault('authenticated', True)
  339         self._check_uri_length(url)
  340         return self.request(url, method, **kwargs)
  341 
  342     @property
self = <neutronclient.client.SessionClient object>
self.request = <bound method SessionClient.request of <neutronclient.client.SessionClient object>>
url = '/v2.0/subnets'
method = 'POST'
kwargs = {'authenticated': True, 'body': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'headers': None}

 /usr/local/lib/python3.6/site-packages/neutronclient/client.py in request(self=<neutronclient.client.SessionClient object>, *args=('/v2.0/subnets', 'POST'), **kwargs={'authenticated': True, 'data': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'raise_exc': False})
  326 
  327         kwargs['headers'] = headers
  328         resp = super(SessionClient, self).request(*args, **kwargs)
  329         return resp, resp.text
  330 
resp undefined
builtinsuper = <class 'super'>
global SessionClient = <class 'neutronclient.client.SessionClient'>
self = <neutronclient.client.SessionClient object>
).request = <bound method SessionClient.request of <neutronclient.client.SessionClient object>>
args = ('/v2.0/subnets', 'POST')
kwargs = {'authenticated': True, 'data': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'raise_exc': False}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py in request(self=<neutronclient.client.SessionClient object>, url='/v2.0/subnets', method='POST', **kwargs={'authenticated': True, 'data': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'endpoint_filter': {'interface': 'public', 'region_name': 'RegionOne', 'service_type': 'network'}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'raise_exc': False, 'rate_semaphore': <keystoneauth1._fair_semaphore.FairSemaphore object>, 'user_agent': 'python-neutronclient'})
  246             kwargs.setdefault('raise_exc', self.raise_exc)
  247 
  248         return self.session.request(url, method, **kwargs)
  249 
  250     def get_token(self, auth=None):
self = <neutronclient.client.SessionClient object>
self.session = <keystoneauth1.session.Session object>
self.session.request = <bound method Session.request of <keystoneauth1.session.Session object>>
url = '/v2.0/subnets'
method = 'POST'
kwargs = {'authenticated': True, 'data': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'endpoint_filter': {'interface': 'public', 'region_name': 'RegionOne', 'service_type': 'network'}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'raise_exc': False, 'rate_semaphore': <keystoneauth1._fair_semaphore.FairSemaphore object>, 'user_agent': 'python-neutronclient'}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/session.py in request(self=<keystoneauth1.session.Session object>, url='http://192.168.7.31:9696/v2.0/subnets', method='POST', json=None, original_ip=None, user_agent='python-neutronclient', redirect=30, authenticated=True, endpoint_filter={'interface': 'public', 'region_name': 'RegionOne', 'service_type': 'network'}, auth=None, requests_auth=None, raise_exc=False, allow_reauth=True, log=True, endpoint_override=None, connect_retries=0, logger=<Logger keystoneauth.session (WARNING)>, allow=None, client_name=None, client_version=None, microversion=None, microversion_service_type=None, status_code_retries=0, retriable_status_codes=[503], rate_semaphore=<keystoneauth1._fair_semaphore.FairSemaphore object>, global_request_id=None, connect_retry_delay=None, status_code_retry_delay=None, **kwargs={'allow_redirects': False, 'cert': (None, None), 'data': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'verify': False})
  911                 kwargs.update(connection_params)
  912 
  913         resp = send(**kwargs)
  914 
  915         # log callee and caller request-id for each api call
resp undefined
send = functools.partial(<bound method Session._send_re...auth1.session._Retries object at 0x7fc7bf478cf8>)
kwargs = {'allow_redirects': False, 'cert': (None, None), 'data': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'verify': False}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/session.py in _send_request(self=<keystoneauth1.session.Session object>, url='http://192.168.7.31:9696/v2.0/subnets', method='POST', redirect=30, log=True, logger=<Logger keystoneauth.session (WARNING)>, split_loggers=None, connect_retries=0, status_code_retries=0, retriable_status_codes=[503], rate_semaphore=<keystoneauth1._fair_semaphore.FairSemaphore object>, connect_retry_delays=<keystoneauth1.session._Retries object>, status_code_retry_delays=<keystoneauth1.session._Retries object>, **kwargs={'allow_redirects': False, 'cert': (None, None), 'data': '{"subnet": {"cidr": "11.1.1.0/24", "network_id":...in", "default-project", "default-network-ipam"]}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'verify': False})
 1018                 # and firewall blocking.
 1019                 msg = 'Unable to establish connection to %s: %s' % (url, e)
 1020                 raise exceptions.ConnectFailure(msg)
 1021             except requests.exceptions.RequestException as e:
 1022                 msg = 'Unexpected exception for %(url)s: %(error)s' % {
global exceptions = <module 'keystoneauth1.exceptions' from '/usr/lo...e-packages/keystoneauth1/exceptions/__init__.py'>
exceptions.ConnectFailure = <class 'keystoneauth1.exceptions.connection.ConnectFailure'>
msg = "Unable to establish connection to http://192.168...Remote end closed connection without response',))"
ConnectFailure: Unable to establish connection to http://192.168.7.31:9696/v2.0/subnets: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))
    __cause__ = None
    __class__ = <class 'keystoneauth1.exceptions.connection.ConnectFailure'>
    __context__ = ConnectionError(ProtocolError('Connection aborte...mote end closed connection without response',)),)
    __delattr__ = <method-wrapper '__delattr__' of ConnectFailure object>
    __dict__ = {'message': "Unable to establish connection to http://192.168...Remote end closed connection without response',))"}
    __dir__ = <built-in method __dir__ of ConnectFailure object>
    __doc__ = None
    __eq__ = <method-wrapper '__eq__' of ConnectFailure object>
    __format__ = <built-in method __format__ of ConnectFailure object>
    __ge__ = <method-wrapper '__ge__' of ConnectFailure object>
    __getattribute__ = <method-wrapper '__getattribute__' of ConnectFailure object>
    __gt__ = <method-wrapper '__gt__' of ConnectFailure object>
    __hash__ = <method-wrapper '__hash__' of ConnectFailure object>
    __init__ = <bound method ClientException.__init__ of Connec...te end closed connection without response',))",)>
    __init_subclass__ = <built-in method __init_subclass__ of type object>
    __le__ = <method-wrapper '__le__' of ConnectFailure object>
    __lt__ = <method-wrapper '__lt__' of ConnectFailure object>
    __module__ = 'keystoneauth1.exceptions.connection'
    __ne__ = <method-wrapper '__ne__' of ConnectFailure object>
    __new__ = <built-in method __new__ of type object>
    __reduce__ = <built-in method __reduce__ of ConnectFailure object>
    __reduce_ex__ = <built-in method __reduce_ex__ of ConnectFailure object>
    __repr__ = <method-wrapper '__repr__' of ConnectFailure object>
    __setattr__ = <method-wrapper '__setattr__' of ConnectFailure object>
    __setstate__ = <built-in method __setstate__ of ConnectFailure object>
    __sizeof__ = <built-in method __sizeof__ of ConnectFailure object>
    __str__ = <method-wrapper '__str__' of ConnectFailure object>
    __subclasshook__ = <built-in method __subclasshook__ of type object>
    __suppress_context__ = False
    __traceback__ = <traceback object>
    __weakref__ = None
    args = ("Unable to establish connection to http://192.168...Remote end closed connection without response',))",)
    message = "Unable to establish connection to http://192.168...Remote end closed connection without response',))"
    with_traceback = <built-in method with_traceback of ConnectFailure object>

The above is a description of an error in a Python program.  Here is
the original traceback:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1346, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 307, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 276, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "/usr/local/lib/python3.6/site-packages/urllib3/util/retry.py", line 400, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/usr/local/lib/python3.6/site-packages/urllib3/packages/six.py", line 734, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1346, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 307, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 276, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 1004, in _send_request
    resp = self.session.request(method, url, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/contrail-test/tcutils/wrappers.py", line 82, in wrapper
    result = function(self, *args, **kwargs)
  File "/contrail-test/tcutils/util.py", line 1129, in wrapper
    return f(self, *func_args, **func_kwargs)
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 292, in test_generic_link_local_service
    vn_name=vn_name, inputs=self.inputs, subnets=vn_subnets))
  File "/usr/local/lib/python3.6/site-packages/testtools/testcase.py", line 756, in useFixture
    reraise(*exc_info)
  File "/usr/local/lib/python3.6/site-packages/testtools/_compat3x.py", line 16, in reraise
    raise exc_obj.with_traceback(exc_tb)
  File "/usr/local/lib/python3.6/site-packages/testtools/testcase.py", line 731, in useFixture
    fixture.setUp()
  File "/contrail-test/fixtures/vn_test.py", line 444, in setUp
    self.create()
  File "/contrail-test/fixtures/vn_test.py", line 457, in create
    self._create_vn_orch()
  File "/contrail-test/fixtures/vn_test.py", line 315, in _create_vn_orch
    dns_nameservers_list=self.dns_nameservers_list)
  File "/contrail-test/fixtures/openstack.py", line 186, in create_vn
    return self.quantum_h.create_network(name, subnets, **kwargs)
  File "/contrail-test/fixtures/quantum_test.py", line 109, in create_network
    subnet, net_id, ipam_fq_name, enable_dhcp, disable_gateway,dns_nameservers_list)
  File "/contrail-test/fixtures/quantum_test.py", line 129, in create_subnet
    subnet_rsp = self.obj.create_subnet({'subnet': subnet_req})
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 848, in create_subnet
    return self.post(self.subnets_path, body=body)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 359, in post
    headers=headers, params=params)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 282, in do_request
    headers=headers)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/client.py", line 340, in do_request
    return self.request(url, method, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/client.py", line 328, in request
    resp = super(SessionClient, self).request(*args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 248, in request
    return self.session.request(url, method, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 913, in request
    resp = send(**kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 1020, in _send_request
    raise exceptions.ConnectFailure(msg)
keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to http://192.168.7.31:9696/v2.0/subnets: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))



2021-02-23 05:55:58,338 - DEBUG - No XMPP flaps were noticed during the test
2021-02-23 05:55:58,338 - INFO - 
2021-02-23 05:55:58,338 - INFO - END TEST : test_generic_link_local_service : FAILED[0:01:37]
2021-02-23 05:55:58,338 - INFO - --------------------------------------------------------------------------------
2021-02-23 05:55:58,346 - INFO - ================================================================================
2021-02-23 05:55:58,347 - INFO - STARTING TEST    : test_ping_within_vn_two_vms_two_different_subnets
2021-02-23 05:55:58,347 - INFO - TEST DESCRIPTION : 
        Description:  Validate Ping between 2 VMs in the same VN, 2 VMs in different VN
        subnets.
        Test steps:
                1. Create 1 IPAM's.
                2. Create 1 VN with 2 subnets and launch 2 VMs in them.
                3. Ping between the VMs in the same VN should go thru fine.
                4. Ping to the subnet broadcast and all-broadcast address.
        Pass criteria: VM in the same subnet will respond to both the pings, while the VM in a different VN should respond only to the
                        all-broadcast address.
        Maintainer : ganeshahv@juniper.net
        
2021-02-23 05:55:59,688 - DEBUG - Nothing to compare xmpp stats {'192.168.7.19': {'192.168.27.20': '0', '192.168.27.34': '0'}, '192.168.7.9': {'192.168.27.20': '0', '192.168.27.34': '0'}} with
2021-02-23 05:55:59,688 - INFO - Initial checks done. Running the testcase now
2021-02-23 05:55:59,688 - INFO - 
2021-02-23 05:57:31,689 - ERROR - ConnectFailure
Python 3.6.8: /usr/bin/python3
Tue Feb 23 05:57:30 2021

A problem occurred in a Python script.  Here is the sequence of
function calls leading up to the error, in the order they occurred.

 /contrail-test/tcutils/wrappers.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fc7c4fccf98>, *args=(), **kwargs={})
   80             log.info('Initial checks done. Running the testcase now')
   81             log.info('')
   82             result = function(self, *args, **kwargs)
   83             if self.inputs.upgrade:
   84                 pid = os.getpid()
result = None
function = <function TestBasicVMVN.test_ping_within_vn_two_vms_two_different_subnets>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fc7c4fccf98>
args = ()
kwargs = {}

 /contrail-test/tcutils/util.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fc7c4fccf98>, *func_args=(), **func_kwargs={})
 1127                     msg = "Skipped as not supported in non remote compute setup"
 1128                     raise testtools.TestCase.skipException(msg)
 1129             return f(self, *func_args, **func_kwargs)
 1130         return wrapper
 1131     return decorator
f = <function TestBasicVMVN.test_ping_within_vn_two_vms_two_different_subnets>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fc7c4fccf98>
func_args = ()
func_kwargs = {}

 /contrail-test/scripts/vm_regression/test_vm_basic.py in test_ping_within_vn_two_vms_two_different_subnets(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fc7c4fccf98>)
  142         ipam_obj = self.create_ipam()
  143         vn1_fixture = self.create_vn(vn_subnets=vn1_subnets,
  144                                      ipam_fq_name=ipam_obj.fq_name)
  145 
  146         subnet_objects = vn1_fixture.get_subnets()
ipam_fq_name undefined
ipam_obj = <ipam_test.IPAMFixture object>
ipam_obj.fq_name = ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-ipam-79863675']

 /contrail-test/common/base.py in create_vn(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fc7c4fccf98>, vn_name=None, vn_subnets=['31.1.1.0/29', '31.1.2.0/29'], cleanup=True, **kwargs={'ipam_fq_name': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-ipam-79863675']})
  202         vn_fixture = self.create_only_vn(vn_name=vn_name,
  203                                      vn_subnets=vn_subnets,
  204                                      **kwargs)
  205         if cleanup:
  206             self.addCleanup(vn_fixture.cleanUp)
kwargs = {'ipam_fq_name': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-ipam-79863675']}

 /contrail-test/common/base.py in create_only_vn(cls=<class 'scripts.vm_regression.test_vm_basic.TestBasicVMVN'>, vn_name='ctest-vn-55666063', vn_subnets=['31.1.1.0/29', '31.1.2.0/29'], **kwargs={'ipam_fq_name': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-ipam-79863675']})
  195                       subnets=vn_subnets,
  196                       **kwargs)
  197         vn_fixture.setUp()
  198         return vn_fixture
  199     # end create_only_vn
vn_fixture = <vn_test.VNFixture object>
vn_fixture.setUp = <bound method VNFixture.setUp of <vn_test.VNFixture object>>

 /contrail-test/fixtures/vn_test.py in setUp(self=<vn_test.VNFixture object>)
  442     def setUp(self):
  443         super(VNFixture, self).setUp()
  444         self.create()
  445 
  446     def create(self):
self = <vn_test.VNFixture object>
self.create = <bound method VNFixture.create of <vn_test.VNFixture object>>

 /contrail-test/fixtures/vn_test.py in create(self=<vn_test.VNFixture object>)
  455             self._create_vn_api(self.vn_name, self.project_obj)
  456         else:
  457             self._create_vn_orch()
  458         if not self.obj:
  459              self.logger.debug('VN %s not present' % (self.vn_name))
self = <vn_test.VNFixture object>
self._create_vn_orch = <bound method VNFixture._create_vn_orch of <vn_test.VNFixture object>>

 /contrail-test/fixtures/vn_test.py in _create_vn_orch(self=<vn_test.VNFixture object>)
  313                                                 sriov_provider_network=self.sriov_provider_network,
  314                                                 disable_gateway=self.disable_gateway,
  315                                                 dns_nameservers_list=self.dns_nameservers_list)
  316                 if self.obj:
  317                     self.logger.info('Created VN %s' %(self.vn_name))
dns_nameservers_list undefined
self = <vn_test.VNFixture object>
self.dns_nameservers_list = None

 /contrail-test/fixtures/openstack.py in create_vn(self=<openstack.OpenstackOrchestrator object>, name='ctest-vn-55666063', subnets=[{'cidr': '31.1.1.0/29'}, {'cidr': '31.1.2.0/29'}], option='orch', **kwargs={'disable_gateway': False, 'dns_nameservers_list': None, 'enable_dhcp': True, 'ipam_fq_name': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-ipam-79863675'], 'router_external': False, 'shared': False, 'sriov_enable': False, 'sriov_provider_network': None, 'sriov_vlan': None})
  184 
  185    def create_vn(self, name, subnets, option='orch', **kwargs):
  186        return self.quantum_h.create_network(name, subnets, **kwargs)
  187 
  188    def delete_vn(self, vn_obj, option='orch', **kwargs):
self = <openstack.OpenstackOrchestrator object>
self.quantum_h = <quantum_test.QuantumHelper object>
self.quantum_h.create_network = <bound method QuantumHelper.create_network of <quantum_test.QuantumHelper object>>
name = 'ctest-vn-55666063'
subnets = [{'cidr': '31.1.1.0/29'}, {'cidr': '31.1.2.0/29'}]
kwargs = {'disable_gateway': False, 'dns_nameservers_list': None, 'enable_dhcp': True, 'ipam_fq_name': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-ipam-79863675'], 'router_external': False, 'shared': False, 'sriov_enable': False, 'sriov_provider_network': None, 'sriov_vlan': None}

 /contrail-test/fixtures/quantum_test.py in create_network(self=<quantum_test.QuantumHelper object>, vn_name='ctest-vn-55666063', vn_subnets=[{'cidr': '31.1.1.0/29'}, {'cidr': '31.1.2.0/29'}], ipam_fq_name=['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-ipam-79863675'], shared=False, router_external=False, enable_dhcp=True, sriov_enable=False, sriov_vlan=None, sriov_provider_network=None, dns_nameservers_list=None, disable_gateway=False)
   99                 net_req['provider:physical_network'] = sriov_provider_network
  100                 net_req['provider:segmentation_id'] = sriov_vlan
  101             net_rsp = self.obj.create_network({'network': net_req})
  102             self.logger.debug('Response for create_network : ' + repr(net_rsp))
  103 
net_rsp undefined
self = <quantum_test.QuantumHelper object>
self.obj = <neutronclient.v2_0.client.Client object>
self.obj.create_network = <bound method Client.create_network of <neutronclient.v2_0.client.Client object>>
net_req = {'name': 'ctest-vn-55666063'}

 /usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py in create_network(self=<neutronclient.v2_0.client.Client object>, body={'network': {'name': 'ctest-vn-55666063'}})
  824     def create_network(self, body=None):
  825         """Creates a new network."""
  826         return self.post(self.networks_path, body=body)
  827 
  828     def update_network(self, network, body=None, revision_number=None):
self = <neutronclient.v2_0.client.Client object>
self.post = <bound method ClientBase.post of <neutronclient.v2_0.client.Client object>>
self.networks_path = '/networks'
body = {'network': {'name': 'ctest-vn-55666063'}}

 /usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py in post(self=<neutronclient.v2_0.client.Client object>, action='/networks', body={'network': {'name': 'ctest-vn-55666063'}}, headers=None, params=None)
  357         # Do not retry POST requests to avoid the orphan objects problem.
  358         return self.do_request("POST", action, body=body,
  359                                headers=headers, params=params)
  360 
  361     def put(self, action, body=None, headers=None, params=None):
headers = None
params = None

 /usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py in do_request(self=<neutronclient.v2_0.client.Client object>, method='POST', action='/v2.0/networks', body='{"network": {"name": "ctest-vn-55666063"}}', headers=None, params=None)
  280 
  281         resp, replybody = self.httpclient.do_request(action, method, body=body,
  282                                                      headers=headers)
  283 
  284         status_code = resp.status_code
headers = None

 /usr/local/lib/python3.6/site-packages/neutronclient/client.py in do_request(self=<neutronclient.client.SessionClient object>, url='/v2.0/networks', method='POST', **kwargs={'authenticated': True, 'body': '{"network": {"name": "ctest-vn-55666063"}}', 'headers': None})
  338         kwargs.setdefault('authenticated', True)
  339         self._check_uri_length(url)
  340         return self.request(url, method, **kwargs)
  341 
  342     @property
self = <neutronclient.client.SessionClient object>
self.request = <bound method SessionClient.request of <neutronclient.client.SessionClient object>>
url = '/v2.0/networks'
method = 'POST'
kwargs = {'authenticated': True, 'body': '{"network": {"name": "ctest-vn-55666063"}}', 'headers': None}

 /usr/local/lib/python3.6/site-packages/neutronclient/client.py in request(self=<neutronclient.client.SessionClient object>, *args=('/v2.0/networks', 'POST'), **kwargs={'authenticated': True, 'data': '{"network": {"name": "ctest-vn-55666063"}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'raise_exc': False})
  326 
  327         kwargs['headers'] = headers
  328         resp = super(SessionClient, self).request(*args, **kwargs)
  329         return resp, resp.text
  330 
resp undefined
builtinsuper = <class 'super'>
global SessionClient = <class 'neutronclient.client.SessionClient'>
self = <neutronclient.client.SessionClient object>
).request = <bound method SessionClient.request of <neutronclient.client.SessionClient object>>
args = ('/v2.0/networks', 'POST')
kwargs = {'authenticated': True, 'data': '{"network": {"name": "ctest-vn-55666063"}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'raise_exc': False}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py in request(self=<neutronclient.client.SessionClient object>, url='/v2.0/networks', method='POST', **kwargs={'authenticated': True, 'data': '{"network": {"name": "ctest-vn-55666063"}}', 'endpoint_filter': {'interface': 'public', 'region_name': 'RegionOne', 'service_type': 'network'}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'raise_exc': False, 'rate_semaphore': <keystoneauth1._fair_semaphore.FairSemaphore object>, 'user_agent': 'python-neutronclient'})
  246             kwargs.setdefault('raise_exc', self.raise_exc)
  247 
  248         return self.session.request(url, method, **kwargs)
  249 
  250     def get_token(self, auth=None):
self = <neutronclient.client.SessionClient object>
self.session = <keystoneauth1.session.Session object>
self.session.request = <bound method Session.request of <keystoneauth1.session.Session object>>
url = '/v2.0/networks'
method = 'POST'
kwargs = {'authenticated': True, 'data': '{"network": {"name": "ctest-vn-55666063"}}', 'endpoint_filter': {'interface': 'public', 'region_name': 'RegionOne', 'service_type': 'network'}, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'raise_exc': False, 'rate_semaphore': <keystoneauth1._fair_semaphore.FairSemaphore object>, 'user_agent': 'python-neutronclient'}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/session.py in request(self=<keystoneauth1.session.Session object>, url='http://192.168.7.31:9696/v2.0/networks', method='POST', json=None, original_ip=None, user_agent='python-neutronclient', redirect=30, authenticated=True, endpoint_filter={'interface': 'public', 'region_name': 'RegionOne', 'service_type': 'network'}, auth=None, requests_auth=None, raise_exc=False, allow_reauth=True, log=True, endpoint_override=None, connect_retries=0, logger=<Logger keystoneauth.session (WARNING)>, allow=None, client_name=None, client_version=None, microversion=None, microversion_service_type=None, status_code_retries=0, retriable_status_codes=[503], rate_semaphore=<keystoneauth1._fair_semaphore.FairSemaphore object>, global_request_id=None, connect_retry_delay=None, status_code_retry_delay=None, **kwargs={'allow_redirects': False, 'cert': (None, None), 'data': '{"network": {"name": "ctest-vn-55666063"}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'verify': False})
  911                 kwargs.update(connection_params)
  912 
  913         resp = send(**kwargs)
  914 
  915         # log callee and caller request-id for each api call
resp undefined
send = functools.partial(<bound method Session._send_re...auth1.session._Retries object at 0x7fc7bf4789b0>)
kwargs = {'allow_redirects': False, 'cert': (None, None), 'data': '{"network": {"name": "ctest-vn-55666063"}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'verify': False}

 /usr/local/lib/python3.6/site-packages/keystoneauth1/session.py in _send_request(self=<keystoneauth1.session.Session object>, url='http://192.168.7.31:9696/v2.0/networks', method='POST', redirect=30, log=True, logger=<Logger keystoneauth.session (WARNING)>, split_loggers=None, connect_retries=0, status_code_retries=0, retriable_status_codes=[503], rate_semaphore=<keystoneauth1._fair_semaphore.FairSemaphore object>, connect_retry_delays=<keystoneauth1.session._Retries object>, status_code_retry_delays=<keystoneauth1.session._Retries object>, **kwargs={'allow_redirects': False, 'cert': (None, None), 'data': '{"network": {"name": "ctest-vn-55666063"}}', 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'python-neutronclient', 'X-Auth-Token': 'e4a7644624164bc681953a571c20a782'}, 'verify': False})
 1018                 # and firewall blocking.
 1019                 msg = 'Unable to establish connection to %s: %s' % (url, e)
 1020                 raise exceptions.ConnectFailure(msg)
 1021             except requests.exceptions.RequestException as e:
 1022                 msg = 'Unexpected exception for %(url)s: %(error)s' % {
global exceptions = <module 'keystoneauth1.exceptions' from '/usr/lo...e-packages/keystoneauth1/exceptions/__init__.py'>
exceptions.ConnectFailure = <class 'keystoneauth1.exceptions.connection.ConnectFailure'>
msg = "Unable to establish connection to http://192.168...Remote end closed connection without response',))"
ConnectFailure: Unable to establish connection to http://192.168.7.31:9696/v2.0/networks: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))
    __cause__ = None
    __class__ = <class 'keystoneauth1.exceptions.connection.ConnectFailure'>
    __context__ = ConnectionError(ProtocolError('Connection aborte...mote end closed connection without response',)),)
    __delattr__ = <method-wrapper '__delattr__' of ConnectFailure object>
    __dict__ = {'message': "Unable to establish connection to http://192.168...Remote end closed connection without response',))"}
    __dir__ = <built-in method __dir__ of ConnectFailure object>
    __doc__ = None
    __eq__ = <method-wrapper '__eq__' of ConnectFailure object>
    __format__ = <built-in method __format__ of ConnectFailure object>
    __ge__ = <method-wrapper '__ge__' of ConnectFailure object>
    __getattribute__ = <method-wrapper '__getattribute__' of ConnectFailure object>
    __gt__ = <method-wrapper '__gt__' of ConnectFailure object>
    __hash__ = <method-wrapper '__hash__' of ConnectFailure object>
    __init__ = <bound method ClientException.__init__ of Connec...te end closed connection without response',))",)>
    __init_subclass__ = <built-in method __init_subclass__ of type object>
    __le__ = <method-wrapper '__le__' of ConnectFailure object>
    __lt__ = <method-wrapper '__lt__' of ConnectFailure object>
    __module__ = 'keystoneauth1.exceptions.connection'
    __ne__ = <method-wrapper '__ne__' of ConnectFailure object>
    __new__ = <built-in method __new__ of type object>
    __reduce__ = <built-in method __reduce__ of ConnectFailure object>
    __reduce_ex__ = <built-in method __reduce_ex__ of ConnectFailure object>
    __repr__ = <method-wrapper '__repr__' of ConnectFailure object>
    __setattr__ = <method-wrapper '__setattr__' of ConnectFailure object>
    __setstate__ = <built-in method __setstate__ of ConnectFailure object>
    __sizeof__ = <built-in method __sizeof__ of ConnectFailure object>
    __str__ = <method-wrapper '__str__' of ConnectFailure object>
    __subclasshook__ = <built-in method __subclasshook__ of type object>
    __suppress_context__ = False
    __traceback__ = <traceback object>
    __weakref__ = None
    args = ("Unable to establish connection to http://192.168...Remote end closed connection without response',))",)
    message = "Unable to establish connection to http://192.168...Remote end closed connection without response',))"
    with_traceback = <built-in method with_traceback of ConnectFailure object>

The above is a description of an error in a Python program.  Here is
the original traceback:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1346, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 307, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 276, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/requests/adapters.py", line 449, in send
    timeout=timeout
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "/usr/local/lib/python3.6/site-packages/urllib3/util/retry.py", line 400, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/usr/local/lib/python3.6/site-packages/urllib3/packages/six.py", line 734, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/local/lib/python3.6/site-packages/urllib3/connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "/usr/lib64/python3.6/http/client.py", line 1346, in getresponse
    response.begin()
  File "/usr/lib64/python3.6/http/client.py", line 307, in begin
    version, status, reason = self._read_status()
  File "/usr/lib64/python3.6/http/client.py", line 276, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 1004, in _send_request
    resp = self.session.request(method, url, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/requests/adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/contrail-test/tcutils/wrappers.py", line 82, in wrapper
    result = function(self, *args, **kwargs)
  File "/contrail-test/tcutils/util.py", line 1129, in wrapper
    return f(self, *func_args, **func_kwargs)
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 144, in test_ping_within_vn_two_vms_two_different_subnets
    ipam_fq_name=ipam_obj.fq_name)
  File "/contrail-test/common/base.py", line 204, in create_vn
    **kwargs)
  File "/contrail-test/common/base.py", line 197, in create_only_vn
    vn_fixture.setUp()
  File "/contrail-test/fixtures/vn_test.py", line 444, in setUp
    self.create()
  File "/contrail-test/fixtures/vn_test.py", line 457, in create
    self._create_vn_orch()
  File "/contrail-test/fixtures/vn_test.py", line 315, in _create_vn_orch
    dns_nameservers_list=self.dns_nameservers_list)
  File "/contrail-test/fixtures/openstack.py", line 186, in create_vn
    return self.quantum_h.create_network(name, subnets, **kwargs)
  File "/contrail-test/fixtures/quantum_test.py", line 101, in create_network
    net_rsp = self.obj.create_network({'network': net_req})
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 826, in create_network
    return self.post(self.networks_path, body=body)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 359, in post
    headers=headers, params=params)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 282, in do_request
    headers=headers)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/client.py", line 340, in do_request
    return self.request(url, method, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/client.py", line 328, in request
    resp = super(SessionClient, self).request(*args, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/adapter.py", line 248, in request
    return self.session.request(url, method, **kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 913, in request
    resp = send(**kwargs)
  File "/usr/local/lib/python3.6/site-packages/keystoneauth1/session.py", line 1020, in _send_request
    raise exceptions.ConnectFailure(msg)
keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to http://192.168.7.31:9696/v2.0/networks: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))



2021-02-23 05:57:31,737 - DEBUG - No XMPP flaps were noticed during the test
2021-02-23 05:57:31,737 - INFO - 
2021-02-23 05:57:31,738 - INFO - END TEST : test_ping_within_vn_two_vms_two_different_subnets : FAILED[0:01:33]
2021-02-23 05:57:31,738 - INFO - --------------------------------------------------------------------------------
2021-02-23 05:57:31,871 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:33,979 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:36,111 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:38,222 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:40,334 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:42,438 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:44,548 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:46,661 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:48,770 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:50,887 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:52,998 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:55,113 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:57,219 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:57:59,336 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}] before deletion
2021-02-23 05:58:01,459 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:03,575 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:05,808 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:07,927 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:10,052 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:12,168 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:14,283 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:16,396 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:18,519 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:20,656 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:22,773 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:24,901 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:27,027 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:29,128 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:31,247 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:33,366 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:35,488 - WARNING - Project ctest-TestBasicVMVN-47138812 still has VNs [{'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn2_metadata-72350972'], 'href': 'https://192.168.7.34:8082/virtual-network/e8cd7223-9add-41da-94c6-86080774071b', 'uuid': 'e8cd7223-9add-41da-94c6-86080774071b'}, {'to': ['admin_domain', 'ctest-TestBasicVMVN-47138812', 'ctest-vn-55666063'], 'href': 'https://192.168.7.34:8082/virtual-network/0da19984-33fc-4f18-a078-1fd57b1a56c4', 'uuid': '0da19984-33fc-4f18-a078-1fd57b1a56c4'}] before deletion
2021-02-23 05:58:35,489 - WARNING - One or more references still present, will not delete the project ctest-TestBasicVMVN-47138812
2021-02-24 06:22:34,348 - INFO - Reading existing Domain with UUID f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-24 06:22:34,375 - INFO - Using existing domain ['admin_domain'](f27c063f-c6c4-434f-a616-97e72e0043e5)
2021-02-24 06:22:35,027 - INFO - Project ctest-TestBasicVMVN-80615006 not found, creating it
2021-02-24 06:22:35,738 - INFO - Created Project:ctest-TestBasicVMVN-80615006, ID : 19dc9b64-ccc7-47ad-85f7-390a7fe81276 
2021-02-24 06:22:44,206 - INFO - ================================================================================
2021-02-24 06:22:44,207 - INFO - STARTING TEST    : test_generic_link_local_service
2021-02-24 06:22:44,207 - INFO - TEST DESCRIPTION : 
        Description: Test to validate generic linklocal service - running nova list from vm.
            1.Create generic link local service to be able to wget to jenkins
            2.Create a vm
            3.Try wget to jenkins - passes if successful else fails

        Maintainer: sandipd@juniper.net
        
2021-02-24 06:22:45,525 - DEBUG - Nothing to compare xmpp stats {'192.168.7.19': {'192.168.27.20': '0', '192.168.27.34': '0'}, '192.168.7.9': {'192.168.27.20': '0', '192.168.27.34': '0'}} with
2021-02-24 06:22:45,525 - INFO - Initial checks done. Running the testcase now
2021-02-24 06:22:45,525 - INFO - 
2021-02-24 06:22:47,053 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-80615006', 'ctest-vn2_metadata-27811333'], 'name': 'ctest-vn2_metadata-27811333', 'admin_state_up': True, 'tenant_id': '19dc9b64ccc747ad85f7390a7fe81276', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': '19dc9b64ccc747ad85f7390a7fe81276', 'id': 'cb62ad3a-841d-491e-9cda-a3db3cb11542', 'description': ''}}
2021-02-24 06:22:47,416 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': 'cb62ad3a-841d-491e-9cda-a3db3cb11542', 'tenant_id': '19dc9b64ccc747ad85f7390a7fe81276', 'created_at': '2021-02-24T06:22:48.907826', 'dns_nameservers': [], 'updated_at': '2021-02-24T06:22:48.907826', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '11.1.1.2', 'end': '11.1.1.254'}], 'gateway_ip': '11.1.1.1', 'dns_server_address': '11.1.1.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '11.1.1.0/24', 'id': 'e996ff11-c41b-49a8-90aa-d1bc81086b2b'}}
2021-02-24 06:22:47,468 - INFO - Created VN ctest-vn2_metadata-27811333
2021-02-24 06:22:47,496 - DEBUG - VN ctest-vn2_metadata-27811333 UUID is cb62ad3a-841d-491e-9cda-a3db3cb11542
2021-02-24 06:22:48,035 - DEBUG - Services list from nova: [<Service: 1>, <Service: 3>, <Service: 4>, <Service: 16>]
2021-02-24 06:22:51,522 - INFO - VM ([<Server: ctest-TestBasicVMVN-80615006-51766463>]) created on node: (nodec9), Zone: (nova:nodec9)
2021-02-24 06:22:51,589 - DEBUG - Link local service introspect added
2021-02-24 06:22:51,668 - DEBUG - VM <Server: ctest-TestBasicVMVN-80615006-51766463> is still in BUILD state, Expected: ACTIVE
2021-02-24 06:22:56,931 - DEBUG - VM <Server: ctest-TestBasicVMVN-80615006-51766463> is still in BUILD state, Expected: ACTIVE
2021-02-24 06:23:02,146 - DEBUG - VM <Server: ctest-TestBasicVMVN-80615006-51766463> is in ACTIVE state now
2021-02-24 06:23:02,327 - INFO - Waiting for VM ctest-TestBasicVMVN-80615006-51766463 to be up..
2021-02-24 06:23:02,327 - INFO - VM name : ctest-TestBasicVMVN-80615006-51766463
2021-02-24 06:23:02,737 - DEBUG - VM ctest-TestBasicVMVN-80615006-51766463 ID is 39043b87-4f6f-4eb3-ae18-2a548cc2c257
2021-02-24 06:23:02,737 - DEBUG - VM ctest-TestBasicVMVN-80615006-51766463 launched on Node nodec9.maas
2021-02-24 06:23:02,942 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine/39043b87-4f6f-4eb3-ae18-2a548cc2c257
2021-02-24 06:23:04,227 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine/39043b87-4f6f-4eb3-ae18-2a548cc2c257
2021-02-24 06:23:04,308 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine-interface/7fd6b259-d4d4-4e04-b30b-469015bb9348
2021-02-24 06:23:07,587 - DEBUG - (True, 'PING 169.254.0.4 (169.254.0.4) 56(84) bytes of data.\r\n\r\n--- 169.254.0.4 ping statistics ---\r\n2 packets transmitted, 0 received, 100% packet loss, time 1014ms')
2021-02-24 06:23:07,587 - DEBUG - Ping to Metadata IP 169.254.0.4 of VM ctest-TestBasicVMVN-80615006-51766463 failed!
2021-02-24 06:23:07,628 - DEBUG - Gateway for vn admin_domain:ctest-TestBasicVMVN-80615006:ctest-vn2_metadata-27811333 is 11.1.1.1 and allocation pool is NOT set
2021-02-24 06:23:11,684 - DEBUG - (True, 'PING 169.254.0.4 (169.254.0.4) 56(84) bytes of data.\r\n\r\n--- 169.254.0.4 ping statistics ---\r\n2 packets transmitted, 0 received, 100% packet loss, time 1024ms')
2021-02-24 06:23:11,685 - DEBUG - Ping to Metadata IP 169.254.0.4 of VM ctest-TestBasicVMVN-80615006-51766463 failed!
2021-02-24 06:23:11,727 - DEBUG - Gateway for vn admin_domain:ctest-TestBasicVMVN-80615006:ctest-vn2_metadata-27811333 is 11.1.1.1 and allocation pool is NOT set
2021-02-24 06:23:13,754 - DEBUG - (True, 'PING 169.254.0.4 (169.254.0.4) 56(84) bytes of data.\r\n64 bytes from 169.254.0.4: icmp_seq=1 ttl=63 time=10.1 ms\r\n64 bytes from 169.254.0.4: icmp_seq=2 ttl=63 time=0.725 ms\r\n\r\n--- 169.254.0.4 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 1001ms\r\nrtt min/avg/max/mdev = 0.725/5.430/10.135/4.705 ms')
2021-02-24 06:23:13,754 - INFO - Ping to Metadata IP 169.254.0.4 of VM ctest-TestBasicVMVN-80615006-51766463 passed
2021-02-24 06:23:13,807 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 06:23:13,808 - DEBUG - Waiting to SSH to VM ctest-TestBasicVMVN-80615006-51766463, IP 11.1.1.3, Port 22
2021-02-24 06:23:13,834 - DEBUG - Error on ssh to cirros@169.254.0.4:22, result: /bin/bash: connect: Connection refused
/bin/bash: /dev/tcp/169.254.0.4/22: Connection refused {'failed': True, 'command': '(echo > /dev/tcp/169.254.0.4/22)', 'real_command': '/bin/bash -l -c "(echo > /dev/tcp/169.254.0.4/22)"', 'return_code': 1, 'succeeded': False, 'stderr': ''}
2021-02-24 06:23:14,161 - DEBUG - VM ctest-TestBasicVMVN-80615006-51766463 is NOT ready for SSH connections, VM status: ACTIVE
2021-02-24 06:23:19,161 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 06:23:19,162 - DEBUG - Waiting to SSH to VM ctest-TestBasicVMVN-80615006-51766463, IP 11.1.1.3, Port 22
2021-02-24 06:23:19,251 - DEBUG - VM ctest-TestBasicVMVN-80615006-51766463 is ready for SSH connections
2021-02-24 06:23:19,251 - INFO - Retry 0
2021-02-24 06:23:19,251 - DEBUG - Running remote_cmd, Cmd : wget http://169.254.1.2:8083 --spider && echo "Successful", host_string: cirros@169.254.0.4, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 06:23:19,252 - DEBUG - wget http://169.254.1.2:8083 --spider && echo "Successful"
2021-02-24 06:25:19,940 - ERROR - Unable to run command wget http://169.254.1.2:8083 --spider && echo "Successful": Command failed to finish in 120 seconds
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/paramiko/channel.py", line 699, in recv
    out = self.in_buffer.read(nbytes, self.timeout)
  File "/usr/local/lib/python3.6/site-packages/paramiko/buffered_pipe.py", line 164, in read
    raise PipeTimeout()
paramiko.buffered_pipe.PipeTimeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 83, in loop
    bytelist = self.read_func(self.read_size)
  File "/usr/local/lib/python3.6/site-packages/paramiko/channel.py", line 701, in recv
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/contrail-test/tcutils/fabutils.py", line 170, in remote_cmd
    output = _run(cmd, timeout=timeout, pty=not as_daemon, shell=shell)
  File "/usr/local/lib64/python3.6/site-packages/fabric/network.py", line 692, in host_prompting_wrapper
    return func(*args, **kwargs)
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 1095, in run
    shell_escape=shell_escape, capture_buffer_size=capture_buffer_size,
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 938, in _run_command
    capture_buffer_size=capture_buffer_size)
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 820, in _execute
    worker.raise_if_needed()
  File "/usr/local/lib64/python3.6/site-packages/fabric/thread_handling.py", line 26, in raise_if_needed
    six.reraise(e[0], e[1], e[2])
  File "/usr/local/lib/python3.6/site-packages/six.py", line 703, in reraise
    raise value
  File "/usr/local/lib64/python3.6/site-packages/fabric/thread_handling.py", line 13, in wrapper
    callable(*args, **kwargs)
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 31, in output_loop
    OutputLooper(*args, **kwargs).loop()
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 87, in loop
    raise CommandTimeout(timeout=self.timeout)
fabric.exceptions.CommandTimeout: Command failed to finish in 120 seconds
2021-02-24 06:25:24,947 - DEBUG - None
2021-02-24 06:25:27,948 - ERROR - Got exception as wget of http://169.254.1.2:8083 returned None
Traceback (most recent call last):
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 335, in test_generic_link_local_service
    raise Exception('wget of http://169.254.1.2:8083 returned None')
Exception: wget of http://169.254.1.2:8083 returned None
2021-02-24 06:25:27,949 - INFO - Retry 1
2021-02-24 06:25:27,950 - DEBUG - Running remote_cmd, Cmd : wget http://169.254.1.2:8083 --spider && echo "Successful", host_string: cirros@169.254.0.4, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 06:25:27,950 - DEBUG - wget http://169.254.1.2:8083 --spider && echo "Successful"
2021-02-24 06:27:28,018 - ERROR - Unable to run command wget http://169.254.1.2:8083 --spider && echo "Successful": Command failed to finish in 120 seconds
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/paramiko/channel.py", line 699, in recv
    out = self.in_buffer.read(nbytes, self.timeout)
  File "/usr/local/lib/python3.6/site-packages/paramiko/buffered_pipe.py", line 164, in read
    raise PipeTimeout()
paramiko.buffered_pipe.PipeTimeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 83, in loop
    bytelist = self.read_func(self.read_size)
  File "/usr/local/lib/python3.6/site-packages/paramiko/channel.py", line 701, in recv
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/contrail-test/tcutils/fabutils.py", line 170, in remote_cmd
    output = _run(cmd, timeout=timeout, pty=not as_daemon, shell=shell)
  File "/usr/local/lib64/python3.6/site-packages/fabric/network.py", line 692, in host_prompting_wrapper
    return func(*args, **kwargs)
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 1095, in run
    shell_escape=shell_escape, capture_buffer_size=capture_buffer_size,
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 938, in _run_command
    capture_buffer_size=capture_buffer_size)
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 820, in _execute
    worker.raise_if_needed()
  File "/usr/local/lib64/python3.6/site-packages/fabric/thread_handling.py", line 26, in raise_if_needed
    six.reraise(e[0], e[1], e[2])
  File "/usr/local/lib/python3.6/site-packages/six.py", line 703, in reraise
    raise value
  File "/usr/local/lib64/python3.6/site-packages/fabric/thread_handling.py", line 13, in wrapper
    callable(*args, **kwargs)
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 31, in output_loop
    OutputLooper(*args, **kwargs).loop()
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 87, in loop
    raise CommandTimeout(timeout=self.timeout)
fabric.exceptions.CommandTimeout: Command failed to finish in 120 seconds
2021-02-24 06:27:33,021 - DEBUG - None
2021-02-24 06:27:36,022 - ERROR - Got exception as wget of http://169.254.1.2:8083 returned None
Traceback (most recent call last):
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 335, in test_generic_link_local_service
    raise Exception('wget of http://169.254.1.2:8083 returned None')
Exception: wget of http://169.254.1.2:8083 returned None
2021-02-24 06:27:36,023 - INFO - Retry 2
2021-02-24 06:27:36,023 - DEBUG - Running remote_cmd, Cmd : wget http://169.254.1.2:8083 --spider && echo "Successful", host_string: cirros@169.254.0.4, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 06:27:36,024 - DEBUG - wget http://169.254.1.2:8083 --spider && echo "Successful"
2021-02-24 06:29:36,164 - ERROR - Unable to run command wget http://169.254.1.2:8083 --spider && echo "Successful": Command failed to finish in 120 seconds
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/site-packages/paramiko/channel.py", line 747, in recv_stderr
    out = self.in_stderr_buffer.read(nbytes, self.timeout)
  File "/usr/local/lib/python3.6/site-packages/paramiko/buffered_pipe.py", line 164, in read
    raise PipeTimeout()
paramiko.buffered_pipe.PipeTimeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 83, in loop
    bytelist = self.read_func(self.read_size)
  File "/usr/local/lib/python3.6/site-packages/paramiko/channel.py", line 749, in recv_stderr
    raise socket.timeout()
socket.timeout

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/contrail-test/tcutils/fabutils.py", line 170, in remote_cmd
    output = _run(cmd, timeout=timeout, pty=not as_daemon, shell=shell)
  File "/usr/local/lib64/python3.6/site-packages/fabric/network.py", line 692, in host_prompting_wrapper
    return func(*args, **kwargs)
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 1095, in run
    shell_escape=shell_escape, capture_buffer_size=capture_buffer_size,
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 938, in _run_command
    capture_buffer_size=capture_buffer_size)
  File "/usr/local/lib64/python3.6/site-packages/fabric/operations.py", line 820, in _execute
    worker.raise_if_needed()
  File "/usr/local/lib64/python3.6/site-packages/fabric/thread_handling.py", line 26, in raise_if_needed
    six.reraise(e[0], e[1], e[2])
  File "/usr/local/lib/python3.6/site-packages/six.py", line 703, in reraise
    raise value
  File "/usr/local/lib64/python3.6/site-packages/fabric/thread_handling.py", line 13, in wrapper
    callable(*args, **kwargs)
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 31, in output_loop
    OutputLooper(*args, **kwargs).loop()
  File "/usr/local/lib64/python3.6/site-packages/fabric/io.py", line 87, in loop
    raise CommandTimeout(timeout=self.timeout)
fabric.exceptions.CommandTimeout: Command failed to finish in 120 seconds
2021-02-24 06:29:41,167 - DEBUG - None
2021-02-24 06:29:44,168 - ERROR - Got exception as wget of http://169.254.1.2:8083 returned None
Traceback (most recent call last):
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 335, in test_generic_link_local_service
    raise Exception('wget of http://169.254.1.2:8083 returned None')
Exception: wget of http://169.254.1.2:8083 returned None
2021-02-24 06:29:44,169 - ERROR - Generic metadata check failed
2021-02-24 06:29:44,607 - DEBUG - Link local service introspect removed
2021-02-24 06:29:44,607 - INFO - Deleting VM ctest-TestBasicVMVN-80615006-51766463
2021-02-24 06:29:45,727 - INFO - Deleting VN ctest-vn2_metadata-27811333 
2021-02-24 06:29:45,962 - DEBUG - VN cb62ad3a-841d-491e-9cda-a3db3cb11542 still in use: Unable to complete operation on network cb62ad3a-841d-491e-9cda-a3db3cb11542. There are one or more ports still in use on the network.
Neutron server returns request_ids: ['req-44900a1a-7bde-4483-bd22-5185669eb8fd']
2021-02-24 06:29:45,962 - WARNING - Deleting VN ctest-vn2_metadata-27811333 failed..Will retry
2021-02-24 06:29:48,233 - DEBUG - Response for deleting network ()
2021-02-24 06:29:50,231 - ERROR - AssertionError
Python 3.6.8: /usr/bin/python3
Wed Feb 24 06:29:44 2021

A problem occurred in a Python script.  Here is the sequence of
function calls leading up to the error, in the order they occurred.

 /contrail-test/tcutils/wrappers.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fdd33d11e10>, *args=(), **kwargs={})
   80             log.info('Initial checks done. Running the testcase now')
   81             log.info('')
   82             result = function(self, *args, **kwargs)
   83             if self.inputs.upgrade:
   84                 pid = os.getpid()
result = None
function = <function TestBasicVMVN.test_generic_link_local_service>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fdd33d11e10>
args = ()
kwargs = {}

 /contrail-test/tcutils/util.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fdd33d11e10>, *func_args=(), **func_kwargs={})
 1127                     msg = "Skipped as not supported in non remote compute setup"
 1128                     raise testtools.TestCase.skipException(msg)
 1129             return f(self, *func_args, **func_kwargs)
 1130         return wrapper
 1131     return decorator
f = <function TestBasicVMVN.test_generic_link_local_service>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fdd33d11e10>
func_args = ()
func_kwargs = {}

 /contrail-test/scripts/vm_regression/test_vm_basic.py in test_generic_link_local_service(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...uite1,vcenter,vcenter_compute] id=0x7fdd33d11e10>)
  349             self.logger.error('Generic metadata check failed')
  350             result = False
  351 
  352         assert result, "Generic Link local verification failed "
  353     # end test_generic_link_local_service
result = False
AssertionError: Generic Link local verification failed 
    __cause__ = None
    __class__ = <class 'AssertionError'>
    __context__ = None
    __delattr__ = <method-wrapper '__delattr__' of AssertionError object>
    __dict__ = {}
    __dir__ = <built-in method __dir__ of AssertionError object>
    __doc__ = 'Assertion failed.'
    __eq__ = <method-wrapper '__eq__' of AssertionError object>
    __format__ = <built-in method __format__ of AssertionError object>
    __ge__ = <method-wrapper '__ge__' of AssertionError object>
    __getattribute__ = <method-wrapper '__getattribute__' of AssertionError object>
    __gt__ = <method-wrapper '__gt__' of AssertionError object>
    __hash__ = <method-wrapper '__hash__' of AssertionError object>
    __init__ = <method-wrapper '__init__' of AssertionError object>
    __init_subclass__ = <built-in method __init_subclass__ of type object>
    __le__ = <method-wrapper '__le__' of AssertionError object>
    __lt__ = <method-wrapper '__lt__' of AssertionError object>
    __ne__ = <method-wrapper '__ne__' of AssertionError object>
    __new__ = <built-in method __new__ of type object>
    __reduce__ = <built-in method __reduce__ of AssertionError object>
    __reduce_ex__ = <built-in method __reduce_ex__ of AssertionError object>
    __repr__ = <method-wrapper '__repr__' of AssertionError object>
    __setattr__ = <method-wrapper '__setattr__' of AssertionError object>
    __setstate__ = <built-in method __setstate__ of AssertionError object>
    __sizeof__ = <built-in method __sizeof__ of AssertionError object>
    __str__ = <method-wrapper '__str__' of AssertionError object>
    __subclasshook__ = <built-in method __subclasshook__ of type object>
    __suppress_context__ = False
    __traceback__ = <traceback object>
    args = ('Generic Link local verification failed ',)
    with_traceback = <built-in method with_traceback of AssertionError object>

The above is a description of an error in a Python program.  Here is
the original traceback:

Traceback (most recent call last):
  File "/contrail-test/tcutils/wrappers.py", line 82, in wrapper
    result = function(self, *args, **kwargs)
  File "/contrail-test/tcutils/util.py", line 1129, in wrapper
    return f(self, *func_args, **func_kwargs)
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 352, in test_generic_link_local_service
    assert result, "Generic Link local verification failed "
AssertionError: Generic Link local verification failed 



2021-02-24 06:29:50,268 - DEBUG - No XMPP flaps were noticed during the test
2021-02-24 06:29:50,268 - INFO - 
2021-02-24 06:29:50,268 - INFO - END TEST : test_generic_link_local_service : FAILED[0:07:06]
2021-02-24 06:29:50,268 - INFO - --------------------------------------------------------------------------------
2021-02-24 06:29:50,275 - INFO - ================================================================================
2021-02-24 06:29:50,275 - INFO - STARTING TEST    : test_ping_within_vn_two_vms_two_different_subnets
2021-02-24 06:29:50,275 - INFO - TEST DESCRIPTION : 
        Description:  Validate Ping between 2 VMs in the same VN, 2 VMs in different VN
        subnets.
        Test steps:
                1. Create 1 IPAM's.
                2. Create 1 VN with 2 subnets and launch 2 VMs in them.
                3. Ping between the VMs in the same VN should go thru fine.
                4. Ping to the subnet broadcast and all-broadcast address.
        Pass criteria: VM in the same subnet will respond to both the pings, while the VM in a different VN should respond only to the
                        all-broadcast address.
        Maintainer : ganeshahv@juniper.net
        
2021-02-24 06:29:52,269 - DEBUG - Nothing to compare xmpp stats {'192.168.7.19': {'192.168.27.20': '0', '192.168.27.34': '0'}, '192.168.7.9': {'192.168.27.20': '0', '192.168.27.34': '0'}} with
2021-02-24 06:29:52,270 - INFO - Initial checks done. Running the testcase now
2021-02-24 06:29:52,270 - INFO - 
2021-02-24 06:29:52,740 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-80615006', 'ctest-vn-91114518'], 'name': 'ctest-vn-91114518', 'admin_state_up': True, 'tenant_id': '19dc9b64ccc747ad85f7390a7fe81276', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': '19dc9b64ccc747ad85f7390a7fe81276', 'id': '380403fd-8dba-4967-9657-917ec2b5c78a', 'description': ''}}
2021-02-24 06:29:53,026 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': '380403fd-8dba-4967-9657-917ec2b5c78a', 'tenant_id': '19dc9b64ccc747ad85f7390a7fe81276', 'created_at': '2021-02-24T06:29:54.529347', 'dns_nameservers': [], 'updated_at': '2021-02-24T06:29:54.529347', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '31.1.1.2', 'end': '31.1.1.6'}], 'gateway_ip': '31.1.1.1', 'dns_server_address': '31.1.1.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '31.1.1.0/29', 'id': '6d05660a-6e4d-4795-b903-799edfe70e33'}}
2021-02-24 06:29:53,356 - ERROR - Neutron Exception while creating subnet for vn with id 380403fd-8dba-4967-9657-917ec2b5c78a
Traceback (most recent call last):
  File "/contrail-test/fixtures/quantum_test.py", line 129, in create_subnet
    subnet_rsp = self.obj.create_subnet({'subnet': subnet_req})
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 848, in create_subnet
    return self.post(self.subnets_path, body=body)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 359, in post
    headers=headers, params=params)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 294, in do_request
    self._handle_fault_response(status_code, replybody, resp)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 269, in _handle_fault_response
    exception_handler_v20(status_code, error_body)
  File "/usr/local/lib/python3.6/site-packages/neutronclient/v2_0/client.py", line 93, in exception_handler_v20
    request_ids=request_ids)
neutronclient.common.exceptions.InternalServerError: The server has either erred or is incapable of performing the requested operation.<br /><br />



Neutron server returns request_ids: ['req-bbb5997d-c68a-405a-a30c-77f12562d116']
2021-02-24 06:29:53,410 - INFO - Created VN ctest-vn-91114518
2021-02-24 06:29:53,437 - DEBUG - VN ctest-vn-91114518 UUID is 380403fd-8dba-4967-9657-917ec2b5c78a
2021-02-24 06:29:53,977 - DEBUG - Response for create_port : {'port': {'status': 'DOWN', 'binding:host_id': None, 'name': '9e34e271-c044-4e34-8ced-42d1e6714a18', 'allowed_address_pairs': [], 'admin_state_up': True, 'network_id': '380403fd-8dba-4967-9657-917ec2b5c78a', 'tenant_id': '19dc9b64ccc747ad85f7390a7fe81276', 'created_at': '2021-02-24T06:29:52.984287', 'updated_at': '2021-02-24T06:29:53.019294', 'binding:vnic_type': 'normal', 'binding:vif_type': 'unbound', 'device_owner': '', 'mac_address': '02:9e:34:e2:71:c0', 'id': '9e34e271-c044-4e34-8ced-42d1e6714a18', 'port_security_enabled': True, 'device_id': '', 'fixed_ips': [{'subnet_id': '6d05660a-6e4d-4795-b903-799edfe70e33', 'ip_address': '31.1.1.4'}], 'binding:vif_details': {'port_filter': True}, 'security_groups': ['69b2f200-dd16-4915-88f5-8a44e6db0918'], 'description': ''}}
2021-02-24 06:29:56,624 - INFO - VM ([<Server: ctest-TestBasicVMVN-80615006-74787256>]) created on node: (nodec9), Zone: (nova:nodec9)
2021-02-24 06:29:56,632 - INFO - Detaching port 9e34e271-c044-4e34-8ced-42d1e6714a18 from VM ctest-TestBasicVMVN-80615006-74787256
2021-02-24 06:29:56,666 - INFO - Deleting VN ctest-vn-91114518 
2021-02-24 06:29:56,993 - DEBUG - Response for delete_port : ()
2021-02-24 06:29:57,306 - DEBUG - Response for deleting network ()
2021-02-24 06:29:59,386 - ERROR - KeyError
Python 3.6.8: /usr/bin/python3
Wed Feb 24 06:29:56 2021

A problem occurred in a Python script.  Here is the sequence of
function calls leading up to the error, in the order they occurred.

 /contrail-test/tcutils/wrappers.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fdd33d11f98>, *args=(), **kwargs={})
   80             log.info('Initial checks done. Running the testcase now')
   81             log.info('')
   82             result = function(self, *args, **kwargs)
   83             if self.inputs.upgrade:
   84                 pid = os.getpid()
result = None
function = <function TestBasicVMVN.test_ping_within_vn_two_vms_two_different_subnets>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fdd33d11f98>
args = ()
kwargs = {}

 /contrail-test/tcutils/util.py in wrapper(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fdd33d11f98>, *func_args=(), **func_kwargs={})
 1127                     msg = "Skipped as not supported in non remote compute setup"
 1128                     raise testtools.TestCase.skipException(msg)
 1129             return f(self, *func_args, **func_kwargs)
 1130         return wrapper
 1131     return decorator
f = <function TestBasicVMVN.test_ping_within_vn_two_vms_two_different_subnets>
self = <scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fdd33d11f98>
func_args = ()
func_kwargs = {}

 /contrail-test/scripts/vm_regression/test_vm_basic.py in test_ping_within_vn_two_vms_two_different_subnets(self=<scripts.vm_regression.test_vm_basic.TestBasicVM...sanity,suite1,vcenter_compute] id=0x7fdd33d11f98>)
  158                              port_ids=[ports['subnet1']['id']])
  159         vm2 = self.create_vm(image_name='cirros', vn_fixture=vn1_fixture,
  160                              port_ids=[ports['subnet2']['id']])
  161         vm3 = self.create_vm(image_name='cirros', vn_fixture=vn1_fixture)
  162         assert ipam_obj.verify_on_setup()
port_ids undefined
ports = {'subnet1': {'admin_state_up': True, 'allowed_address_pairs': [], 'binding:host_id': None, 'binding:vif_details': {'port_filter': True}, 'binding:vif_type': 'unbound', 'binding:vnic_type': 'normal', 'created_at': '2021-02-24T06:29:52.984287', 'description': '', 'device_id': '', 'device_owner': '', ...}}
KeyError: 'subnet2'
    __cause__ = None
    __class__ = <class 'KeyError'>
    __context__ = None
    __delattr__ = <method-wrapper '__delattr__' of KeyError object>
    __dict__ = {}
    __dir__ = <built-in method __dir__ of KeyError object>
    __doc__ = 'Mapping key not found.'
    __eq__ = <method-wrapper '__eq__' of KeyError object>
    __format__ = <built-in method __format__ of KeyError object>
    __ge__ = <method-wrapper '__ge__' of KeyError object>
    __getattribute__ = <method-wrapper '__getattribute__' of KeyError object>
    __gt__ = <method-wrapper '__gt__' of KeyError object>
    __hash__ = <method-wrapper '__hash__' of KeyError object>
    __init__ = <method-wrapper '__init__' of KeyError object>
    __init_subclass__ = <built-in method __init_subclass__ of type object>
    __le__ = <method-wrapper '__le__' of KeyError object>
    __lt__ = <method-wrapper '__lt__' of KeyError object>
    __ne__ = <method-wrapper '__ne__' of KeyError object>
    __new__ = <built-in method __new__ of type object>
    __reduce__ = <built-in method __reduce__ of KeyError object>
    __reduce_ex__ = <built-in method __reduce_ex__ of KeyError object>
    __repr__ = <method-wrapper '__repr__' of KeyError object>
    __setattr__ = <method-wrapper '__setattr__' of KeyError object>
    __setstate__ = <built-in method __setstate__ of KeyError object>
    __sizeof__ = <built-in method __sizeof__ of KeyError object>
    __str__ = <method-wrapper '__str__' of KeyError object>
    __subclasshook__ = <built-in method __subclasshook__ of type object>
    __suppress_context__ = False
    __traceback__ = <traceback object>
    args = ('subnet2',)
    with_traceback = <built-in method with_traceback of KeyError object>

The above is a description of an error in a Python program.  Here is
the original traceback:

Traceback (most recent call last):
  File "/contrail-test/tcutils/wrappers.py", line 82, in wrapper
    result = function(self, *args, **kwargs)
  File "/contrail-test/tcutils/util.py", line 1129, in wrapper
    return f(self, *func_args, **func_kwargs)
  File "/contrail-test/scripts/vm_regression/test_vm_basic.py", line 160, in test_ping_within_vn_two_vms_two_different_subnets
    port_ids=[ports['subnet2']['id']])
KeyError: 'subnet2'



2021-02-24 06:30:01,275 - INFO - Deleted project: ctest-TestBasicVMVN-80615006, ID : 19dc9b64-ccc7-47ad-85f7-390a7fe81276 
2021-02-24 11:13:27,821 - DEBUG - [192.168.7.20]: Running cmd : hostname
2021-02-24 11:13:29,010 - DEBUG - Output : noden20
2021-02-24 11:13:29,011 - DEBUG - [192.168.7.20]: Running cmd : hostname -f
2021-02-24 11:13:29,126 - DEBUG - Output : noden20.maas
2021-02-24 11:13:29,127 - DEBUG - [192.168.7.20]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-24 11:13:29,349 - DEBUG - Output : NAMES
webui_job_1
webui_web_1
analyticssnmp_snmp-collector_1
analyticssnmp_topology_1
analyticssnmp_nodemgr_1
analyticsalarm_kafka_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analytics_api_1
analytics_nodemgr_1
analytics_collector_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
redis_stunnel_1
redis_redis_1
control_named_1
control_nodemgr_1
control_dns_1
control_control_1
configdatabase_zookeeper_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_schema_1
configapi_svcmonitor_1
configapi_api_1
2021-02-24 11:13:29,349 - DEBUG - [192.168.7.20]: Running cmd : getent hosts 192.168.7.20 | head -n 1 | awk '{print $2}'
2021-02-24 11:13:29,464 - DEBUG - Output : noden20.maas
2021-02-24 11:13:29,465 - DEBUG - [192.168.7.20]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-24 11:13:29,597 - DEBUG - Output : 192.168.27.20/24
172.17.0.1/16
192.168.7.20/24
2021-02-24 11:13:29,598 - DEBUG - [192.168.7.29]: Running cmd : hostname
2021-02-24 11:13:30,894 - DEBUG - Output : noden29
2021-02-24 11:13:30,895 - DEBUG - [192.168.7.29]: Running cmd : hostname -f
2021-02-24 11:13:31,004 - DEBUG - Output : noden29.maas
2021-02-24 11:13:31,004 - DEBUG - [192.168.7.29]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-24 11:13:31,223 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
webui_job_1
webui_web_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticsdatabase_cassandra_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
contrailkubernetesmaster_kubemanager_1
redis_stunnel_1
redis_redis_1
control_named_1
control_control_1
control_nodemgr_1
control_dns_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configdatabase_zookeeper_1
configapi_devicemgr_1
configapi_nodemgr_1
configapi_api_1
configapi_schema_1
configapi_svcmonitor_1
configapi_dnsmasq_1
2021-02-24 11:13:31,223 - DEBUG - [192.168.7.29]: Running cmd : getent hosts 192.168.7.29 | head -n 1 | awk '{print $2}'
2021-02-24 11:13:31,329 - DEBUG - Output : noden29.maas
2021-02-24 11:13:31,329 - DEBUG - [192.168.7.29]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-24 11:13:31,437 - DEBUG - Output : 192.168.7.29/24
172.17.0.1/16
192.168.27.29/24
2021-02-24 11:13:31,626 - DEBUG - [192.168.7.34]: Running cmd : hostname
2021-02-24 11:13:33,097 - DEBUG - Output : nodei34
2021-02-24 11:13:33,099 - DEBUG - [192.168.7.34]: Running cmd : hostname -f
2021-02-24 11:13:33,208 - DEBUG - Output : nodei34.maas
2021-02-24 11:13:33,208 - DEBUG - [192.168.7.34]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-24 11:13:33,434 - DEBUG - Output : NAMES
webui_web_1
webui_job_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
redis_redis_1
redis_stunnel_1
control_named_1
control_dns_1
control_nodemgr_1
control_control_1
configdatabase_cassandra_1
configdatabase_zookeeper_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_schema_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_api_1
configapi_svcmonitor_1
2021-02-24 11:13:33,436 - DEBUG - [192.168.7.34]: Running cmd : getent hosts 192.168.7.34 | head -n 1 | awk '{print $2}'
2021-02-24 11:13:33,531 - DEBUG - Output : nodei34.maas
2021-02-24 11:13:33,532 - DEBUG - [192.168.7.34]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-24 11:13:33,632 - DEBUG - Output : 192.168.7.34/24
192.168.27.34/24
172.17.0.1/16
2021-02-24 11:13:33,633 - DEBUG - [192.168.7.19]: Running cmd : hostname
2021-02-24 11:13:34,888 - DEBUG - Output : noden19
2021-02-24 11:13:34,889 - DEBUG - [192.168.7.19]: Running cmd : hostname -f
2021-02-24 11:13:35,000 - DEBUG - Output : noden19.maas
2021-02-24 11:13:35,000 - DEBUG - [192.168.7.19]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-24 11:13:35,172 - DEBUG - Output : NAMES
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_24
k8s_ubuntu-pod_ubuntu-pod_default_f4a85138-01a1-48c5-a883-c1af9b650993_0
k8s_cirros3_cirros3_default_5b82832d-ebf8-4b24-87ca-7ee1a46ba931_0
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-kmbfn_kube-system_3c2ceeba-cfb2-4c2a-8f33-34f322ddab35_0
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-h5jq2_kube-system_05eeed89-5184-4121-ba1f-1ad75b9a4a1b_0
k8s_nginx_nginx_default_c267b3f5-6416-4f03-a4c0-beff89e02a7c_0
vrouter_nodemgr_1
vrouter_vrouter-agent_1
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_23
2021-02-24 11:13:35,173 - DEBUG - [192.168.7.19]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-24 11:13:35,281 - DEBUG - Output : 192.168.27.19/24
2021-02-24 11:13:35,282 - DEBUG - [192.168.7.19]: Running cmd : getent hosts 192.168.27.19 | head -n 1 | awk '{print $2}'
2021-02-24 11:13:35,386 - DEBUG - Output : noden19.maas
2021-02-24 11:13:35,386 - DEBUG - [192.168.7.9]: Running cmd : hostname
2021-02-24 11:13:36,113 - DEBUG - Output : nodec9
2021-02-24 11:13:36,114 - DEBUG - [192.168.7.9]: Running cmd : hostname -f
2021-02-24 11:13:36,202 - DEBUG - Output : nodec9.maas
2021-02-24 11:13:36,203 - DEBUG - [192.168.7.9]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-24 11:13:36,324 - DEBUG - Output : NAMES
vrouter_vrouter-agent_1
vrouter_nodemgr_1
2021-02-24 11:13:36,324 - DEBUG - [192.168.7.9]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-24 11:13:36,409 - DEBUG - Output : 192.168.27.9/24
2021-02-24 11:13:36,410 - DEBUG - [192.168.7.9]: Running cmd : getent hosts 192.168.27.9 | head -n 1 | awk '{print $2}'
2021-02-24 11:13:36,494 - DEBUG - Output : nodec9.maas
2021-02-24 11:13:36,495 - DEBUG - [192.168.7.18]: Running cmd : hostname
2021-02-24 11:13:36,866 - DEBUG - Output : noden18
2021-02-24 11:13:36,866 - DEBUG - [192.168.7.18]: Running cmd : hostname -f
2021-02-24 11:13:36,943 - DEBUG - Output : noden18.englab.juniper.net
2021-02-24 11:13:36,944 - DEBUG - [192.168.7.18]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-24 11:13:37,114 - DEBUG - Output : NAMES
nuthan_test8
nuthan_test2
nuthan_test7
tf_test
scale_test
nuthan_test
2021-02-24 11:13:40,079 - DEBUG - Not creating keypair since it exists
2021-02-24 11:13:40,674 - INFO - Reading existing Domain with UUID f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-24 11:13:41,296 - INFO - Using existing domain ['admin_domain'](f27c063f-c6c4-434f-a616-97e72e0043e5)
2021-02-24 11:13:41,555 - INFO - Project ctest-TestBasicVMVN-24994935 not found, creating it
2021-02-24 11:13:42,850 - INFO - Created Project:ctest-TestBasicVMVN-24994935, ID : f679e25a-b4f4-499a-83e4-374929daaa49 
2021-02-24 11:13:46,780 - INFO - ================================================================================
2021-02-24 11:13:46,780 - INFO - STARTING TEST    : test_ping_within_vn_two_vms_two_different_subnets
2021-02-24 11:13:46,781 - INFO - TEST DESCRIPTION : 
        Description:  Validate Ping between 2 VMs in the same VN, 2 VMs in different VN
        subnets.
        Test steps:
                1. Create 1 IPAM's.
                2. Create 1 VN with 2 subnets and launch 2 VMs in them.
                3. Ping between the VMs in the same VN should go thru fine.
                4. Ping to the subnet broadcast and all-broadcast address.
        Pass criteria: VM in the same subnet will respond to both the pings, while the VM in a different VN should respond only to the
                        all-broadcast address.
        Maintainer : ganeshahv@juniper.net
        
2021-02-24 11:13:48,108 - DEBUG - Skipping xmpp flap check
2021-02-24 11:13:48,108 - INFO - Initial checks done. Running the testcase now
2021-02-24 11:13:48,108 - INFO - 
2021-02-24 11:13:50,122 - DEBUG - Response for create_network : {'network': {'status': 'ACTIVE', 'router:external': False, 'subnets': [], 'fq_name': ['admin_domain', 'ctest-TestBasicVMVN-24994935', 'ctest-vn-82956364'], 'name': 'ctest-vn-82956364', 'admin_state_up': True, 'tenant_id': 'f679e25ab4f4499a83e4374929daaa49', 'created_at': None, 'updated_at': None, 'shared': False, 'port_security_enabled': True, 'project_id': 'f679e25ab4f4499a83e4374929daaa49', 'id': '9a0fa5dd-21d6-4541-a41f-e3726d970976', 'description': ''}}
2021-02-24 11:13:50,494 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': '9a0fa5dd-21d6-4541-a41f-e3726d970976', 'tenant_id': 'f679e25ab4f4499a83e4374929daaa49', 'created_at': '2021-02-24T11:13:49.519828', 'dns_nameservers': [], 'updated_at': '2021-02-24T11:13:49.519828', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '31.1.1.2', 'end': '31.1.1.6'}], 'gateway_ip': '31.1.1.1', 'dns_server_address': '31.1.1.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '31.1.1.0/29', 'id': '6cd88626-bea1-4d7f-8c6a-a80bc54b85ef'}}
2021-02-24 11:13:50,842 - DEBUG - Response for create_subnet : {'subnet': {'name': '', 'enable_dhcp': True, 'network_id': '9a0fa5dd-21d6-4541-a41f-e3726d970976', 'tenant_id': 'f679e25ab4f4499a83e4374929daaa49', 'created_at': '2021-02-24T11:13:52.494677', 'dns_nameservers': [], 'updated_at': '2021-02-24T11:13:52.494677', 'ipv6_ra_mode': None, 'allocation_pools': [{'start': '31.1.2.2', 'end': '31.1.2.6'}], 'gateway_ip': '31.1.2.1', 'dns_server_address': '31.1.2.2', 'ipv6_address_mode': None, 'ip_version': 4, 'host_routes': [], 'cidr': '31.1.2.0/29', 'id': '5b1910aa-3170-47cb-8b1a-9791a7770546'}}
2021-02-24 11:13:50,899 - INFO - Created VN ctest-vn-82956364
2021-02-24 11:13:50,924 - DEBUG - VN ctest-vn-82956364 UUID is 9a0fa5dd-21d6-4541-a41f-e3726d970976
2021-02-24 11:13:51,605 - DEBUG - Response for create_port : {'port': {'status': 'DOWN', 'binding:host_id': None, 'name': '2f1e693e-2e62-400b-84a1-79e69f9620e5', 'allowed_address_pairs': [], 'admin_state_up': True, 'network_id': '9a0fa5dd-21d6-4541-a41f-e3726d970976', 'tenant_id': 'f679e25ab4f4499a83e4374929daaa49', 'created_at': '2021-02-24T11:13:53.219010', 'updated_at': '2021-02-24T11:13:53.263970', 'binding:vnic_type': 'normal', 'binding:vif_type': 'unbound', 'device_owner': '', 'mac_address': '02:2f:1e:69:3e:2e', 'id': '2f1e693e-2e62-400b-84a1-79e69f9620e5', 'port_security_enabled': True, 'device_id': '', 'fixed_ips': [{'subnet_id': '6cd88626-bea1-4d7f-8c6a-a80bc54b85ef', 'ip_address': '31.1.1.4'}], 'binding:vif_details': {'port_filter': True}, 'security_groups': ['aa5919f4-407d-4a63-ba51-de9786811267'], 'description': ''}}
2021-02-24 11:13:51,991 - DEBUG - Response for create_port : {'port': {'status': 'DOWN', 'binding:host_id': None, 'name': '71a862ea-9df5-4d91-8936-be22587130ae', 'allowed_address_pairs': [], 'admin_state_up': True, 'network_id': '9a0fa5dd-21d6-4541-a41f-e3726d970976', 'tenant_id': 'f679e25ab4f4499a83e4374929daaa49', 'created_at': '2021-02-24T11:13:50.565096', 'updated_at': '2021-02-24T11:13:50.609828', 'binding:vnic_type': 'normal', 'binding:vif_type': 'unbound', 'device_owner': '', 'mac_address': '02:71:a8:62:ea:9d', 'id': '71a862ea-9df5-4d91-8936-be22587130ae', 'port_security_enabled': True, 'device_id': '', 'fixed_ips': [{'subnet_id': '5b1910aa-3170-47cb-8b1a-9791a7770546', 'ip_address': '31.1.2.4'}], 'binding:vif_details': {'port_filter': True}, 'security_groups': ['aa5919f4-407d-4a63-ba51-de9786811267'], 'description': ''}}
2021-02-24 11:13:52,945 - DEBUG - Services list from nova: [<Service: 1>, <Service: 3>, <Service: 4>, <Service: 16>]
2021-02-24 11:13:56,595 - INFO - VM ([<Server: ctest-TestBasicVMVN-24994935-34390599>]) created on node: (nodec9), Zone: (nova:nodec9)
2021-02-24 11:13:58,211 - INFO - VM ([<Server: ctest-TestBasicVMVN-24994935-34631375>]) created on node: (nodec9), Zone: (nova:nodec9)
2021-02-24 11:14:01,642 - INFO - VM ([<Server: ctest-TestBasicVMVN-24994935-91421321>]) created on node: (nodec9), Zone: (nova:nodec9)
2021-02-24 11:14:01,643 - DEBUG - Requesting: https://192.168.7.20:8082/domains
2021-02-24 11:14:02,890 - DEBUG - Requesting: https://192.168.7.20:8082/domains
2021-02-24 11:14:03,145 - DEBUG - Requesting: https://192.168.7.20:8082/domain/f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-24 11:14:03,434 - DEBUG - Requesting: https://192.168.7.20:8082/project/f679e25a-b4f4-499a-83e4-374929daaa49
2021-02-24 11:14:03,530 - DEBUG - Requesting: https://192.168.7.20:8082/network-ipam/821d7018-0e60-4150-bcf3-8183753c2b54
2021-02-24 11:14:03,571 - INFO - Verifications in API Server for IPAM: ctest-ipam-88339274 passed
2021-02-24 11:14:03,572 - DEBUG - Requesting: https://192.168.7.20:8083/Snh_IFMapTableShowReq?table_name=network-ipam&search_string=network-ipam:admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274
2021-02-24 11:14:03,589 - DEBUG - Control-node 192.168.7.20 : IPAM object is : {'node_name': 'network-ipam:admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274', 'interests': '-', 'advertised': '-', 'dbentryflags': None, 'obj_info': {'sequence_number': '0', 'origin': 'Cassandra', 'data': {'id-perms': {'permissions': {'owner': 'ctest-TestBasicVMVN-24994935', 'owner-access': '7', 'group': 'admin', 'group-access': '7', 'other-access': '7'}, 'uuid': {'uuid-mslong': '9375773247877955920', 'uuid-lslong': '13615368500078717780'}, 'enable': 'true', 'created': '2021-02-24T11:13:47', 'last-modified': '2021-02-24T11:13:47', 'description': None, 'user-visible': 'true', 'creator': None}}}, 'neighbors': None, 'last_modified': '00:00:14.621465'}
2021-02-24 11:14:03,589 - DEBUG - Requesting: https://192.168.7.29:8083/Snh_IFMapTableShowReq?table_name=network-ipam&search_string=network-ipam:admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274
2021-02-24 11:14:03,610 - DEBUG - Control-node 192.168.7.29 : IPAM object is : {'node_name': 'network-ipam:admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274', 'interests': '-', 'advertised': '-', 'dbentryflags': None, 'obj_info': {'sequence_number': '0', 'origin': 'Cassandra', 'data': {'id-perms': {'permissions': {'owner': 'ctest-TestBasicVMVN-24994935', 'owner-access': '7', 'group': 'admin', 'group-access': '7', 'other-access': '7'}, 'uuid': {'uuid-mslong': '9375773247877955920', 'uuid-lslong': '13615368500078717780'}, 'enable': 'true', 'created': '2021-02-24T11:13:47', 'last-modified': '2021-02-24T11:13:47', 'description': None, 'user-visible': 'true', 'creator': None}}}, 'neighbors': None, 'last_modified': '00:00:14.641612'}
2021-02-24 11:14:03,610 - DEBUG - Requesting: https://192.168.7.34:8083/Snh_IFMapTableShowReq?table_name=network-ipam&search_string=network-ipam:admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274
2021-02-24 11:14:03,630 - DEBUG - Control-node 192.168.7.34 : IPAM object is : {'node_name': 'network-ipam:admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274', 'interests': '-', 'advertised': '-', 'dbentryflags': None, 'obj_info': {'sequence_number': '0', 'origin': 'Cassandra', 'data': {'id-perms': {'permissions': {'owner': 'ctest-TestBasicVMVN-24994935', 'owner-access': '7', 'group': 'admin', 'group-access': '7', 'other-access': '7'}, 'uuid': {'uuid-mslong': '9375773247877955920', 'uuid-lslong': '13615368500078717780'}, 'enable': 'true', 'created': '2021-02-24T11:13:47', 'last-modified': '2021-02-24T11:13:47', 'description': None, 'user-visible': 'true', 'creator': None}}}, 'neighbors': None, 'last_modified': '00:00:14.663812'}
2021-02-24 11:14:03,630 - INFO - Verifications in Control node for IPAM: ctest-ipam-88339274 passed
2021-02-24 11:14:03,631 - DEBUG - Requesting: https://192.168.7.20:8082/domains
2021-02-24 11:14:03,652 - DEBUG - Requesting: https://192.168.7.20:8082/domain/f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-24 11:14:03,689 - DEBUG - Requesting: https://192.168.7.20:8082/project/f679e25a-b4f4-499a-83e4-374929daaa49
2021-02-24 11:14:03,757 - DEBUG - Requesting: https://192.168.7.20:8082/virtual-network/9a0fa5dd-21d6-4541-a41f-e3726d970976
2021-02-24 11:14:03,793 - DEBUG - Requesting: https://192.168.7.20:8082/virtual-network/9a0fa5dd-21d6-4541-a41f-e3726d970976
2021-02-24 11:14:03,827 - DEBUG - Requesting: https://192.168.7.20:8082/routing-instance/cb1700f6-4793-4ad2-9816-26fff2ee4ae0
2021-02-24 11:14:03,856 - DEBUG - Requesting: https://192.168.7.20:8082/routing-instance/cb1700f6-4793-4ad2-9816-26fff2ee4ae0
2021-02-24 11:14:03,883 - DEBUG - Requesting: https://192.168.7.20:8082/route-target/27ca04d4-88ff-4c3c-a155-91fa5d80e57c
2021-02-24 11:14:03,924 - DEBUG - Route Targets: ['target:64512:8000032']
2021-02-24 11:14:03,924 - DEBUG - Requesting: https://192.168.7.20:8082/virtual-network/9a0fa5dd-21d6-4541-a41f-e3726d970976
2021-02-24 11:14:03,960 - DEBUG - Requesting: https://192.168.7.20:8082/routing-instance/cb1700f6-4793-4ad2-9816-26fff2ee4ae0
2021-02-24 11:14:04,010 - INFO - Verified VN network id 13 for VN 9a0fa5dd-21d6-4541-a41f-e3726d970976
2021-02-24 11:14:04,011 - INFO - Verifications in API Server for VN ctest-vn-82956364 passed
2021-02-24 11:14:04,011 - DEBUG - Requesting: https://192.168.7.20:8082/virtual-network/9a0fa5dd-21d6-4541-a41f-e3726d970976
2021-02-24 11:14:04,044 - DEBUG - Requesting: https://192.168.7.20:8082/routing-instance/cb1700f6-4793-4ad2-9816-26fff2ee4ae0
2021-02-24 11:14:04,076 - DEBUG - Requesting: https://192.168.7.20:8082/routing-instance/cb1700f6-4793-4ad2-9816-26fff2ee4ae0
2021-02-24 11:14:04,109 - DEBUG - Requesting: https://192.168.7.20:8082/route-target/27ca04d4-88ff-4c3c-a155-91fa5d80e57c
2021-02-24 11:14:04,142 - DEBUG - Requesting: https://192.168.7.20:8083/Snh_IFMapTableShowReq?table_name=virtual-network&search_string=virtual-network:admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364
2021-02-24 11:14:04,160 - DEBUG - Control-node 192.168.7.20 : VN object is : {'node_name': 'virtual-network:admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364', 'interests': '-', 'advertised': '-', 'dbentryflags': None, 'obj_info': {'sequence_number': '0', 'origin': 'Cassandra', 'data': {'id-perms': {'permissions': {'owner': 'ctest-TestBasicVMVN-24994935', 'owner-access': '7', 'group': 'admin', 'group-access': '7', 'other-access': '7'}, 'uuid': {'uuid-mslong': '11101273975665608001', 'uuid-lslong': '11826421227102603638'}, 'enable': 'true', 'created': '2021-02-24T11:13:48', 'last-modified': '2021-02-24T11:13:52', 'description': None, 'user-visible': 'true', 'creator': None}}}, 'neighbors': None, 'last_modified': '00:00:13.404942'}
2021-02-24 11:14:04,160 - DEBUG - Requesting: https://192.168.7.20:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:04,178 - DEBUG - Route Targets: ['target:64512:8000032']
2021-02-24 11:14:04,178 - DEBUG - Requesting: https://192.168.7.29:8083/Snh_IFMapTableShowReq?table_name=virtual-network&search_string=virtual-network:admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364
2021-02-24 11:14:04,200 - DEBUG - Control-node 192.168.7.29 : VN object is : {'node_name': 'virtual-network:admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364', 'interests': '-', 'advertised': '-', 'dbentryflags': None, 'obj_info': {'sequence_number': '0', 'origin': 'Cassandra', 'data': {'id-perms': {'permissions': {'owner': 'ctest-TestBasicVMVN-24994935', 'owner-access': '7', 'group': 'admin', 'group-access': '7', 'other-access': '7'}, 'uuid': {'uuid-mslong': '11101273975665608001', 'uuid-lslong': '11826421227102603638'}, 'enable': 'true', 'created': '2021-02-24T11:13:48', 'last-modified': '2021-02-24T11:13:52', 'description': None, 'user-visible': 'true', 'creator': None}}}, 'neighbors': None, 'last_modified': '00:00:13.444366'}
2021-02-24 11:14:04,200 - DEBUG - Requesting: https://192.168.7.29:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:04,223 - DEBUG - Route Targets: ['target:64512:8000032']
2021-02-24 11:14:04,224 - DEBUG - Requesting: https://192.168.7.34:8083/Snh_IFMapTableShowReq?table_name=virtual-network&search_string=virtual-network:admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364
2021-02-24 11:14:04,243 - DEBUG - Control-node 192.168.7.34 : VN object is : {'node_name': 'virtual-network:admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364', 'interests': '-', 'advertised': '-', 'dbentryflags': None, 'obj_info': {'sequence_number': '0', 'origin': 'Cassandra', 'data': {'id-perms': {'permissions': {'owner': 'ctest-TestBasicVMVN-24994935', 'owner-access': '7', 'group': 'admin', 'group-access': '7', 'other-access': '7'}, 'uuid': {'uuid-mslong': '11101273975665608001', 'uuid-lslong': '11826421227102603638'}, 'enable': 'true', 'created': '2021-02-24T11:13:48', 'last-modified': '2021-02-24T11:13:52', 'description': None, 'user-visible': 'true', 'creator': None}}}, 'neighbors': None, 'last_modified': '00:00:13.487824'}
2021-02-24 11:14:04,243 - DEBUG - Requesting: https://192.168.7.34:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:04,260 - DEBUG - Route Targets: ['target:64512:8000032']
2021-02-24 11:14:04,260 - INFO - On all control nodes, Config, RI and RT verification for VN ctest-vn-82956364 passed
2021-02-24 11:14:04,262 - DEBUG - ====Verifying policy data for ctest-vn-82956364 in API_Server ======
2021-02-24 11:14:04,262 - DEBUG - Requesting: https://192.168.7.20:8082/domains
2021-02-24 11:14:04,288 - DEBUG - Requesting: https://192.168.7.20:8082/domain/f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-24 11:14:04,331 - DEBUG - Requesting: https://192.168.7.20:8082/project/f679e25a-b4f4-499a-83e4-374929daaa49
2021-02-24 11:14:04,388 - DEBUG - Requesting: https://192.168.7.20:8082/virtual-network/9a0fa5dd-21d6-4541-a41f-e3726d970976
2021-02-24 11:14:04,424 - DEBUG - =>VN ctest-vn-82956364 has no policy to be verified
2021-02-24 11:14:04,424 - DEBUG - Verifying the vn in opserver
2021-02-24 11:14:04,424 - DEBUG - Verifying the admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364 virtual network link  through opserver 192.168.7.20
2021-02-24 11:14:04,424 - DEBUG - Requesting: https://192.168.7.20:8081/analytics/uves/virtual-networks
2021-02-24 11:14:04,951 - DEBUG - Requesting: https://192.168.7.20:8081/analytics/uves/virtual-networks
2021-02-24 11:14:05,081 - DEBUG - vn link and name as {'href': 'https://192.168.7.20:8081/analytics/uves/virtual-network/admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364?flat', 'name': 'admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364'}
2021-02-24 11:14:05,082 - DEBUG - Verifying the admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364 virtual network link  through opserver 192.168.7.29
2021-02-24 11:14:05,082 - DEBUG - Requesting: https://192.168.7.29:8081/analytics/uves/virtual-networks
2021-02-24 11:14:05,952 - DEBUG - Requesting: https://192.168.7.29:8081/analytics/uves/virtual-networks
2021-02-24 11:14:06,308 - DEBUG - vn link and name as {'href': 'https://192.168.7.29:8081/analytics/uves/virtual-network/admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364?flat', 'name': 'admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364'}
2021-02-24 11:14:06,308 - DEBUG - Verifying the admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364 virtual network link  through opserver 192.168.7.34
2021-02-24 11:14:06,309 - DEBUG - Requesting: https://192.168.7.34:8081/analytics/uves/virtual-networks
2021-02-24 11:14:06,829 - DEBUG - Requesting: https://192.168.7.34:8081/analytics/uves/virtual-networks
2021-02-24 11:14:06,973 - DEBUG - vn link and name as {'href': 'https://192.168.7.34:8081/analytics/uves/virtual-network/admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364?flat', 'name': 'admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364'}
2021-02-24 11:14:06,973 - INFO - Validated that VN admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364 is found in opserver
2021-02-24 11:14:06,974 - DEBUG - Requesting: https://192.168.7.19:8085/Snh_VrfListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:07,036 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_VrfListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:07,047 - DEBUG - VRF ids for VN ctest-vn-82956364: {'192.168.7.9': '2'}
2021-02-24 11:14:07,047 - INFO - Waiting for VM ctest-TestBasicVMVN-24994935-34390599 to be up..
2021-02-24 11:14:07,251 - DEBUG - VM <Server: ctest-TestBasicVMVN-24994935-34390599> is still in BUILD state, Expected: ACTIVE
2021-02-24 11:14:12,478 - DEBUG - VM <Server: ctest-TestBasicVMVN-24994935-34390599> is in ACTIVE state now
2021-02-24 11:14:12,479 - INFO - VM name : ctest-TestBasicVMVN-24994935-34390599
2021-02-24 11:14:12,680 - DEBUG - VM ctest-TestBasicVMVN-24994935-34390599 ID is 609af784-9c1e-49f7-b20c-f9647fbfae3f
2021-02-24 11:14:12,681 - DEBUG - VM ctest-TestBasicVMVN-24994935-34390599 launched on Node nodec9.maas
2021-02-24 11:14:12,884 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine/609af784-9c1e-49f7-b20c-f9647fbfae3f
2021-02-24 11:14:13,383 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine/609af784-9c1e-49f7-b20c-f9647fbfae3f
2021-02-24 11:14:13,476 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine-interface/2f1e693e-2e62-400b-84a1-79e69f9620e5
2021-02-24 11:14:13,508 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_PageReq?x=begin:-1,end:-1,table:db.interface.0,uuid:2f1e693e-2e62-400b-84a1-79e69f9620e5
2021-02-24 11:14:13,565 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_VrfListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:13,580 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_PageReq?x=begin:-1,end:-1,table:db.interface.0,uuid:2f1e693e-2e62-400b-84a1-79e69f9620e5
2021-02-24 11:14:16,719 - DEBUG - (True, 'PING 169.254.0.3 (169.254.0.3) 56(84) bytes of data.\r\n\r\n--- 169.254.0.3 ping statistics ---\r\n2 packets transmitted, 0 received, 100% packet loss, time 1021ms')
2021-02-24 11:14:16,720 - DEBUG - Ping to Metadata IP 169.254.0.3 of VM ctest-TestBasicVMVN-24994935-34390599 failed!
2021-02-24 11:14:16,762 - DEBUG - Gateway for vn admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364 is 31.1.1.1 and allocation pool is NOT set
2021-02-24 11:14:16,763 - DEBUG - Gateway for vn admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364 is 31.1.2.1 and allocation pool is NOT set
2021-02-24 11:14:18,799 - DEBUG - (True, 'PING 169.254.0.3 (169.254.0.3) 56(84) bytes of data.\r\n64 bytes from 169.254.0.3: icmp_seq=1 ttl=63 time=3.45 ms\r\n64 bytes from 169.254.0.3: icmp_seq=2 ttl=63 time=2.17 ms\r\n\r\n--- 169.254.0.3 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 1001ms\r\nrtt min/avg/max/mdev = 2.173/2.815/3.457/0.642 ms')
2021-02-24 11:14:18,799 - INFO - Ping to Metadata IP 169.254.0.3 of VM ctest-TestBasicVMVN-24994935-34390599 passed
2021-02-24 11:14:18,861 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:18,862 - DEBUG - Waiting to SSH to VM ctest-TestBasicVMVN-24994935-34390599, IP 31.1.1.4, Port 22
2021-02-24 11:14:18,900 - DEBUG - Error on ssh to cirros@169.254.0.3:22, result: /bin/bash: connect: Connection refused
/bin/bash: /dev/tcp/169.254.0.3/22: Connection refused {'failed': True, 'command': '(echo > /dev/tcp/169.254.0.3/22)', 'real_command': '/bin/bash -l -c "(echo > /dev/tcp/169.254.0.3/22)"', 'return_code': 1, 'succeeded': False, 'stderr': ''}
2021-02-24 11:14:19,121 - DEBUG - VM ctest-TestBasicVMVN-24994935-34390599 is NOT ready for SSH connections, VM status: ACTIVE
2021-02-24 11:14:24,122 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:24,123 - DEBUG - Waiting to SSH to VM ctest-TestBasicVMVN-24994935-34390599, IP 31.1.1.4, Port 22
2021-02-24 11:14:24,239 - DEBUG - VM ctest-TestBasicVMVN-24994935-34390599 is ready for SSH connections
2021-02-24 11:14:24,239 - INFO - Waiting for VM ctest-TestBasicVMVN-24994935-34631375 to be up..
2021-02-24 11:14:24,487 - DEBUG - VM <Server: ctest-TestBasicVMVN-24994935-34631375> is in ACTIVE state now
2021-02-24 11:14:24,488 - INFO - VM name : ctest-TestBasicVMVN-24994935-34631375
2021-02-24 11:14:24,701 - DEBUG - VM ctest-TestBasicVMVN-24994935-34631375 ID is b904f5e0-b4b4-42e3-be32-3bfcd4db3a5d
2021-02-24 11:14:24,702 - DEBUG - VM ctest-TestBasicVMVN-24994935-34631375 launched on Node nodec9.maas
2021-02-24 11:14:24,906 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine/b904f5e0-b4b4-42e3-be32-3bfcd4db3a5d
2021-02-24 11:14:24,939 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine-interface/71a862ea-9df5-4d91-8936-be22587130ae
2021-02-24 11:14:24,970 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_PageReq?x=begin:-1,end:-1,table:db.interface.0,uuid:71a862ea-9df5-4d91-8936-be22587130ae
2021-02-24 11:14:25,030 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_VrfListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:25,047 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_PageReq?x=begin:-1,end:-1,table:db.interface.0,uuid:71a862ea-9df5-4d91-8936-be22587130ae
2021-02-24 11:14:26,193 - DEBUG - (True, 'PING 169.254.0.4 (169.254.0.4) 56(84) bytes of data.\r\n64 bytes from 169.254.0.4: icmp_seq=1 ttl=63 time=3.24 ms\r\n64 bytes from 169.254.0.4: icmp_seq=2 ttl=63 time=0.573 ms\r\n\r\n--- 169.254.0.4 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 1000ms\r\nrtt min/avg/max/mdev = 0.573/1.908/3.244/1.336 ms')
2021-02-24 11:14:26,193 - INFO - Ping to Metadata IP 169.254.0.4 of VM ctest-TestBasicVMVN-24994935-34631375 passed
2021-02-24 11:14:26,249 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:26,249 - DEBUG - Waiting to SSH to VM ctest-TestBasicVMVN-24994935-34631375, IP 31.1.2.4, Port 22
2021-02-24 11:14:26,354 - DEBUG - VM ctest-TestBasicVMVN-24994935-34631375 is ready for SSH connections
2021-02-24 11:14:26,354 - INFO - Waiting for VM ctest-TestBasicVMVN-24994935-91421321 to be up..
2021-02-24 11:14:26,562 - DEBUG - VM <Server: ctest-TestBasicVMVN-24994935-91421321> is in ACTIVE state now
2021-02-24 11:14:26,562 - INFO - VM name : ctest-TestBasicVMVN-24994935-91421321
2021-02-24 11:14:26,753 - DEBUG - VM ctest-TestBasicVMVN-24994935-91421321 ID is e4aa0b50-d3ae-4007-9b16-e470407539b3
2021-02-24 11:14:26,754 - DEBUG - VM ctest-TestBasicVMVN-24994935-91421321 launched on Node nodec9.maas
2021-02-24 11:14:26,953 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine/e4aa0b50-d3ae-4007-9b16-e470407539b3
2021-02-24 11:14:26,985 - DEBUG - Requesting: https://192.168.7.34:8082/virtual-machine-interface/0e3ea5d7-8e57-4c64-b171-4af11e6e94dd
2021-02-24 11:14:27,015 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_PageReq?x=begin:-1,end:-1,table:db.interface.0,uuid:0e3ea5d7-8e57-4c64-b171-4af11e6e94dd
2021-02-24 11:14:27,073 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_VrfListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:27,132 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_PageReq?x=begin:-1,end:-1,table:db.interface.0,uuid:0e3ea5d7-8e57-4c64-b171-4af11e6e94dd
2021-02-24 11:14:28,248 - DEBUG - (True, 'PING 169.254.0.5 (169.254.0.5) 56(84) bytes of data.\r\n64 bytes from 169.254.0.5: icmp_seq=1 ttl=63 time=2.90 ms\r\n64 bytes from 169.254.0.5: icmp_seq=2 ttl=63 time=0.543 ms\r\n\r\n--- 169.254.0.5 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 1002ms\r\nrtt min/avg/max/mdev = 0.543/1.726/2.909/1.183 ms')
2021-02-24 11:14:28,248 - INFO - Ping to Metadata IP 169.254.0.5 of VM ctest-TestBasicVMVN-24994935-91421321 passed
2021-02-24 11:14:28,311 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:28,312 - DEBUG - Waiting to SSH to VM ctest-TestBasicVMVN-24994935-91421321, IP 31.1.1.3, Port 22
2021-02-24 11:14:28,427 - DEBUG - VM ctest-TestBasicVMVN-24994935-91421321 is ready for SSH connections
2021-02-24 11:14:28,428 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:28,428 - DEBUG - Running remote_cmd, Cmd : ping -s 56 -c 3 -W 1  31.1.2.4, host_string: cirros@169.254.0.3, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 11:14:28,429 - DEBUG - ping -s 56 -c 3 -W 1  31.1.2.4
2021-02-24 11:14:31,583 - DEBUG - PING 31.1.2.4 (31.1.2.4): 56 data bytes
64 bytes from 31.1.2.4: seq=0 ttl=63 time=3.732 ms
64 bytes from 31.1.2.4: seq=1 ttl=63 time=1.350 ms
64 bytes from 31.1.2.4: seq=2 ttl=63 time=1.347 ms

--- 31.1.2.4 ping statistics ---
3 packets transmitted, 3 packets received, 0% packet loss
round-trip min/avg/max = 1.347/2.143/3.732 ms
2021-02-24 11:14:31,584 - INFO - Ping to IP 31.1.2.4 from VM ctest-TestBasicVMVN-24994935-34390599 passed
2021-02-24 11:14:31,584 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:31,585 - DEBUG - Running remote_cmd, Cmd : ping -s 56 -c 3 -W 1  31.1.1.4, host_string: cirros@169.254.0.4, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 11:14:31,585 - DEBUG - ping -s 56 -c 3 -W 1  31.1.1.4
2021-02-24 11:14:34,706 - DEBUG - PING 31.1.1.4 (31.1.1.4): 56 data bytes
64 bytes from 31.1.1.4: seq=0 ttl=63 time=2.628 ms
64 bytes from 31.1.1.4: seq=1 ttl=63 time=1.530 ms
64 bytes from 31.1.1.4: seq=2 ttl=63 time=1.423 ms

--- 31.1.1.4 ping statistics ---
3 packets transmitted, 3 packets received, 0% packet loss
round-trip min/avg/max = 1.423/1.860/2.628 ms
2021-02-24 11:14:34,707 - INFO - Ping to IP 31.1.1.4 from VM ctest-TestBasicVMVN-24994935-34631375 passed
2021-02-24 11:14:34,707 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:34,707 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:34,707 - DEBUG - verify_vm_launched is skipped since self.vm_launch_flag is set
2021-02-24 11:14:34,707 - DEBUG - Running remote_cmd, Cmd : echo 0 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts, host_string: cirros@169.254.0.3, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 11:14:34,708 - DEBUG - echo 0 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts
2021-02-24 11:14:34,872 - DEBUG - None
2021-02-24 11:14:34,873 - DEBUG - Running remote_cmd, Cmd : echo 0 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts, host_string: cirros@169.254.0.4, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 11:14:34,873 - DEBUG - echo 0 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts
2021-02-24 11:14:35,046 - DEBUG - None
2021-02-24 11:14:35,046 - DEBUG - Running remote_cmd, Cmd : echo 0 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts, host_string: cirros@169.254.0.5, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 11:14:35,046 - DEBUG - echo 0 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts
2021-02-24 11:14:36,129 - DEBUG - None
2021-02-24 11:14:36,129 - DEBUG - Running remote_cmd, Cmd : ping -s 56 -c 3 -W 1  31.1.1.7, host_string: cirros@169.254.0.3, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 11:14:36,130 - DEBUG - ping -s 56 -c 3 -W 1  31.1.1.7
2021-02-24 11:14:38,331 - DEBUG - PING 31.1.1.7 (31.1.1.7): 56 data bytes
64 bytes from 31.1.1.4: seq=0 ttl=64 time=1.538 ms
64 bytes from 31.1.1.3: seq=0 ttl=64 time=4.949 ms (DUP!)
64 bytes from 31.1.1.4: seq=1 ttl=64 time=0.728 ms
64 bytes from 31.1.1.3: seq=1 ttl=64 time=3.141 ms (DUP!)
64 bytes from 31.1.1.4: seq=2 ttl=64 time=0.959 ms

--- 31.1.1.7 ping statistics ---
3 packets transmitted, 3 packets received, 2 duplicates, 0% packet loss
round-trip min/avg/max = 0.728/2.263/4.949 ms
2021-02-24 11:14:38,331 - DEBUG - Running remote_cmd, Cmd : ping -s 56 -c 3 -W 1  224.0.0.1, host_string: cirros@169.254.0.3, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 11:14:38,332 - DEBUG - ping -s 56 -c 3 -W 1  224.0.0.1
2021-02-24 11:14:40,567 - DEBUG - PING 224.0.0.1 (224.0.0.1): 56 data bytes
64 bytes from 31.1.1.4: seq=0 ttl=64 time=1.095 ms
64 bytes from 31.1.1.3: seq=0 ttl=64 time=3.943 ms (DUP!)
64 bytes from 31.1.2.4: seq=0 ttl=63 time=5.266 ms (DUP!)
64 bytes from 31.1.1.4: seq=1 ttl=64 time=0.714 ms
64 bytes from 31.1.2.4: seq=1 ttl=63 time=3.469 ms (DUP!)
64 bytes from 31.1.1.3: seq=1 ttl=64 time=5.159 ms (DUP!)
64 bytes from 31.1.1.4: seq=2 ttl=64 time=0.720 ms

--- 224.0.0.1 ping statistics ---
3 packets transmitted, 3 packets received, 4 duplicates, 0% packet loss
round-trip min/avg/max = 0.714/2.909/5.266 ms
2021-02-24 11:14:40,567 - DEBUG - Running remote_cmd, Cmd : ping -s 56 -c 3 -W 1  255.255.255.255, host_string: cirros@169.254.0.3, password: cubswin:)gateway: root@192.168.7.9, gateway password: c0ntrail123
2021-02-24 11:14:40,567 - DEBUG - ping -s 56 -c 3 -W 1  255.255.255.255
2021-02-24 11:14:42,805 - DEBUG - PING 255.255.255.255 (255.255.255.255): 56 data bytes
64 bytes from 31.1.1.4: seq=0 ttl=64 time=0.736 ms
64 bytes from 31.1.2.4: seq=0 ttl=63 time=3.000 ms (DUP!)
64 bytes from 31.1.1.3: seq=0 ttl=64 time=3.887 ms (DUP!)
64 bytes from 31.1.1.4: seq=1 ttl=64 time=0.733 ms
64 bytes from 31.1.1.3: seq=1 ttl=64 time=3.334 ms (DUP!)
64 bytes from 31.1.2.4: seq=1 ttl=63 time=4.962 ms (DUP!)
64 bytes from 31.1.1.4: seq=2 ttl=64 time=0.832 ms

--- 255.255.255.255 ping statistics ---
3 packets transmitted, 3 packets received, 4 duplicates, 0% packet loss
round-trip min/avg/max = 0.733/2.497/4.962 ms
2021-02-24 11:14:42,806 - INFO - Deleting VM ctest-TestBasicVMVN-24994935-91421321
2021-02-24 11:14:43,158 - INFO - Detaching port 71a862ea-9df5-4d91-8936-be22587130ae from VM ctest-TestBasicVMVN-24994935-34631375
2021-02-24 11:14:43,353 - INFO - Deleting VM ctest-TestBasicVMVN-24994935-34631375
2021-02-24 11:14:43,663 - INFO - Detaching port 2f1e693e-2e62-400b-84a1-79e69f9620e5 from VM ctest-TestBasicVMVN-24994935-34390599
2021-02-24 11:14:43,884 - INFO - Deleting VM ctest-TestBasicVMVN-24994935-34390599
2021-02-24 11:14:44,318 - INFO - Deleting VN ctest-vn-82956364 
2021-02-24 11:14:44,673 - DEBUG - Response for delete_port : ()
2021-02-24 11:14:44,940 - DEBUG - Response for delete_port : ()
2021-02-24 11:14:45,265 - DEBUG - Response for deleting network ()
2021-02-24 11:14:45,266 - DEBUG - Requesting: https://192.168.7.20:8082/routing-instance/cb1700f6-4793-4ad2-9816-26fff2ee4ae0
2021-02-24 11:14:45,288 - DEBUG - Response Code: 404
2021-02-24 11:14:45,289 - DEBUG - Requesting: https://192.168.7.20:8082/domains
2021-02-24 11:14:45,312 - DEBUG - Requesting: https://192.168.7.20:8082/domain/f27c063f-c6c4-434f-a616-97e72e0043e5
2021-02-24 11:14:45,361 - DEBUG - Requesting: https://192.168.7.20:8082/project/f679e25a-b4f4-499a-83e4-374929daaa49
2021-02-24 11:14:45,420 - INFO - Validated that VN ctest-vn-82956364 is not found in API Server
2021-02-24 11:14:45,420 - DEBUG - Requesting: https://192.168.7.19:8085/Snh_VnListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364
2021-02-24 11:14:45,480 - DEBUG - Requesting: https://192.168.7.19:8085/Snh_VrfListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:45,541 - DEBUG - VN ctest-vn-82956364 is not present in Agent 192.168.7.19 
2021-02-24 11:14:45,541 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_VnListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364
2021-02-24 11:14:45,600 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_VrfListReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:45,657 - DEBUG - VN ctest-vn-82956364 is not present in Agent 192.168.7.9 
2021-02-24 11:14:45,657 - INFO - Validated that VN ctest-vn-82956364 is not in any agent
2021-02-24 11:14:45,657 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_VrfListReq?name=
2021-02-24 11:14:45,673 - DEBUG - VRF 2 is not seen in agent 192.168.7.9
2021-02-24 11:14:45,673 - DEBUG - Requesting: https://192.168.7.9:8085/Snh_KRouteReq?x=2
2021-02-24 11:14:45,729 - DEBUG - Unable to fetch route details in vrouter for  vrf index 2, Got :[]
2021-02-24 11:14:45,729 - DEBUG - Vrouter 192.168.7.9 does not have vrf 2 for VN ctest-vn-82956364
2021-02-24 11:14:45,730 - INFO - Validated that all vrouters do not  have the route table for VN admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364
2021-02-24 11:14:45,730 - DEBUG - Requesting: https://192.168.7.20:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:45,793 - DEBUG - Requesting: https://192.168.7.29:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:45,857 - DEBUG - Requesting: https://192.168.7.34:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364:ctest-vn-82956364
2021-02-24 11:14:45,917 - DEBUG - Requesting: https://192.168.7.34:8083/Snh_IFMapTableShowReq?table_name=virtual-network&search_string=virtual-network:admin_domain:ctest-TestBasicVMVN-24994935:ctest-vn-82956364
2021-02-24 11:14:45,981 - INFO - Validated that Routing instances and Config db in Control-nodes does not have VN ctest-vn-82956364 info
2021-02-24 11:14:46,100 - INFO - IPAM: ctest-ipam-88339274 is not found in API Server
2021-02-24 11:14:46,101 - DEBUG - Requesting: https://192.168.7.20:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274:ctest-ipam-88339274
2021-02-24 11:14:46,161 - DEBUG - Requesting: https://192.168.7.29:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274:ctest-ipam-88339274
2021-02-24 11:14:46,224 - DEBUG - Requesting: https://192.168.7.34:8083/Snh_ShowRoutingInstanceReq?name=admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274:ctest-ipam-88339274
2021-02-24 11:14:46,285 - DEBUG - Requesting: https://192.168.7.34:8083/Snh_IFMapTableShowReq?table_name=network-ipam&search_string=network-ipam:admin_domain:ctest-TestBasicVMVN-24994935:ctest-ipam-88339274
2021-02-24 11:14:46,345 - INFO - IPAM:ctest-ipam-88339274 is not found in control node
2021-02-24 11:14:48,369 - DEBUG - Skipping xmpp flap check
2021-02-24 11:14:48,370 - INFO - END TEST : test_ping_within_vn_two_vms_two_different_subnets : PASSED[0:01:02]
2021-02-24 11:14:48,370 - INFO - --------------------------------------------------------------------------------
2021-02-24 11:14:50,059 - INFO - Deleted project: ctest-TestBasicVMVN-24994935, ID : f679e25a-b4f4-499a-83e4-374929daaa49 
