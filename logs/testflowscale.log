2021-04-05 10:34:32,660 - DEBUG - [10.204.216.103]: Running cmd : hostname
2021-04-05 10:34:33,118 - DEBUG - Output : nodem14
2021-04-05 10:34:33,119 - DEBUG - [10.204.216.103]: Running cmd : hostname -f
2021-04-05 10:34:33,242 - DEBUG - Output : nodem14.englab.juniper.net
2021-04-05 10:34:33,242 - DEBUG - [10.204.216.103]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-05 10:34:33,535 - DEBUG - Output : NAMES
nuthan_test
analytics_snmp_nodemgr_1
analytics_snmp_snmp-collector_1
analytics_snmp_topology_1
analytics_alarm_nodemgr_1
analytics_alarm_kafka_1
analytics_alarm_alarm-gen_1
analytics_collector_1
analytics_nodemgr_1
analytics_api_1
analytics_database_nodemgr_1
analytics_database_cassandra_1
analytics_database_query-engine_1
control_nodemgr_1
control_named_1
control_control_1
control_dns_1
webui_job_1
webui_web_1
config_devicemgr_1
config_nodemgr_1
config_api_1
config_svcmonitor_1
config_schema_1
config_dnsmasq_1
config_database_nodemgr_1
config_database_rabbitmq_1
config_database_cassandra_1
config_database_zookeeper_1
redis_redis_1
barbican_worker
barbican_keystone_listener
barbican_api
horizon
heat_engine
heat_api_cfn
heat_api
neutron_server
nova_novncproxy
nova_conductor
nova_api
nova_scheduler
glance_api
keystone_fernet
keystone_ssh
keystone
rabbitmq
memcached
mariadb
keepalived
haproxy
cron
kolla_toolbox
fluentd
2021-04-05 10:34:33,536 - DEBUG - [10.204.216.103]: Running cmd : getent hosts 10.204.216.103 | head -n 1 | awk '{print $2}'
2021-04-05 10:34:33,640 - DEBUG - Output : nodem14.englab.juniper.net
2021-04-05 10:34:33,641 - DEBUG - [10.204.216.103]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-04-05 10:34:33,755 - DEBUG - Output : 10.204.216.103/24
10.10.10.14/24
172.17.0.1/16
2021-04-05 10:34:33,755 - DEBUG - [10.204.216.103]: Running cmd : getent hosts 10.10.10.14 | head -n 1 | awk '{print $2}'
2021-04-05 10:34:33,880 - DEBUG - Output : nodem14
2021-04-05 10:34:33,880 - DEBUG - [10.204.216.95]: Running cmd : hostname
2021-04-05 10:34:34,380 - DEBUG - Output : nodem6
2021-04-05 10:34:34,380 - DEBUG - [10.204.216.95]: Running cmd : hostname -f
2021-04-05 10:34:34,503 - DEBUG - Output : nodem6.englab.juniper.net
2021-04-05 10:34:34,503 - DEBUG - [10.204.216.95]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-05 10:34:34,812 - DEBUG - Output : NAMES
analytics_snmp_nodemgr_1
analytics_snmp_snmp-collector_1
analytics_snmp_topology_1
analytics_alarm_nodemgr_1
analytics_alarm_kafka_1
analytics_alarm_alarm-gen_1
analytics_collector_1
analytics_nodemgr_1
analytics_api_1
analytics_database_nodemgr_1
analytics_database_cassandra_1
analytics_database_query-engine_1
control_nodemgr_1
control_named_1
control_dns_1
control_control_1
webui_job_1
webui_web_1
config_devicemgr_1
config_nodemgr_1
config_api_1
config_svcmonitor_1
config_schema_1
config_dnsmasq_1
config_database_nodemgr_1
config_database_rabbitmq_1
config_database_cassandra_1
config_database_zookeeper_1
redis_redis_1
barbican_worker
barbican_keystone_listener
barbican_api
horizon
heat_engine
heat_api_cfn
heat_api
neutron_server
nova_novncproxy
nova_conductor
nova_api
nova_scheduler
keystone_fernet
keystone_ssh
keystone
rabbitmq
memcached
mariadb
keepalived
haproxy
cron
kolla_toolbox
fluentd
2021-04-05 10:34:34,812 - DEBUG - [10.204.216.95]: Running cmd : getent hosts 10.204.216.95 | head -n 1 | awk '{print $2}'
2021-04-05 10:34:34,912 - DEBUG - Output : nodem6.englab.juniper.net
2021-04-05 10:34:34,913 - DEBUG - [10.204.216.95]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-04-05 10:34:35,013 - DEBUG - Output : 10.204.216.95/24
10.10.10.6/24
172.17.0.1/16
2021-04-05 10:34:35,013 - DEBUG - [10.204.216.95]: Running cmd : getent hosts 10.10.10.6 | head -n 1 | awk '{print $2}'
2021-04-05 10:34:35,127 - DEBUG - Output : nodem6
2021-04-05 10:34:35,127 - DEBUG - [10.204.216.96]: Running cmd : hostname
2021-04-05 10:34:35,607 - DEBUG - Output : nodem7
2021-04-05 10:34:35,608 - DEBUG - [10.204.216.96]: Running cmd : hostname -f
2021-04-05 10:34:35,734 - DEBUG - Output : nodem7.englab.juniper.net
2021-04-05 10:34:35,735 - DEBUG - [10.204.216.96]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-05 10:34:36,029 - DEBUG - Output : NAMES
analytics_snmp_nodemgr_1
analytics_snmp_snmp-collector_1
analytics_snmp_topology_1
analytics_alarm_nodemgr_1
analytics_alarm_kafka_1
analytics_alarm_alarm-gen_1
analytics_nodemgr_1
analytics_collector_1
analytics_api_1
analytics_database_nodemgr_1
analytics_database_cassandra_1
analytics_database_query-engine_1
control_nodemgr_1
control_named_1
control_dns_1
control_control_1
webui_web_1
webui_job_1
config_devicemgr_1
config_nodemgr_1
config_schema_1
config_api_1
config_svcmonitor_1
config_dnsmasq_1
config_database_nodemgr_1
config_database_rabbitmq_1
config_database_cassandra_1
config_database_zookeeper_1
redis_redis_1
barbican_worker
barbican_keystone_listener
barbican_api
horizon
heat_engine
heat_api_cfn
heat_api
neutron_server
nova_novncproxy
nova_conductor
nova_api
nova_scheduler
keystone_fernet
keystone_ssh
keystone
rabbitmq
memcached
mariadb
keepalived
haproxy
cron
kolla_toolbox
fluentd
2021-04-05 10:34:36,030 - DEBUG - [10.204.216.96]: Running cmd : getent hosts 10.204.216.96 | head -n 1 | awk '{print $2}'
2021-04-05 10:34:36,158 - DEBUG - Output : nodem7.englab.juniper.net
2021-04-05 10:34:36,159 - DEBUG - [10.204.216.96]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-04-05 10:34:36,275 - DEBUG - Output : 10.204.216.96/24
10.10.10.7/24
172.17.0.1/16
2021-04-05 10:34:36,276 - DEBUG - [10.204.216.96]: Running cmd : getent hosts 10.10.10.7 | head -n 1 | awk '{print $2}'
2021-04-05 10:34:36,400 - DEBUG - Output : nodem7
2021-04-05 10:34:36,401 - DEBUG - [10.204.216.98]: Running cmd : hostname
2021-04-05 10:34:36,937 - DEBUG - Output : nodem9
2021-04-05 10:34:36,937 - DEBUG - [10.204.216.98]: Running cmd : hostname -f
2021-04-05 10:34:37,059 - DEBUG - Output : nodem9.englab.juniper.net
2021-04-05 10:34:37,059 - DEBUG - [10.204.216.98]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-05 10:34:37,318 - DEBUG - Output : NAMES
contrail-tools_o3605j452opvn
blissful_nightingale
compassionate_leakey
pedantic_agnesi
eloquent_easley
peaceful_yonath
gallant_lovelace
naughty_elbakyan
vrouter_vrouter-agent_1
vrouter_nodemgr_1
rsyslogd_rsyslogd_1
nova_compute
nova_libvirt
nova_ssh
cron
kolla_toolbox
fluentd
2021-04-05 10:34:37,319 - DEBUG - [10.204.216.98]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-04-05 10:34:37,446 - DEBUG - Output : 10.10.10.9/24
2021-04-05 10:34:37,447 - DEBUG - [10.204.216.98]: Running cmd : getent hosts 10.10.10.9 | head -n 1 | awk '{print $2}'
2021-04-05 10:34:37,575 - DEBUG - Output : nodem9
2021-04-05 10:34:37,575 - DEBUG - [10.204.216.110]: Running cmd : hostname
2021-04-05 10:34:37,992 - DEBUG - Output : server1-ae8275ae0eecf6c488b24302fe22dc9b
2021-04-05 10:34:37,992 - DEBUG - [10.204.216.110]: Running cmd : hostname -f
2021-04-05 10:34:38,092 - DEBUG - Output : server1-ae8275ae0eecf6c488b24302fe22dc9b.englab.juniper.net
2021-04-05 10:34:38,092 - DEBUG - [10.204.216.110]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-05 10:34:38,272 - DEBUG - Output : NAMES
ansible-player_20210329150718
contrail_command
contrail_psql
contrail_command_deployer
2021-04-05 10:34:42,410 - DEBUG - Not creating keypair since it exists
2021-04-05 10:34:42,510 - INFO - Domain Default found not creating
2021-04-05 10:34:43,486 - INFO - Project ctest-TestFlowScale-04338636 not found, creating it
2021-04-05 10:34:44,373 - INFO - Created Project:ctest-TestFlowScale-04338636, ID : 497f23da-4858-4b9c-ba55-6e3429502a06 
2021-04-05 10:34:48,952 - INFO - Created VN ctest-vn-87171506
2021-04-05 10:34:51,226 - INFO - VM ([<Server: ctest-TestFlowScale-04338636-36529879>]) created on node: (nodem9), Zone: (nova:nodem9)
2021-04-05 10:34:51,226 - INFO - Waiting for VM ctest-TestFlowScale-04338636-36529879 to be up..
2021-04-05 10:35:01,924 - INFO - VM name : ctest-TestFlowScale-04338636-36529879
2021-04-05 10:35:04,290 - INFO - Ping to Metadata IP 169.254.0.3 of VM ctest-TestFlowScale-04338636-36529879 passed
2021-04-05 10:35:25,748 - INFO - ================================================================================
2021-04-05 10:35:25,748 - INFO - STARTING TEST    : test_flow_scale
2021-04-05 10:35:25,750 - INFO - TEST DESCRIPTION : 
        Description: Test to scale above 1 million flows and check for memory leaks for UDP traffic
         Test steps:
                1. Add PHYSICAL_INTERFACE in vrouter env if absent
                2. Set flow entries to 1 million in vrouter module
                3. Send traffic through hping3 changing the source port with each iteration
                4. Check for flow count and memory usage
                5. Check for memory leaks
         Pass criteria: Flows scaled above 1 million and there is no memory leaks
         Maintainer : nuthanc@juniper.net 
        
2021-04-05 10:35:27,047 - WARNING - Test is running with cores: {'10.204.216.96': ['core.contrail-collec.1.nodem7.1617040979']}
2021-04-05 10:35:27,048 - INFO - Initial checks done. Running the testcase now
2021-04-05 10:35:27,048 - INFO - 
2021-04-05 10:35:27,202 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:35:28,784 - INFO - Flow count: 16
2021-04-05 10:35:28,785 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5001  --count 1048576  --interval u1 
2021-04-05 10:35:39,629 - INFO - Running hping command for 5s
2021-04-05 10:35:46,602 - INFO - Flow count: 131098
2021-04-05 10:35:46,825 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:35:46,825 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5002  --count 1048576  --interval u1 
2021-04-05 10:35:46,925 - INFO - Running hping command for 5s
2021-04-05 10:35:53,830 - INFO - Flow count: 262172
2021-04-05 10:35:54,032 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:35:54,032 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5003  --count 1048576  --interval u1 
2021-04-05 10:35:54,128 - INFO - Running hping command for 5s
2021-04-05 10:36:01,006 - INFO - Flow count: 393248
2021-04-05 10:36:01,203 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:01,203 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5004  --count 1048576  --interval u1 
2021-04-05 10:36:01,301 - INFO - Running hping command for 5s
2021-04-05 10:36:08,158 - INFO - Flow count: 524326
2021-04-05 10:36:08,347 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:08,347 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5005  --count 1048576  --interval u1 
2021-04-05 10:36:08,447 - INFO - Running hping command for 5s
2021-04-05 10:36:15,334 - INFO - Flow count: 655400
2021-04-05 10:36:15,517 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:15,518 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5006  --count 1048576  --interval u1 
2021-04-05 10:36:15,622 - INFO - Running hping command for 5s
2021-04-05 10:36:22,486 - INFO - Flow count: 786476
2021-04-05 10:36:22,657 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:22,658 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5007  --count 1048576  --interval u1 
2021-04-05 10:36:22,762 - INFO - Running hping command for 5s
2021-04-05 10:36:29,665 - INFO - Flow count: 917554
2021-04-05 10:36:29,857 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:29,858 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5008  --count 1048576  --interval u1 
2021-04-05 10:36:29,957 - INFO - Running hping command for 5s
2021-04-05 10:36:36,805 - INFO - Flow count: 1048628
2021-04-05 10:36:37,000 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:37,001 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5009  --count 1048576  --interval u1 
2021-04-05 10:36:37,102 - INFO - Running hping command for 5s
2021-04-05 10:36:43,980 - INFO - Flow count: 1179702
2021-04-05 10:36:44,175 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:44,175 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5010  --count 1048576  --interval u1 
2021-04-05 10:36:44,274 - INFO - Running hping command for 5s
2021-04-05 10:36:51,149 - INFO - Flow count: 1310776
2021-04-05 10:36:51,333 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:51,333 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5011  --count 1048576  --interval u1 
2021-04-05 10:36:51,436 - INFO - Running hping command for 5s
2021-04-05 10:36:58,269 - INFO - Flow count: 1441850
2021-04-05 10:36:58,458 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:36:58,459 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5012  --count 1048576  --interval u1 
2021-04-05 10:36:58,557 - INFO - Running hping command for 5s
2021-04-05 10:37:05,447 - INFO - Flow count: 1572922
2021-04-05 10:37:05,652 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:37:05,652 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5013  --count 1048576  --interval u1 
2021-04-05 10:37:05,749 - INFO - Running hping command for 5s
2021-04-05 10:37:12,646 - INFO - Flow count: 1703996
2021-04-05 10:37:12,834 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:37:12,834 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5014  --count 1048576  --interval u1 
2021-04-05 10:37:12,939 - INFO - Running hping command for 5s
2021-04-05 10:37:19,822 - INFO - Flow count: 1835070
2021-04-05 10:37:20,005 - INFO - vrouter agent memory usage: 32666736
2021-04-05 10:37:20,006 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5015  --count 1048576  --interval u1 
2021-04-05 10:37:20,105 - INFO - Running hping command for 5s
2021-04-05 10:37:26,971 - INFO - Flow count: 1966142
2021-04-05 10:37:27,153 - INFO - vrouter agent memory usage: 32674688
2021-04-05 10:37:27,153 - INFO - Starting hping3  on ctest-TestFlowScale-04338636-36529879, args:  --udp   --keep   --destport ++1000  --baseport 5016  --count 1048576  --interval u1 
2021-04-05 10:37:27,254 - INFO - Running hping command for 5s
2021-04-05 10:37:34,106 - INFO - Flow count: 2097216
2021-04-05 10:37:34,297 - INFO - vrouter agent memory usage: 32676704
2021-04-05 10:37:34,297 - INFO - DIFF: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7952, 2016] AND AVG: 623.0
2021-04-05 10:37:34,297 - INFO - Min memory usage: 0
2021-04-05 10:37:34,298 - INFO - Flow to memory usage: {16: 32666736, 131098: 32666736, 262172: 32666736, 393248: 32666736, 524326: 32666736, 655400: 32666736, 786476: 32666736, 917554: 32666736, 1048628: 32666736, 1179702: 32666736, 1310776: 32666736, 1441850: 32666736, 1572922: 32666736, 1703996: 32666736, 1835070: 32666736, 1966142: 32674688, 2097216: 32676704}
2021-04-05 10:37:34,298 - INFO - Wait 120s for flows to get cleared
2021-04-05 10:39:34,299 - INFO - Checking flow_count and memory usage of vrouter
2021-04-05 10:39:35,906 - INFO - Flow count: 2097218
2021-04-05 10:39:36,100 - INFO - vrouter agent memory usage: 32676704
2021-04-05 10:43:27,400 - INFO - Deleting VM ctest-TestFlowScale-04338636-36529879
2021-04-05 10:43:29,516 - ERROR - AssertionError
Python 3.6.8: /usr/bin/python3
Mon Apr  5 10:43:27 2021

A problem occurred in a Python script.  Here is the sequence of
function calls leading up to the error, in the order they occurred.

 /contrail-test/tcutils/wrappers.py in wrapper(self=<serial_scripts.scale.flow.test_flow.TestFlowScale.test_flow_scale[flow_scale] id=0x7fb542484da0>, *args=(), **kwargs={})
   79             log.info('Initial checks done. Running the testcase now')
   80             log.info('')
   81             result = function(self, *args, **kwargs)
   82             if self.inputs.upgrade:
   83                 pid = os.getpid()
result = None
function = <function TestFlowScale.test_flow_scale>
self = <serial_scripts.scale.flow.test_flow.TestFlowScale.test_flow_scale[flow_scale] id=0x7fb542484da0>
args = ()
kwargs = {}

 /contrail-test/serial_scripts/scale/flow/test_flow.py in test_flow_scale(self=<serial_scripts.scale.flow.test_flow.TestFlowScale.test_flow_scale[flow_scale] id=0x7fb542484da0>)
  229         self.logger.info('Min memory usage: %s' %self.min_mem_usg)
  230         self.logger.info('Flow to memory usage: %s' %self.flow_mem_usage)
  231         self.memory_leak_checks()
  232 
  233 
self = <serial_scripts.scale.flow.test_flow.TestFlowScale.test_flow_scale[flow_scale] id=0x7fb542484da0>
self.memory_leak_checks = <bound method TestFlowScale.memory_leak_checks o...e.test_flow_scale[flow_scale] id=0x7fb542484da0>>

 /contrail-test/serial_scripts/scale/flow/test_flow.py in memory_leak_checks(self=<serial_scripts.scale.flow.test_flow.TestFlowScale.test_flow_scale[flow_scale] id=0x7fb542484da0>)
  179         for i in range(3):
  180             baseport = 6000 + i
  181             self.wait_and_add_flows(baseport)
  182 
  183 
self = <serial_scripts.scale.flow.test_flow.TestFlowScale.test_flow_scale[flow_scale] id=0x7fb542484da0>
self.wait_and_add_flows = <bound method TestFlowScale.wait_and_add_flows o...e.test_flow_scale[flow_scale] id=0x7fb542484da0>>
baseport = 6000

 /contrail-test/serial_scripts/scale/flow/test_flow.py in wait_and_add_flows(self=<serial_scripts.scale.flow.test_flow.TestFlowScale.test_flow_scale[flow_scale] id=0x7fb542484da0>, baseport=6000)
  144         diff = mem - self.mem_usg[l-1]
  145         import pdb;pdb.set_trace()
  146         assert diff < self.min_mem_usg, 'Memory not decreasing proportionately after flow deletion'
  147         self.flow_mem_usage[flow_count] = mem
  148         self.mem_usg.append(mem)
diff = 0
self = <serial_scripts.scale.flow.test_flow.TestFlowScale.test_flow_scale[flow_scale] id=0x7fb542484da0>
self.min_mem_usg = 0
AssertionError: Memory not decreasing proportionately after flow deletion
    __cause__ = None
    __class__ = <class 'AssertionError'>
    __context__ = None
    __delattr__ = <method-wrapper '__delattr__' of AssertionError object>
    __dict__ = {}
    __dir__ = <built-in method __dir__ of AssertionError object>
    __doc__ = 'Assertion failed.'
    __eq__ = <method-wrapper '__eq__' of AssertionError object>
    __format__ = <built-in method __format__ of AssertionError object>
    __ge__ = <method-wrapper '__ge__' of AssertionError object>
    __getattribute__ = <method-wrapper '__getattribute__' of AssertionError object>
    __gt__ = <method-wrapper '__gt__' of AssertionError object>
    __hash__ = <method-wrapper '__hash__' of AssertionError object>
    __init__ = <method-wrapper '__init__' of AssertionError object>
    __init_subclass__ = <built-in method __init_subclass__ of type object>
    __le__ = <method-wrapper '__le__' of AssertionError object>
    __lt__ = <method-wrapper '__lt__' of AssertionError object>
    __ne__ = <method-wrapper '__ne__' of AssertionError object>
    __new__ = <built-in method __new__ of type object>
    __reduce__ = <built-in method __reduce__ of AssertionError object>
    __reduce_ex__ = <built-in method __reduce_ex__ of AssertionError object>
    __repr__ = <method-wrapper '__repr__' of AssertionError object>
    __setattr__ = <method-wrapper '__setattr__' of AssertionError object>
    __setstate__ = <built-in method __setstate__ of AssertionError object>
    __sizeof__ = <built-in method __sizeof__ of AssertionError object>
    __str__ = <method-wrapper '__str__' of AssertionError object>
    __subclasshook__ = <built-in method __subclasshook__ of type object>
    __suppress_context__ = False
    __traceback__ = <traceback object>
    args = ('Memory not decreasing proportionately after flow deletion',)
    with_traceback = <built-in method with_traceback of AssertionError object>

The above is a description of an error in a Python program.  Here is
the original traceback:

Traceback (most recent call last):
  File "/contrail-test/tcutils/wrappers.py", line 81, in wrapper
    result = function(self, *args, **kwargs)
  File "/contrail-test/serial_scripts/scale/flow/test_flow.py", line 231, in test_flow_scale
    self.memory_leak_checks()
  File "/contrail-test/serial_scripts/scale/flow/test_flow.py", line 181, in memory_leak_checks
    self.wait_and_add_flows(baseport)
  File "/contrail-test/serial_scripts/scale/flow/test_flow.py", line 146, in wait_and_add_flows
    assert diff < self.min_mem_usg, 'Memory not decreasing proportionately after flow deletion'
AssertionError: Memory not decreasing proportionately after flow deletion



2021-04-05 10:43:29,517 - INFO - 
2021-04-05 10:43:29,517 - INFO - END TEST : test_flow_scale : FAILED[0:08:04]
2021-04-05 10:43:29,518 - INFO - --------------------------------------------------------------------------------
2021-04-05 10:43:29,745 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:31,809 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:33,891 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:35,970 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:38,057 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:40,146 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:42,233 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:44,354 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:46,420 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:48,499 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:50,587 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:52,664 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:54,737 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:56,825 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:43:58,910 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:00,994 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:03,070 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:05,152 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:07,233 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:09,317 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:11,405 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:13,490 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:15,577 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:17,664 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:19,751 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:21,831 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:23,906 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:25,988 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:28,068 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:30,148 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:32,292 - WARNING - Project ctest-TestFlowScale-04338636 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-04338636', 'ctest-vn-87171506'], 'href': 'http://10.204.216.103:8082/virtual-network/3e29e859-96b7-4915-be63-fcc0130e7349', 'uuid': '3e29e859-96b7-4915-be63-fcc0130e7349'}] before deletion
2021-04-05 10:44:32,292 - WARNING - One or more references still present, will not delete the project ctest-TestFlowScale-04338636
