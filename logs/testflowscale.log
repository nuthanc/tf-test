2021-04-01 11:38:38,811 - DEBUG - [10.204.216.103]: Running cmd : hostname
2021-04-01 11:38:39,300 - DEBUG - Output : nodem14
2021-04-01 11:38:39,301 - DEBUG - [10.204.216.103]: Running cmd : hostname -f
2021-04-01 11:38:39,419 - DEBUG - Output : nodem14.englab.juniper.net
2021-04-01 11:38:39,419 - DEBUG - [10.204.216.103]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-01 11:38:39,753 - DEBUG - Output : NAMES
nuthan_test
analytics_snmp_nodemgr_1
analytics_snmp_snmp-collector_1
analytics_snmp_topology_1
analytics_alarm_nodemgr_1
analytics_alarm_kafka_1
analytics_alarm_alarm-gen_1
analytics_collector_1
analytics_nodemgr_1
analytics_api_1
analytics_database_nodemgr_1
analytics_database_cassandra_1
analytics_database_query-engine_1
control_nodemgr_1
control_named_1
control_control_1
control_dns_1
webui_job_1
webui_web_1
config_devicemgr_1
config_nodemgr_1
config_api_1
config_svcmonitor_1
config_schema_1
config_dnsmasq_1
config_database_nodemgr_1
config_database_rabbitmq_1
config_database_cassandra_1
config_database_zookeeper_1
redis_redis_1
barbican_worker
barbican_keystone_listener
barbican_api
horizon
heat_engine
heat_api_cfn
heat_api
neutron_server
nova_novncproxy
nova_conductor
nova_api
nova_scheduler
glance_api
keystone_fernet
keystone_ssh
keystone
rabbitmq
memcached
mariadb
keepalived
haproxy
cron
kolla_toolbox
fluentd
2021-04-01 11:38:39,754 - DEBUG - [10.204.216.103]: Running cmd : getent hosts 10.204.216.103 | head -n 1 | awk '{print $2}'
2021-04-01 11:38:39,872 - DEBUG - Output : nodem14.englab.juniper.net
2021-04-01 11:38:39,872 - DEBUG - [10.204.216.103]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-04-01 11:38:39,980 - DEBUG - Output : 10.204.216.103/24
10.10.10.14/24
172.17.0.1/16
2021-04-01 11:38:39,980 - DEBUG - [10.204.216.103]: Running cmd : getent hosts 10.10.10.14 | head -n 1 | awk '{print $2}'
2021-04-01 11:38:40,106 - DEBUG - Output : nodem14
2021-04-01 11:38:40,106 - DEBUG - [10.204.216.95]: Running cmd : hostname
2021-04-01 11:38:40,605 - DEBUG - Output : nodem6
2021-04-01 11:38:40,606 - DEBUG - [10.204.216.95]: Running cmd : hostname -f
2021-04-01 11:38:40,714 - DEBUG - Output : nodem6.englab.juniper.net
2021-04-01 11:38:40,714 - DEBUG - [10.204.216.95]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-01 11:38:41,028 - DEBUG - Output : NAMES
analytics_snmp_nodemgr_1
analytics_snmp_snmp-collector_1
analytics_snmp_topology_1
analytics_alarm_nodemgr_1
analytics_alarm_kafka_1
analytics_alarm_alarm-gen_1
analytics_collector_1
analytics_nodemgr_1
analytics_api_1
analytics_database_nodemgr_1
analytics_database_cassandra_1
analytics_database_query-engine_1
control_nodemgr_1
control_named_1
control_dns_1
control_control_1
webui_job_1
webui_web_1
config_devicemgr_1
config_nodemgr_1
config_api_1
config_svcmonitor_1
config_schema_1
config_dnsmasq_1
config_database_nodemgr_1
config_database_rabbitmq_1
config_database_cassandra_1
config_database_zookeeper_1
redis_redis_1
barbican_worker
barbican_keystone_listener
barbican_api
horizon
heat_engine
heat_api_cfn
heat_api
neutron_server
nova_novncproxy
nova_conductor
nova_api
nova_scheduler
keystone_fernet
keystone_ssh
keystone
rabbitmq
memcached
mariadb
keepalived
haproxy
cron
kolla_toolbox
fluentd
2021-04-01 11:38:41,029 - DEBUG - [10.204.216.95]: Running cmd : getent hosts 10.204.216.95 | head -n 1 | awk '{print $2}'
2021-04-01 11:38:41,146 - DEBUG - Output : nodem6.englab.juniper.net
2021-04-01 11:38:41,146 - DEBUG - [10.204.216.95]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-04-01 11:38:41,267 - DEBUG - Output : 10.204.216.95/24
10.10.10.6/24
172.17.0.1/16
2021-04-01 11:38:41,267 - DEBUG - [10.204.216.95]: Running cmd : getent hosts 10.10.10.6 | head -n 1 | awk '{print $2}'
2021-04-01 11:38:41,391 - DEBUG - Output : nodem6
2021-04-01 11:38:41,391 - DEBUG - [10.204.216.96]: Running cmd : hostname
2021-04-01 11:38:41,870 - DEBUG - Output : nodem7
2021-04-01 11:38:41,870 - DEBUG - [10.204.216.96]: Running cmd : hostname -f
2021-04-01 11:38:41,989 - DEBUG - Output : nodem7.englab.juniper.net
2021-04-01 11:38:41,989 - DEBUG - [10.204.216.96]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-01 11:38:42,311 - DEBUG - Output : NAMES
analytics_snmp_nodemgr_1
analytics_snmp_snmp-collector_1
analytics_snmp_topology_1
analytics_alarm_nodemgr_1
analytics_alarm_kafka_1
analytics_alarm_alarm-gen_1
analytics_nodemgr_1
analytics_collector_1
analytics_api_1
analytics_database_nodemgr_1
analytics_database_cassandra_1
analytics_database_query-engine_1
control_nodemgr_1
control_named_1
control_dns_1
control_control_1
webui_web_1
webui_job_1
config_devicemgr_1
config_nodemgr_1
config_schema_1
config_api_1
config_svcmonitor_1
config_dnsmasq_1
config_database_nodemgr_1
config_database_rabbitmq_1
config_database_cassandra_1
config_database_zookeeper_1
redis_redis_1
barbican_worker
barbican_keystone_listener
barbican_api
horizon
heat_engine
heat_api_cfn
heat_api
neutron_server
nova_novncproxy
nova_conductor
nova_api
nova_scheduler
keystone_fernet
keystone_ssh
keystone
rabbitmq
memcached
mariadb
keepalived
haproxy
cron
kolla_toolbox
fluentd
2021-04-01 11:38:42,312 - DEBUG - [10.204.216.96]: Running cmd : getent hosts 10.204.216.96 | head -n 1 | awk '{print $2}'
2021-04-01 11:38:42,428 - DEBUG - Output : nodem7.englab.juniper.net
2021-04-01 11:38:42,428 - DEBUG - [10.204.216.96]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-04-01 11:38:42,555 - DEBUG - Output : 10.204.216.96/24
10.10.10.7/24
172.17.0.1/16
2021-04-01 11:38:42,555 - DEBUG - [10.204.216.96]: Running cmd : getent hosts 10.10.10.7 | head -n 1 | awk '{print $2}'
2021-04-01 11:38:42,673 - DEBUG - Output : nodem7
2021-04-01 11:38:42,674 - DEBUG - [10.204.216.98]: Running cmd : hostname
2021-04-01 11:38:43,211 - DEBUG - Output : nodem9
2021-04-01 11:38:43,212 - DEBUG - [10.204.216.98]: Running cmd : hostname -f
2021-04-01 11:38:43,331 - DEBUG - Output : nodem9.englab.juniper.net
2021-04-01 11:38:43,331 - DEBUG - [10.204.216.98]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-01 11:38:43,601 - DEBUG - Output : NAMES
contrail-tools_o3605j452opvn
blissful_nightingale
compassionate_leakey
pedantic_agnesi
eloquent_easley
peaceful_yonath
gallant_lovelace
naughty_elbakyan
vrouter_vrouter-agent_1
vrouter_nodemgr_1
rsyslogd_rsyslogd_1
nova_compute
nova_libvirt
nova_ssh
cron
kolla_toolbox
fluentd
2021-04-01 11:38:43,602 - DEBUG - [10.204.216.98]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-04-01 11:38:43,726 - DEBUG - Output : 10.10.10.9/24
2021-04-01 11:38:43,726 - DEBUG - [10.204.216.98]: Running cmd : getent hosts 10.10.10.9 | head -n 1 | awk '{print $2}'
2021-04-01 11:38:43,852 - DEBUG - Output : nodem9
2021-04-01 11:38:43,852 - DEBUG - [10.204.216.110]: Running cmd : hostname
2021-04-01 11:38:44,260 - DEBUG - Output : server1-ae8275ae0eecf6c488b24302fe22dc9b
2021-04-01 11:38:44,261 - DEBUG - [10.204.216.110]: Running cmd : hostname -f
2021-04-01 11:38:44,356 - DEBUG - Output : server1-ae8275ae0eecf6c488b24302fe22dc9b.englab.juniper.net
2021-04-01 11:38:44,356 - DEBUG - [10.204.216.110]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-04-01 11:38:44,545 - DEBUG - Output : NAMES
ansible-player_20210329150718
contrail_command
contrail_psql
contrail_command_deployer
2021-04-01 11:38:48,525 - DEBUG - Not creating keypair since it exists
2021-04-01 11:38:48,647 - INFO - Domain Default found not creating
2021-04-01 11:38:49,730 - INFO - Project ctest-TestFlowScale-43155173 not found, creating it
2021-04-01 11:38:50,824 - INFO - Created Project:ctest-TestFlowScale-43155173, ID : c27328a4-d458-475a-ace2-9c697b8b1c18 
2021-04-01 11:38:54,100 - INFO - Reloading vrouter module on 10.204.216.98
2021-04-01 11:38:58,765 - INFO - Cmd output info: vrouter_vrouter-agent_1
              total        used        free      shared  buff/cache   available
Mem:      263855792     8155400   255274644       19124      425748   254869940
Swap:             0           0           0
              total        used        free      shared  buff/cache   available
Mem:      263855792     8153728   255485904       19124      216160   254925552
Swap:             0           0           0
vrouter_vrouter-agent_1
2021-04-01 11:38:59,040 - INFO - 10.204.216.98
2021-04-01 11:38:59,040 - INFO -   vrouter
2021-04-01 11:38:59,065 - INFO -     vrouter-nodemgr:active
2021-04-01 11:38:59,073 - INFO -     agent:initializing
2021-04-01 11:39:09,302 - INFO - 10.204.216.98
2021-04-01 11:39:09,303 - INFO -   vrouter
2021-04-01 11:39:09,312 - INFO -     vrouter-nodemgr:active
2021-04-01 11:39:09,322 - INFO -     agent:active
2021-04-01 11:39:09,322 - INFO - All the contrail services are up on nodes ['10.204.216.98']
2021-04-01 11:39:09,994 - INFO - Flow Table limit                     6291456
2021-04-01 11:39:09,995 - INFO - Running docker cp vrouter_vrouter-agent_1:/actions.sh . on 10.204.216.98
2021-04-01 11:39:10,337 - INFO - Running awk 'BEGIN { section=0; doprint=1 } /\[DEFAULT\]/ { section=1 } /flow_cache_timeout/ { if (section) {doprint=0; section=0} } { if (doprint) {print} else {doprint=1} }'  actions.sh > actions.sh.modified on 10.204.216.98
2021-04-01 11:39:10,477 - INFO - Running mv actions.sh.modified actions.sh; chmod +x actions.sh on 10.204.216.98
2021-04-01 11:39:10,596 - INFO - Running grep -q -F 'flow_cache_timeout=120' actions.sh ||sed -i  '/\[DEFAULT\]/a flow_cache_timeout=120' actions.sh on 10.204.216.98
2021-04-01 11:39:10,732 - INFO - Running docker cp actions.sh vrouter_vrouter-agent_1:/actions.sh on 10.204.216.98
2021-04-01 11:39:11,526 - INFO - Running docker restart vrouter_vrouter-agent_1 -t 60 on 10.204.216.98
2021-04-01 11:39:20,620 - INFO - Flow_cache_timeout set to 120 on 10.204.216.98
2021-04-01 11:39:22,138 - INFO - Created VN ctest-vn-12615456
2021-04-01 11:39:25,685 - INFO - VM ([<Server: ctest-TestFlowScale-43155173-14252468>]) created on node: (nodem9), Zone: (nova:nodem9)
2021-04-01 11:39:25,686 - INFO - Waiting for VM ctest-TestFlowScale-43155173-14252468 to be up..
2021-04-01 11:39:36,200 - INFO - VM name : ctest-TestFlowScale-43155173-14252468
2021-04-01 11:39:39,148 - INFO - Ping to Metadata IP 169.254.0.3 of VM ctest-TestFlowScale-43155173-14252468 passed
2021-04-01 11:40:05,780 - INFO - ================================================================================
2021-04-01 11:40:05,781 - INFO - STARTING TEST    : test_flow_scale
2021-04-01 11:40:05,784 - INFO - TEST DESCRIPTION : 
        Description: Test to scale 1 million flows
         Test steps:
                1. Add PHYSICAL_INTERFACE in vrouter env if absent
                2. Set flow entries to 1 million in vrouter module
                3. Increase flow timeout to high value like 9999
                4. Send traffic through hping3 changing the source port with each iteration
                5. Check for flow count in flow table
         Pass criteria: Flow count greater than 1 million
         Maintainer : nuthanc@juniper.net 
        
2021-04-01 11:40:07,036 - WARNING - Test is running with cores: {'10.204.216.96': ['core.contrail-collec.1.nodem7.1617040979']}
2021-04-01 11:40:07,037 - INFO - Initial checks done. Running the testcase now
2021-04-01 11:40:07,037 - INFO - 
2021-04-01 11:40:07,200 - INFO - vrouter agent memory usage: 652972
2021-04-01 11:40:08,797 - INFO - Flow count: 16
2021-04-01 11:40:08,798 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5001  --count 1048576  --interval u1 
2021-04-01 11:40:19,643 - INFO - Running hping command for 5s
2021-04-01 11:40:26,673 - INFO - Flow count: 126576
2021-04-01 11:40:26,910 - INFO - vrouter agent memory usage: 1645828
2021-04-01 11:40:26,910 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5002  --count 1048576  --interval u1 
2021-04-01 11:40:27,014 - INFO - Running hping command for 5s
2021-04-01 11:40:33,898 - INFO - Flow count: 256964
2021-04-01 11:40:34,091 - INFO - vrouter agent memory usage: 2528948
2021-04-01 11:40:34,091 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5003  --count 1048576  --interval u1 
2021-04-01 11:40:34,194 - INFO - Running hping command for 5s
2021-04-01 11:40:41,018 - INFO - Flow count: 385588
2021-04-01 11:40:41,200 - INFO - vrouter agent memory usage: 3145264
2021-04-01 11:40:41,201 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5004  --count 1048576  --interval u1 
2021-04-01 11:40:41,303 - INFO - Running hping command for 5s
2021-04-01 11:40:48,172 - INFO - Flow count: 509430
2021-04-01 11:40:48,365 - INFO - vrouter agent memory usage: 3969000
2021-04-01 11:40:48,366 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5005  --count 1048576  --interval u1 
2021-04-01 11:40:48,472 - INFO - Running hping command for 5s
2021-04-01 11:40:55,317 - INFO - Flow count: 635140
2021-04-01 11:40:55,498 - INFO - vrouter agent memory usage: 4686908
2021-04-01 11:40:55,498 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5006  --count 1048576  --interval u1 
2021-04-01 11:40:55,598 - INFO - Running hping command for 5s
2021-04-01 11:41:02,476 - INFO - Flow count: 766218
2021-04-01 11:41:02,671 - INFO - vrouter agent memory usage: 5291956
2021-04-01 11:41:02,672 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5007  --count 1048576  --interval u1 
2021-04-01 11:41:02,767 - INFO - Running hping command for 5s
2021-04-01 11:41:09,580 - INFO - Flow count: 891224
2021-04-01 11:41:09,771 - INFO - vrouter agent memory usage: 5883376
2021-04-01 11:41:09,771 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5008  --count 1048576  --interval u1 
2021-04-01 11:41:09,868 - INFO - Running hping command for 5s
2021-04-01 11:41:16,713 - INFO - Flow count: 1020008
2021-04-01 11:41:16,898 - INFO - vrouter agent memory usage: 6514672
2021-04-01 11:41:16,898 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5009  --count 1048576  --interval u1 
2021-04-01 11:41:17,001 - INFO - Running hping command for 5s
2021-04-01 11:41:23,866 - INFO - Flow count: 1150614
2021-04-01 11:41:24,045 - INFO - vrouter agent memory usage: 7166332
2021-04-01 11:41:24,046 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5010  --count 1048576  --interval u1 
2021-04-01 11:41:24,147 - INFO - Running hping command for 5s
2021-04-01 11:41:30,990 - INFO - Flow count: 1280406
2021-04-01 11:41:31,183 - INFO - vrouter agent memory usage: 7796864
2021-04-01 11:41:31,184 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5011  --count 1048576  --interval u1 
2021-04-01 11:41:31,280 - INFO - Running hping command for 5s
2021-04-01 11:41:38,165 - INFO - Flow count: 1411480
2021-04-01 11:41:38,362 - INFO - vrouter agent memory usage: 8389448
2021-04-01 11:41:38,362 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5012  --count 1048576  --interval u1 
2021-04-01 11:41:38,463 - INFO - Running hping command for 5s
2021-04-01 11:41:45,285 - INFO - Flow count: 1541040
2021-04-01 11:41:45,481 - INFO - vrouter agent memory usage: 8976708
2021-04-01 11:41:45,481 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5013  --count 1048576  --interval u1 
2021-04-01 11:41:45,576 - INFO - Running hping command for 5s
2021-04-01 11:41:52,432 - INFO - Flow count: 1669196
2021-04-01 11:41:52,627 - INFO - vrouter agent memory usage: 9558928
2021-04-01 11:41:52,627 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5014  --count 1048576  --interval u1 
2021-04-01 11:41:52,722 - INFO - Running hping command for 5s
2021-04-01 11:41:59,606 - INFO - Flow count: 1792212
2021-04-01 11:41:59,799 - INFO - vrouter agent memory usage: 10123016
2021-04-01 11:41:59,799 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5015  --count 1048576  --interval u1 
2021-04-01 11:41:59,897 - INFO - Running hping command for 5s
2021-04-01 11:42:06,747 - INFO - Flow count: 1916340
2021-04-01 11:42:06,929 - INFO - vrouter agent memory usage: 10696016
2021-04-01 11:42:06,930 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5016  --count 1048576  --interval u1 
2021-04-01 11:42:07,034 - INFO - Running hping command for 5s
2021-04-01 11:42:13,868 - INFO - Flow count: 2047414
2021-04-01 11:42:14,048 - INFO - vrouter agent memory usage: 11283172
2021-04-01 11:42:14,048 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 5017  --count 1048576  --interval u1 
2021-04-01 11:42:14,150 - INFO - Running hping command for 5s
2021-04-01 11:42:20,968 - INFO - Flow count: 2178486
2021-04-01 11:42:21,148 - INFO - vrouter agent memory usage: 11872336
2021-04-01 11:42:21,148 - INFO - DIFF: [883120, 616316, 823736, 717908, 605048, 591420, 631296, 651660, 630532, 592584, 587260, 582220, 564088, 573000, 587156, 589164] AND AVG: 639156.75
2021-04-01 11:42:21,149 - INFO - Wait 120s for flows to get cleared
2021-04-01 11:44:21,150 - INFO - Checking flow_count and memory usage of vrouter: Taking 3 readings
2021-04-01 11:44:21,151 - INFO - Reading 1 after waiting is done
2021-04-01 11:44:22,682 - INFO - Flow count: 303212
2021-04-01 11:44:22,683 - INFO - Flow count: 303212
2021-04-01 11:44:22,859 - INFO - vrouter agent memory usage: 11874536
2021-04-01 11:44:24,860 - INFO - Reading 2 after waiting is done
2021-04-01 11:44:26,454 - INFO - Flow count: 303212
2021-04-01 11:44:26,455 - INFO - Flow count: 303212
2021-04-01 11:44:26,649 - INFO - vrouter agent memory usage: 11874564
2021-04-01 11:44:28,649 - INFO - Reading 3 after waiting is done
2021-04-01 11:44:30,245 - INFO - Flow count: 303212
2021-04-01 11:44:30,246 - INFO - Flow count: 303212
2021-04-01 11:44:30,434 - INFO - vrouter agent memory usage: 11874604
2021-04-01 11:44:32,435 - INFO - Adding 100000 flows
2021-04-01 11:44:32,435 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 6000  --count 1048576  --interval u1 
2021-04-01 11:44:32,502 - INFO - Running hping command for 5s
2021-04-01 11:44:39,325 - INFO - Flow count: 265613
2021-04-01 11:44:39,325 - INFO - Checking flow_count and memory usage of vrouter: Taking 3 readings
2021-04-01 11:44:39,326 - INFO - Reading 1 after add
2021-04-01 11:44:40,862 - INFO - Flow count: 234054
2021-04-01 11:44:40,862 - INFO - Flow count: 234054
2021-04-01 11:44:41,060 - INFO - vrouter agent memory usage: 11874340
2021-04-01 11:44:43,061 - INFO - Reading 2 after add
2021-04-01 11:44:44,647 - INFO - Flow count: 214350
2021-04-01 11:44:44,647 - INFO - Flow count: 214350
2021-04-01 11:44:44,813 - INFO - vrouter agent memory usage: 11874792
2021-04-01 11:44:46,815 - INFO - Reading 3 after add
2021-04-01 11:44:48,321 - INFO - Flow count: 111176
2021-04-01 11:44:48,322 - INFO - Flow count: 111176
2021-04-01 11:44:48,516 - INFO - vrouter agent memory usage: 11874452
2021-04-01 11:44:50,518 - INFO - Wait 120s for flows to get cleared
2021-04-01 11:46:50,519 - INFO - Checking flow_count and memory usage of vrouter: Taking 3 readings
2021-04-01 11:46:50,520 - INFO - Reading 1 after waiting is done
2021-04-01 11:46:52,110 - INFO - Flow count: 0
2021-04-01 11:46:52,110 - INFO - Flow count: 0
2021-04-01 11:46:52,298 - INFO - vrouter agent memory usage: 11874580
2021-04-01 11:46:54,299 - INFO - Reading 2 after waiting is done
2021-04-01 11:46:55,912 - INFO - Flow count: 0
2021-04-01 11:46:55,913 - INFO - Flow count: 0
2021-04-01 11:46:56,091 - INFO - vrouter agent memory usage: 11874584
2021-04-01 11:46:58,092 - INFO - Reading 3 after waiting is done
2021-04-01 11:46:59,662 - INFO - Flow count: 0
2021-04-01 11:46:59,662 - INFO - Flow count: 0
2021-04-01 11:46:59,847 - INFO - vrouter agent memory usage: 11874604
2021-04-01 11:47:01,847 - INFO - Adding 100000 flows
2021-04-01 11:47:01,848 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 6001  --count 1048576  --interval u1 
2021-04-01 11:47:01,917 - INFO - Running hping command for 5s
2021-04-01 11:47:08,787 - INFO - Flow count: 131074
2021-04-01 11:47:08,787 - INFO - Checking flow_count and memory usage of vrouter: Taking 3 readings
2021-04-01 11:47:08,787 - INFO - Reading 1 after add
2021-04-01 11:47:10,400 - INFO - Flow count: 131074
2021-04-01 11:47:10,400 - INFO - Flow count: 131074
2021-04-01 11:47:10,586 - INFO - vrouter agent memory usage: 11875112
2021-04-01 11:47:12,587 - INFO - Reading 2 after add
2021-04-01 11:47:14,183 - INFO - Flow count: 131074
2021-04-01 11:47:14,184 - INFO - Flow count: 131074
2021-04-01 11:47:14,366 - INFO - vrouter agent memory usage: 11875136
2021-04-01 11:47:16,367 - INFO - Reading 3 after add
2021-04-01 11:47:17,969 - INFO - Flow count: 131074
2021-04-01 11:47:17,970 - INFO - Flow count: 131074
2021-04-01 11:47:18,163 - INFO - vrouter agent memory usage: 11875160
2021-04-01 11:47:20,165 - INFO - Wait 120s for flows to get cleared
2021-04-01 11:49:20,166 - INFO - Checking flow_count and memory usage of vrouter: Taking 3 readings
2021-04-01 11:49:20,166 - INFO - Reading 1 after waiting is done
2021-04-01 11:49:21,747 - INFO - Flow count: 0
2021-04-01 11:49:21,748 - INFO - Flow count: 0
2021-04-01 11:49:21,940 - INFO - vrouter agent memory usage: 11875464
2021-04-01 11:49:23,940 - INFO - Reading 2 after waiting is done
2021-04-01 11:49:25,525 - INFO - Flow count: 0
2021-04-01 11:49:25,525 - INFO - Flow count: 0
2021-04-01 11:49:25,718 - INFO - vrouter agent memory usage: 11875504
2021-04-01 11:49:27,720 - INFO - Reading 3 after waiting is done
2021-04-01 11:49:29,344 - INFO - Flow count: 0
2021-04-01 11:49:29,344 - INFO - Flow count: 0
2021-04-01 11:49:29,524 - INFO - vrouter agent memory usage: 11875564
2021-04-01 11:49:31,525 - INFO - Adding 100000 flows
2021-04-01 11:49:31,525 - INFO - Starting hping3  on ctest-TestFlowScale-43155173-14252468, args:  --udp   --keep   --destport ++1000  --baseport 6002  --count 1048576  --interval u1 
2021-04-01 11:49:31,604 - INFO - Running hping command for 5s
2021-04-01 11:49:38,501 - INFO - Flow count: 131074
2021-04-01 11:49:38,502 - INFO - Checking flow_count and memory usage of vrouter: Taking 3 readings
2021-04-01 11:49:38,502 - INFO - Reading 1 after add
2021-04-01 11:49:40,118 - INFO - Flow count: 131074
2021-04-01 11:49:40,118 - INFO - Flow count: 131074
2021-04-01 11:49:40,298 - INFO - vrouter agent memory usage: 11887132
2021-04-01 11:49:42,300 - INFO - Reading 2 after add
2021-04-01 11:49:43,906 - INFO - Flow count: 131074
2021-04-01 11:49:43,907 - INFO - Flow count: 131074
2021-04-01 11:49:44,085 - INFO - vrouter agent memory usage: 11896516
2021-04-01 11:49:46,086 - INFO - Reading 3 after add
2021-04-01 11:49:47,677 - INFO - Flow count: 131074
2021-04-01 11:49:47,678 - INFO - Flow count: 131074
2021-04-01 11:49:47,869 - INFO - vrouter agent memory usage: 11906396
2021-04-01 11:49:55,644 - INFO - Flow to memory usage: {16: 652972, 126576: 1645828, 256964: 2528948, 385588: 3145264, 509430: 3969000, 635140: 4686908, 766218: 5291956, 891224: 5883376, 1020008: 6514672, 1150614: 7166332, 1280406: 7796864, 1411480: 8389448, 1541040: 8976708, 1669196: 9558928, 1792212: 10123016, 1916340: 10696016, 2047414: 11283172, 2178486: 11872336, 303212: 11874604, 234054: 11874340, 214350: 11874792, 111176: 11874452, 0: 11875564, 131074: 11906396}
2021-04-01 11:49:55,645 - INFO - Deleting VM ctest-TestFlowScale-43155173-14252468
2021-04-01 11:49:57,932 - INFO - END TEST : test_flow_scale : PASSED[0:09:52]
2021-04-01 11:49:57,932 - INFO - --------------------------------------------------------------------------------
2021-04-01 11:49:58,255 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:00,343 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:02,423 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:04,510 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:06,597 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:08,664 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:10,744 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:12,820 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:14,900 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:16,990 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:19,076 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:21,160 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:23,249 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:25,334 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:27,422 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:29,503 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:31,583 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:33,661 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:35,742 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:37,826 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:39,904 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:41,994 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:44,069 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:46,159 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:48,236 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:50,324 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
2021-04-01 11:50:52,403 - WARNING - Project ctest-TestFlowScale-43155173 still has VNs [{'to': ['default-domain', 'ctest-TestFlowScale-43155173', 'ctest-vn-12615456'], 'href': 'http://10.204.216.103:8082/virtual-network/9d63abb1-e5ce-4a65-8512-bba4847a64fd', 'uuid': '9d63abb1-e5ce-4a65-8512-bba4847a64fd'}] before deletion
