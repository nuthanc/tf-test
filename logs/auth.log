2020-12-21 13:59:43,846 - INFO - ================================================================================
2020-12-21 13:59:43,846 - INFO - STARTING TEST: test_all_operations_for_admin_project_domain_with_agent_restart
2020-12-21 13:59:45,340 - INFO - Applying policy file: /root/nuthanc-tf-test/tcutils/kubernetes/auth/templates/auth_policy.yaml
2020-12-21 13:59:50,809 - INFO - Waiting for policy to update in ConfigMap
2020-12-21 14:01:51,586 - INFO - Policy updated in ConfigMap
2020-12-21 14:01:54,020 - INFO - create pod successful in default namespace
2020-12-21 14:02:09,847 - INFO - create service successful in default namespace
2020-12-21 14:02:11,238 - INFO - create namespace successful in default namespace
2020-12-21 14:02:12,798 - INFO - create network_attachment_definition successful in default namespace
2020-12-21 14:02:14,486 - INFO - create network_policy successful in default namespace
2020-12-21 14:02:15,934 - INFO - create ingress successful in default namespace
2020-12-21 14:02:17,449 - INFO - create daemonset successful in default namespace
2020-12-21 14:02:54,802 - INFO - delete pod successful in default namespace
2020-12-21 14:02:56,020 - INFO - delete deployment successful in default namespace
2020-12-21 14:02:57,249 - INFO - delete service successful in default namespace
2020-12-21 14:03:03,930 - INFO - delete namespace successful in default namespace
2020-12-21 14:03:05,237 - INFO - delete network_attachment_definition successful in default namespace
2020-12-21 14:03:06,442 - INFO - delete network_policy successful in default namespace
2020-12-21 14:03:07,748 - INFO - delete ingress successful in default namespace
2020-12-21 14:03:08,988 - INFO - delete daemonset successful in default namespace
2020-12-21 14:09:50,005 - ERROR - 
2020-12-21 14:09:50,005 - INFO - END TEST : test_all_operations_for_admin_project_domain_with_agent_restart : FAILED[0:10:07]
2020-12-21 14:09:50,005 - INFO - --------------------------------------------------------------------------------
2020-12-21 14:09:50,006 - INFO - ================================================================================
2020-12-21 14:09:50,006 - INFO - STARTING TEST: test_all_operations_for_admin_project_domain_with_kube_manager_restart
2020-12-21 14:09:51,429 - INFO - Applying policy file: /root/nuthanc-tf-test/tcutils/kubernetes/auth/templates/auth_policy.yaml
2020-12-21 14:09:53,205 - INFO - END TEST : test_all_operations_for_admin_project_domain_with_kube_manager_restart : PASSED[0:00:03]
2020-12-21 14:09:53,205 - INFO - --------------------------------------------------------------------------------
2021-01-06 16:12:49,729 - INFO - Duplicate Domain, not creating
2021-01-06 16:12:49,855 - INFO - Duplicate Project, not creating
2021-01-06 16:12:51,474 - INFO - Duplicate User, not creating
2021-01-06 16:12:51,767 - INFO - User 'userD' assigned 'Member' role
2021-01-06 16:12:51,850 - INFO - Duplicate Domain, not creating
2021-01-06 16:12:51,975 - INFO - Duplicate Project, not creating
2021-01-06 16:12:52,501 - INFO - Duplicate User, not creating
2021-01-06 16:12:52,757 - INFO - User 'userA' assigned 'Member' role
2021-01-06 16:12:52,835 - INFO - Duplicate Domain, not creating
2021-01-06 16:12:52,966 - INFO - Duplicate Project, not creating
2021-01-06 16:12:53,476 - INFO - Duplicate User, not creating
2021-01-06 16:12:53,771 - INFO - User 'userB' assigned 'Member' role
2021-01-06 16:12:53,852 - INFO - Duplicate Domain, not creating
2021-01-06 16:12:53,978 - INFO - Duplicate Project, not creating
2021-01-06 16:12:54,486 - INFO - Duplicate User, not creating
2021-01-06 16:12:54,750 - INFO - User 'userC' assigned 'Member' role
2021-01-06 16:12:59,718 - INFO - Applying policy file: /root/nuthanc-tf-test/tcutils/kubernetes/auth/templates/all_in_one_policy.yaml
2021-01-06 16:13:01,145 - INFO - Waiting for policy to update in ConfigMap
2021-01-06 16:15:08,571 - INFO - Policy updated in ConfigMap
2021-01-06 16:15:09,031 - INFO - ================================================================================
2021-01-06 16:15:09,032 - INFO - STARTING TEST: test_only_pods_and_deployments_create
2021-01-06 16:15:09,033 - INFO - TEST DESCRIPTION : 
        For userA user, only create pods and deployments and nothing else
        
2021-01-06 16:15:11,081 - INFO - create pod successful in default namespace
2021-01-06 16:15:12,511 - INFO - create deployment successful in default namespace
2021-01-06 16:15:14,748 - WARNING - create service forbidden
2021-01-06 16:15:16,457 - WARNING - create namespace forbidden
2021-01-06 16:15:17,960 - WARNING - create network_attachment_definition forbidden
2021-01-06 16:15:19,852 - WARNING - create network_policy forbidden
2021-01-06 16:15:21,313 - WARNING - create ingress forbidden
2021-01-06 16:15:23,143 - WARNING - create daemonset forbidden
2021-01-06 16:15:24,435 - WARNING - delete pod forbidden
2021-01-06 16:15:25,559 - WARNING - delete deployment forbidden
2021-01-06 16:15:26,707 - WARNING - delete service forbidden
2021-01-06 16:15:27,931 - WARNING - delete namespace forbidden
2021-01-06 16:15:29,156 - WARNING - delete network_attachment_definition forbidden
2021-01-06 16:15:30,358 - WARNING - delete network_policy forbidden
2021-01-06 16:15:31,602 - WARNING - delete ingress forbidden
2021-01-06 16:15:32,863 - WARNING - delete daemonset forbidden
2021-01-06 16:15:32,864 - INFO - END TEST : test_only_pods_and_deployments_create : PASSED[0:00:23]
2021-01-06 16:15:32,864 - INFO - --------------------------------------------------------------------------------
2021-01-06 16:15:32,865 - INFO - ================================================================================
2021-01-06 16:15:32,865 - INFO - STARTING TEST: test_only_pods_and_deployments_delete
2021-01-06 16:15:32,865 - INFO - TEST DESCRIPTION : 
        For userB user, only delete pods and deployments and nothing else
        
2021-01-06 16:15:34,477 - WARNING - create pod forbidden
2021-01-06 16:15:35,977 - WARNING - create deployment forbidden
2021-01-06 16:15:37,350 - WARNING - create service forbidden
2021-01-06 16:15:38,905 - WARNING - create namespace forbidden
2021-01-06 16:15:40,336 - WARNING - create network_attachment_definition forbidden
2021-01-06 16:15:41,724 - WARNING - create network_policy forbidden
2021-01-06 16:15:43,169 - WARNING - create ingress forbidden
2021-01-06 16:15:44,541 - WARNING - create daemonset forbidden
2021-01-06 16:15:45,721 - INFO - delete pod successful in default namespace
2021-01-06 16:15:46,937 - INFO - delete deployment successful in default namespace
2021-01-06 16:15:48,293 - WARNING - delete service forbidden
2021-01-06 16:15:49,471 - WARNING - delete namespace forbidden
2021-01-06 16:15:50,686 - WARNING - delete network_attachment_definition forbidden
2021-01-06 16:15:51,859 - WARNING - delete network_policy forbidden
2021-01-06 16:15:52,914 - WARNING - delete ingress forbidden
2021-01-06 16:15:54,188 - WARNING - delete daemonset forbidden
2021-01-06 16:15:54,188 - INFO - END TEST : test_only_pods_and_deployments_delete : PASSED[0:00:22]
2021-01-06 16:15:54,189 - INFO - --------------------------------------------------------------------------------
2021-01-06 16:15:54,189 - INFO - ================================================================================
2021-01-06 16:15:54,189 - INFO - STARTING TEST: test_only_pods_deployments_services_in_easy_ns
2021-01-06 16:15:54,189 - INFO - TEST DESCRIPTION : 
        For userD user, any operation on pods, deployments and services but only in easy namespace
        
2021-01-06 16:15:55,709 - WARNING - create pod forbidden
2021-01-06 16:15:57,107 - WARNING - create deployment forbidden
2021-01-06 16:15:58,539 - WARNING - create service forbidden
2021-01-06 16:16:00,011 - WARNING - create namespace forbidden
2021-01-06 16:16:01,538 - WARNING - create network_attachment_definition forbidden
2021-01-06 16:16:02,968 - WARNING - create network_policy forbidden
2021-01-06 16:16:04,457 - WARNING - create ingress forbidden
2021-01-06 16:16:05,742 - WARNING - create daemonset forbidden
2021-01-06 16:16:06,988 - WARNING - delete pod forbidden
2021-01-06 16:16:08,130 - WARNING - delete deployment forbidden
2021-01-06 16:16:09,260 - WARNING - delete service forbidden
2021-01-06 16:16:10,416 - WARNING - delete namespace forbidden
2021-01-06 16:16:11,589 - WARNING - delete network_attachment_definition forbidden
2021-01-06 16:16:12,650 - WARNING - delete network_policy forbidden
2021-01-06 16:16:13,813 - WARNING - delete ingress forbidden
2021-01-06 16:16:14,998 - WARNING - delete daemonset forbidden
2021-01-06 16:16:16,525 - INFO - create pod successful in easy namespace
2021-01-06 16:16:17,897 - INFO - create deployment successful in easy namespace
2021-01-06 16:16:19,459 - INFO - create service successful in easy namespace
2021-01-06 16:16:21,654 - WARNING - create namespace forbidden
2021-01-06 16:16:23,074 - WARNING - create network_attachment_definition forbidden
2021-01-06 16:16:24,510 - WARNING - create network_policy forbidden
2021-01-06 16:16:25,893 - WARNING - create ingress forbidden
2021-01-06 16:16:27,343 - WARNING - create daemonset forbidden
2021-01-06 16:16:33,080 - INFO - delete pod successful in easy namespace
2021-01-06 16:16:34,322 - INFO - delete deployment successful in easy namespace
2021-01-06 16:16:36,534 - INFO - delete service successful in easy namespace
2021-01-06 16:16:37,727 - WARNING - delete namespace forbidden
2021-01-06 16:16:38,982 - WARNING - delete network_attachment_definition forbidden
2021-01-06 16:16:40,149 - WARNING - delete network_policy forbidden
2021-01-06 16:16:41,312 - WARNING - delete ingress forbidden
2021-01-06 16:16:42,362 - WARNING - delete daemonset forbidden
2021-01-06 16:16:42,363 - INFO - END TEST : test_only_pods_deployments_services_in_easy_ns : PASSED[0:00:48]
2021-01-06 16:16:42,363 - INFO - --------------------------------------------------------------------------------
2021-01-06 16:16:42,363 - INFO - ================================================================================
2021-01-06 16:16:42,363 - INFO - STARTING TEST: test_only_service_in_zomsrc_ns
2021-01-06 16:16:42,364 - INFO - TEST DESCRIPTION : 
        For userC user, create service in zomsrc namespace and nothing else should work
        
2021-01-06 16:16:44,068 - WARNING - create pod forbidden
2021-01-06 16:16:45,551 - WARNING - create deployment forbidden
2021-01-06 16:16:47,042 - WARNING - create service forbidden
2021-01-06 16:16:48,475 - WARNING - create namespace forbidden
2021-01-06 16:16:49,879 - WARNING - create network_attachment_definition forbidden
2021-01-06 16:16:51,338 - WARNING - create network_policy forbidden
2021-01-06 16:16:52,723 - WARNING - create ingress forbidden
2021-01-06 16:16:54,126 - WARNING - create daemonset forbidden
2021-01-06 16:16:55,336 - WARNING - delete pod forbidden
2021-01-06 16:16:57,561 - WARNING - delete deployment forbidden
2021-01-06 16:16:58,704 - WARNING - delete service forbidden
2021-01-06 16:16:59,882 - WARNING - delete namespace forbidden
2021-01-06 16:17:01,044 - WARNING - delete network_attachment_definition forbidden
2021-01-06 16:17:02,197 - WARNING - delete network_policy forbidden
2021-01-06 16:17:03,393 - WARNING - delete ingress forbidden
2021-01-06 16:17:04,579 - WARNING - delete daemonset forbidden
2021-01-06 16:17:06,053 - WARNING - create pod forbidden
2021-01-06 16:17:07,481 - WARNING - create deployment forbidden
2021-01-06 16:17:09,257 - INFO - create service successful in zomsrc namespace
2021-01-06 16:17:10,763 - WARNING - create namespace forbidden
2021-01-06 16:17:12,183 - WARNING - create network_attachment_definition forbidden
2021-01-06 16:17:13,875 - WARNING - create network_policy forbidden
2021-01-06 16:17:15,257 - WARNING - create ingress forbidden
2021-01-06 16:17:16,730 - WARNING - create daemonset forbidden
2021-01-06 16:17:17,853 - WARNING - delete pod forbidden
2021-01-06 16:17:19,001 - WARNING - delete deployment forbidden
2021-01-06 16:17:20,359 - INFO - delete service successful in zomsrc namespace
2021-01-06 16:17:21,558 - WARNING - delete namespace forbidden
2021-01-06 16:17:22,866 - WARNING - delete network_attachment_definition forbidden
2021-01-06 16:17:24,040 - WARNING - delete network_policy forbidden
2021-01-06 16:17:25,249 - WARNING - delete ingress forbidden
2021-01-06 16:17:26,354 - WARNING - delete daemonset forbidden
2021-01-06 16:17:26,354 - INFO - END TEST : test_only_service_in_zomsrc_ns : PASSED[0:00:44]
2021-01-06 16:17:26,355 - INFO - --------------------------------------------------------------------------------
