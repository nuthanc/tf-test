2021-02-19 06:59:22,043 - INFO - Using existing project ['admin_domain', 'admin'](6d52ffce-adf6-4a1b-b907-bb9dd95efc70)
2021-02-19 06:59:22,098 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 06:59:22,188 - INFO - ================================================================================
2021-02-19 06:59:22,188 - INFO - STARTING TEST    : test_admin_project_with_agent_restart
2021-02-19 06:59:22,189 - INFO - TEST DESCRIPTION : 
        Description: Test to validate normal operations after vrouter agent restart
         Test steps:
                1. Create stackrc_dict for admin user
                2. Set the resource expectation list to all k8s resources
                3. Perform create and delete operations
                4. Restart vrouter agent
                5. Perform create and delete operations again
         Pass criteria: Even after vrouter agent restart, admin user must be able to perform all operations successfully
         Maintainer : nuthanc@juniper.net
        
2021-02-19 06:59:23,518 - DEBUG - Skipping xmpp flap check
2021-02-19 06:59:23,518 - INFO - Initial checks done. Running the testcase now
2021-02-19 06:59:23,518 - INFO - 
2021-02-19 06:59:24,922 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:00:00,250 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:00:43,960 - INFO - Will restart contrail-vrouter-agent  services now on ['192.168.7.19', '192.168.7.9']
2021-02-19 07:00:43,960 - INFO - Running docker restart vrouter_vrouter-agent_1 -t 60 on noden19
2021-02-19 07:00:48,601 - INFO - 192.168.7.19
2021-02-19 07:00:48,611 - INFO -     agent:initializing
2021-02-19 07:00:48,611 - DEBUG - defaultdict(<class 'dict'>, {'192.168.7.19': {'agent': {'status': 'initializing', 'description': None}}})
2021-02-19 07:00:48,611 - DEBUG - Not all services up. Sleeping for 5 seconds. iteration: 0
2021-02-19 07:00:53,760 - INFO - 192.168.7.19
2021-02-19 07:00:53,792 - INFO -     agent:active
2021-02-19 07:00:53,792 - INFO - Contrail services ['agent'] are up on nodes 192.168.7.19
2021-02-19 07:00:53,792 - INFO - Running docker restart vrouter_vrouter-agent_1 -t 60 on nodec9
2021-02-19 07:00:58,453 - INFO - 192.168.7.9
2021-02-19 07:00:58,461 - INFO -     agent:initializing
2021-02-19 07:00:58,462 - DEBUG - defaultdict(<class 'dict'>, {'192.168.7.9': {'agent': {'status': 'initializing', 'description': None}}})
2021-02-19 07:00:58,462 - DEBUG - Not all services up. Sleeping for 5 seconds. iteration: 0
2021-02-19 07:01:03,545 - INFO - 192.168.7.9
2021-02-19 07:01:03,570 - INFO -     agent:active
2021-02-19 07:01:03,570 - INFO - Contrail services ['agent'] are up on nodes 192.168.7.9
2021-02-19 07:01:03,573 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:01:16,565 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:01:51,557 - DEBUG - Skipping xmpp flap check
2021-02-19 07:01:51,558 - INFO - END TEST : test_admin_project_with_agent_restart : PASSED[0:02:29]
2021-02-19 07:01:51,558 - INFO - --------------------------------------------------------------------------------
2021-02-19 07:01:51,568 - INFO - ================================================================================
2021-02-19 07:01:51,568 - INFO - STARTING TEST    : test_admin_project_with_kube_manager_restart
2021-02-19 07:01:51,568 - INFO - TEST DESCRIPTION : 
        Description: Test to validate normal operations after kube manager restart
         Test steps:
                1. Create stackrc_dict for admin user
                2. Set the resource expectation list to all k8s resources
                3. Perform create and delete operations
                4. Restart kube manager
                5. Perform create and delete operations again
         Pass criteria: Even after kube manager restart, admin user must be able to perform all operations successfully
         Maintainer : nuthanc@juniper.net
        
2021-02-19 07:01:52,888 - DEBUG - Skipping xmpp flap check
2021-02-19 07:01:52,888 - INFO - Initial checks done. Running the testcase now
2021-02-19 07:01:52,888 - INFO - 
2021-02-19 07:01:54,952 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:02:08,847 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:02:45,942 - INFO - Running docker restart contrailkubernetesmaster_kubemanager_1 -t 60 on noden29
2021-02-19 07:02:47,680 - INFO - Unable to find contrail-kube-manager container on 192.168.7.29
2021-02-19 07:03:17,686 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:03:28,535 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:04:10,772 - DEBUG - Skipping xmpp flap check
2021-02-19 07:04:10,772 - INFO - END TEST : test_admin_project_with_kube_manager_restart : PASSED[0:02:19]
2021-02-19 07:04:10,772 - INFO - --------------------------------------------------------------------------------
2021-02-19 07:04:10,780 - INFO - ================================================================================
2021-02-19 07:04:10,780 - INFO - STARTING TEST    : test_custom_project_with_agent_restart
2021-02-19 07:04:10,780 - INFO - TEST DESCRIPTION : 
        Description: Test to validate normal operations after vrouter agent restart for custom user
         Test steps:
                1. Create stackrc_dict for custom user
                2. Set the resource expectation list to all k8s resources
                3. Perform create and delete operations
                4. Restart vrouter agent
                5. Perform create and delete operations again
         Pass criteria: Even after vrouter agent restart, custom user must be able to perform all operations successfully
         Maintainer : nuthanc@juniper.net
        
2021-02-19 07:04:12,088 - DEBUG - Skipping xmpp flap check
2021-02-19 07:04:12,089 - INFO - Initial checks done. Running the testcase now
2021-02-19 07:04:12,089 - INFO - 
2021-02-19 07:04:14,360 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:05:06,595 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:05:54,654 - INFO - Will restart contrail-vrouter-agent  services now on ['192.168.7.19', '192.168.7.9']
2021-02-19 07:05:54,655 - INFO - Running docker restart vrouter_vrouter-agent_1 -t 60 on noden19
2021-02-19 07:05:59,321 - INFO - 192.168.7.19
2021-02-19 07:05:59,330 - INFO -     agent:initializing
2021-02-19 07:05:59,330 - DEBUG - defaultdict(<class 'dict'>, {'192.168.7.19': {'agent': {'status': 'initializing', 'description': None}}})
2021-02-19 07:05:59,330 - DEBUG - Not all services up. Sleeping for 5 seconds. iteration: 0
2021-02-19 07:06:04,477 - INFO - 192.168.7.19
2021-02-19 07:06:04,507 - INFO -     agent:active
2021-02-19 07:06:04,508 - INFO - Contrail services ['agent'] are up on nodes 192.168.7.19
2021-02-19 07:06:04,508 - INFO - Running docker restart vrouter_vrouter-agent_1 -t 60 on nodec9
2021-02-19 07:06:09,202 - INFO - 192.168.7.9
2021-02-19 07:06:09,212 - INFO -     agent:initializing
2021-02-19 07:06:09,212 - DEBUG - defaultdict(<class 'dict'>, {'192.168.7.9': {'agent': {'status': 'initializing', 'description': None}}})
2021-02-19 07:06:09,212 - DEBUG - Not all services up. Sleeping for 5 seconds. iteration: 0
2021-02-19 07:06:14,306 - INFO - 192.168.7.9
2021-02-19 07:06:14,333 - INFO -     agent:active
2021-02-19 07:06:14,334 - INFO - Contrail services ['agent'] are up on nodes 192.168.7.9
2021-02-19 07:06:14,336 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:06:25,208 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:07:04,489 - DEBUG - Skipping xmpp flap check
2021-02-19 07:07:04,490 - INFO - END TEST : test_custom_project_with_agent_restart : PASSED[0:02:54]
2021-02-19 07:07:04,490 - INFO - --------------------------------------------------------------------------------
2021-02-19 07:07:04,498 - INFO - ================================================================================
2021-02-19 07:07:04,499 - INFO - STARTING TEST    : test_custom_project_with_kube_manager_restart
2021-02-19 07:07:04,499 - INFO - TEST DESCRIPTION : 
        Description: Test to validate normal operations after kube manager restart for custom user
         Test steps:
                1. Create stackrc_dict for custom user
                2. Set the resource expectation list to all k8s resources
                3. Perform create and delete operations
                4. Restart kube manager
                5. Perform create and delete operations again
         Pass criteria: Even after kube manager restart, custom user must be able to perform all operations successfully
         Maintainer : nuthanc@juniper.net
        
2021-02-19 07:07:05,812 - DEBUG - Skipping xmpp flap check
2021-02-19 07:07:05,813 - INFO - Initial checks done. Running the testcase now
2021-02-19 07:07:05,813 - INFO - 
2021-02-19 07:07:08,449 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:07:19,347 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:07:56,556 - INFO - Running docker restart contrailkubernetesmaster_kubemanager_1 -t 60 on noden29
2021-02-19 07:07:58,282 - INFO - Unable to find contrail-kube-manager container on 192.168.7.29
2021-02-19 07:08:28,289 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:08:45,169 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 07:09:23,780 - DEBUG - Skipping xmpp flap check
2021-02-19 07:09:23,781 - INFO - END TEST : test_custom_project_with_kube_manager_restart : PASSED[0:02:19]
2021-02-19 07:09:23,781 - INFO - --------------------------------------------------------------------------------
2021-02-19 08:08:19,975 - DEBUG - [192.168.7.20]: Running cmd : hostname
2021-02-19 08:08:21,014 - DEBUG - Output : noden20
2021-02-19 08:08:21,015 - DEBUG - [192.168.7.20]: Running cmd : hostname -f
2021-02-19 08:08:21,130 - DEBUG - Output : noden20.maas
2021-02-19 08:08:21,130 - DEBUG - [192.168.7.20]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:08:21,340 - DEBUG - Output : NAMES
webui_job_1
webui_web_1
analyticssnmp_snmp-collector_1
analyticssnmp_topology_1
analyticssnmp_nodemgr_1
analyticsalarm_kafka_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analytics_api_1
analytics_nodemgr_1
analytics_collector_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
redis_stunnel_1
redis_redis_1
control_named_1
control_nodemgr_1
control_dns_1
control_control_1
configdatabase_zookeeper_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_schema_1
configapi_svcmonitor_1
configapi_api_1
2021-02-19 08:08:21,341 - DEBUG - [192.168.7.20]: Running cmd : getent hosts 192.168.7.20 | head -n 1 | awk '{print $2}'
2021-02-19 08:08:21,456 - DEBUG - Output : noden20.maas
2021-02-19 08:08:21,456 - DEBUG - [192.168.7.20]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:08:21,580 - DEBUG - Output : 192.168.27.20/24
172.17.0.1/16
192.168.7.20/24
2021-02-19 08:08:21,580 - DEBUG - [192.168.7.29]: Running cmd : hostname
2021-02-19 08:08:25,630 - DEBUG - Output : noden29
2021-02-19 08:08:25,631 - DEBUG - [192.168.7.29]: Running cmd : hostname -f
2021-02-19 08:08:25,734 - DEBUG - Output : noden29.maas
2021-02-19 08:08:25,734 - DEBUG - [192.168.7.29]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:08:25,973 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
webui_job_1
webui_web_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticsdatabase_cassandra_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
contrailkubernetesmaster_kubemanager_1
redis_stunnel_1
redis_redis_1
control_named_1
control_control_1
control_nodemgr_1
control_dns_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configdatabase_zookeeper_1
configapi_devicemgr_1
configapi_nodemgr_1
configapi_api_1
configapi_schema_1
configapi_svcmonitor_1
configapi_dnsmasq_1
2021-02-19 08:08:25,973 - DEBUG - [192.168.7.29]: Running cmd : getent hosts 192.168.7.29 | head -n 1 | awk '{print $2}'
2021-02-19 08:08:26,190 - DEBUG - Output : 
2021-02-19 08:08:26,190 - DEBUG - [192.168.7.29]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:08:26,293 - DEBUG - Output : 192.168.7.29/24
172.17.0.1/16
192.168.27.29/24
2021-02-19 08:08:26,485 - DEBUG - [192.168.7.34]: Running cmd : hostname
2021-02-19 08:08:27,761 - DEBUG - Output : nodei34
2021-02-19 08:08:27,762 - DEBUG - [192.168.7.34]: Running cmd : hostname -f
2021-02-19 08:08:27,872 - DEBUG - Output : nodei34.maas
2021-02-19 08:08:27,873 - DEBUG - [192.168.7.34]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:08:28,112 - DEBUG - Output : NAMES
webui_web_1
webui_job_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
redis_redis_1
redis_stunnel_1
control_named_1
control_dns_1
control_nodemgr_1
control_control_1
configdatabase_cassandra_1
configdatabase_zookeeper_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_schema_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_api_1
configapi_svcmonitor_1
2021-02-19 08:08:28,113 - DEBUG - [192.168.7.34]: Running cmd : getent hosts 192.168.7.34 | head -n 1 | awk '{print $2}'
2021-02-19 08:08:28,222 - DEBUG - Output : nodei34.maas
2021-02-19 08:08:28,223 - DEBUG - [192.168.7.34]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:08:28,333 - DEBUG - Output : 192.168.7.34/24
192.168.27.34/24
172.17.0.1/16
2021-02-19 08:08:28,334 - DEBUG - [192.168.7.19]: Running cmd : hostname
2021-02-19 08:08:29,562 - DEBUG - Output : noden19
2021-02-19 08:08:29,562 - DEBUG - [192.168.7.19]: Running cmd : hostname -f
2021-02-19 08:08:29,671 - DEBUG - Output : noden19.maas
2021-02-19 08:08:29,671 - DEBUG - [192.168.7.19]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:08:29,832 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
k8s_nginx_nginx_default_e122a4d5-13d3-4b5c-a917-c375f5a0cafa_0
k8s_cirros_cirros_default_17de7c97-01cd-4350-8401-3c2249528561_0
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_23
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_22
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-hcvxs_kube-system_64575096-0773-4881-8bba-f16559ca5fd6_0
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-4gj79_kube-system_83e45f58-f119-4828-9b80-a681ecebeb2b_0
2021-02-19 08:08:29,833 - DEBUG - [192.168.7.19]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:08:29,936 - DEBUG - Output : 192.168.27.19/24
2021-02-19 08:08:29,937 - DEBUG - [192.168.7.19]: Running cmd : getent hosts 192.168.27.19 | head -n 1 | awk '{print $2}'
2021-02-19 08:08:30,040 - DEBUG - Output : noden19.maas
2021-02-19 08:08:30,041 - DEBUG - [192.168.7.9]: Running cmd : hostname
2021-02-19 08:08:30,767 - DEBUG - Output : nodec9
2021-02-19 08:08:30,767 - DEBUG - [192.168.7.9]: Running cmd : hostname -f
2021-02-19 08:08:30,845 - DEBUG - Output : nodec9.maas
2021-02-19 08:08:30,845 - DEBUG - [192.168.7.9]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:08:30,967 - DEBUG - Output : NAMES
vrouter_vrouter-agent_1
vrouter_nodemgr_1
2021-02-19 08:08:30,968 - DEBUG - [192.168.7.9]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:08:31,050 - DEBUG - Output : 192.168.27.9/24
2021-02-19 08:08:31,051 - DEBUG - [192.168.7.9]: Running cmd : getent hosts 192.168.27.9 | head -n 1 | awk '{print $2}'
2021-02-19 08:08:31,133 - DEBUG - Output : nodec9.maas
2021-02-19 08:08:31,133 - DEBUG - [192.168.7.18]: Running cmd : hostname
2021-02-19 08:08:31,508 - DEBUG - Output : noden18
2021-02-19 08:08:31,508 - DEBUG - [192.168.7.18]: Running cmd : hostname -f
2021-02-19 08:08:31,564 - DEBUG - Output : noden18.englab.juniper.net
2021-02-19 08:08:31,564 - DEBUG - [192.168.7.18]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:08:31,749 - DEBUG - Output : NAMES
nuthan_test8
nuthan_test2
nuthan_test7
tf_test
scale_test
nuthan_test
2021-02-19 08:08:34,445 - DEBUG - Not creating keypair since it exists
2021-02-19 08:08:35,943 - INFO - Using existing project ['admin_domain', 'admin'](6d52ffce-adf6-4a1b-b907-bb9dd95efc70)
2021-02-19 08:08:36,269 - INFO - Using existing project ['admin_domain', 'admin'](6d52ffce-adf6-4a1b-b907-bb9dd95efc70)
2021-02-19 08:08:36,299 - INFO - Adding rules to the default security group in Project admin
2021-02-19 08:08:36,451 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:08:36,811 - INFO - ================================================================================
2021-02-19 08:08:36,811 - INFO - STARTING TEST    : test_admin_project_with_kube_manager_restart
2021-02-19 08:08:36,813 - INFO - TEST DESCRIPTION : 
        Description: Test to validate normal operations after kube manager restart
         Test steps:
                1. Create stackrc_dict for admin user
                2. Set the resource expectation list to all k8s resources
                3. Perform create and delete operations
                4. Restart kube manager
                5. Perform create and delete operations again
         Pass criteria: Even after kube manager restart, admin user must be able to perform all operations successfully
         Maintainer : nuthanc@juniper.net
        
2021-02-19 08:08:38,155 - DEBUG - Skipping xmpp flap check
2021-02-19 08:08:38,156 - INFO - Initial checks done. Running the testcase now
2021-02-19 08:08:38,156 - INFO - 
2021-02-19 08:08:39,786 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:09:10,290 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:13:11,986 - INFO - Will restart contrail-kube-manager  services now on ['192.168.7.29']
2021-02-19 08:16:36,635 - INFO - Unable to find contrail-kube-manager container on 192.168.7.29
2021-02-19 08:17:28,512 - DEBUG - [192.168.7.20]: Running cmd : hostname
2021-02-19 08:17:29,654 - DEBUG - Output : noden20
2021-02-19 08:17:29,654 - DEBUG - [192.168.7.20]: Running cmd : hostname -f
2021-02-19 08:17:29,769 - DEBUG - Output : noden20.maas
2021-02-19 08:17:52,665 - DEBUG - [192.168.7.20]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:17:52,852 - DEBUG - Output : NAMES
webui_job_1
webui_web_1
analyticssnmp_snmp-collector_1
analyticssnmp_topology_1
analyticssnmp_nodemgr_1
analyticsalarm_kafka_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analytics_api_1
analytics_nodemgr_1
analytics_collector_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
redis_stunnel_1
redis_redis_1
control_named_1
control_nodemgr_1
control_dns_1
control_control_1
configdatabase_zookeeper_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_schema_1
configapi_svcmonitor_1
configapi_api_1
2021-02-19 08:17:52,853 - DEBUG - [192.168.7.20]: Running cmd : getent hosts 192.168.7.20 | head -n 1 | awk '{print $2}'
2021-02-19 08:17:52,965 - DEBUG - Output : noden20.maas
2021-02-19 08:17:52,965 - DEBUG - [192.168.7.20]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:17:53,085 - DEBUG - Output : 192.168.27.20/24
172.17.0.1/16
192.168.7.20/24
2021-02-19 08:17:53,086 - DEBUG - [192.168.7.29]: Running cmd : hostname
2021-02-19 08:17:54,141 - DEBUG - Output : noden29
2021-02-19 08:17:54,141 - DEBUG - [192.168.7.29]: Running cmd : hostname -f
2021-02-19 08:17:54,245 - DEBUG - Output : noden29.maas
2021-02-19 08:19:06,074 - DEBUG - [192.168.7.29]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:19:06,269 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
webui_job_1
webui_web_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticsdatabase_cassandra_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
contrailkubernetesmaster_kubemanager_1
redis_stunnel_1
redis_redis_1
control_named_1
control_control_1
control_nodemgr_1
control_dns_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configdatabase_zookeeper_1
configapi_devicemgr_1
configapi_nodemgr_1
configapi_api_1
configapi_schema_1
configapi_svcmonitor_1
configapi_dnsmasq_1
2021-02-19 08:34:55,108 - DEBUG - [192.168.7.20]: Running cmd : hostname
2021-02-19 08:34:56,210 - DEBUG - Output : noden20
2021-02-19 08:34:56,210 - DEBUG - [192.168.7.20]: Running cmd : hostname -f
2021-02-19 08:34:56,321 - DEBUG - Output : noden20.maas
2021-02-19 08:34:56,321 - DEBUG - [192.168.7.20]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:34:56,538 - DEBUG - Output : NAMES
webui_job_1
webui_web_1
analyticssnmp_snmp-collector_1
analyticssnmp_topology_1
analyticssnmp_nodemgr_1
analyticsalarm_kafka_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analytics_api_1
analytics_nodemgr_1
analytics_collector_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
redis_stunnel_1
redis_redis_1
control_named_1
control_nodemgr_1
control_dns_1
control_control_1
configdatabase_zookeeper_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_schema_1
configapi_svcmonitor_1
configapi_api_1
2021-02-19 08:34:56,539 - DEBUG - [192.168.7.20]: Running cmd : getent hosts 192.168.7.20 | head -n 1 | awk '{print $2}'
2021-02-19 08:34:56,669 - DEBUG - Output : noden20.maas
2021-02-19 08:34:56,670 - DEBUG - [192.168.7.20]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:34:56,777 - DEBUG - Output : 192.168.27.20/24
172.17.0.1/16
192.168.7.20/24
2021-02-19 08:34:56,777 - DEBUG - [192.168.7.29]: Running cmd : hostname
2021-02-19 08:34:58,031 - DEBUG - Output : noden29
2021-02-19 08:34:58,031 - DEBUG - [192.168.7.29]: Running cmd : hostname -f
2021-02-19 08:34:58,139 - DEBUG - Output : noden29.maas
2021-02-19 08:34:58,140 - DEBUG - [192.168.7.29]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:34:58,349 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
webui_job_1
webui_web_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticsdatabase_cassandra_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
contrailkubernetesmaster_kubemanager_1
redis_stunnel_1
redis_redis_1
control_named_1
control_control_1
control_nodemgr_1
control_dns_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configdatabase_zookeeper_1
configapi_devicemgr_1
configapi_nodemgr_1
configapi_api_1
configapi_schema_1
configapi_svcmonitor_1
configapi_dnsmasq_1
2021-02-19 08:34:58,350 - DEBUG - [192.168.7.29]: Running cmd : getent hosts 192.168.7.29 | head -n 1 | awk '{print $2}'
2021-02-19 08:34:58,457 - DEBUG - Output : 
2021-02-19 08:34:58,458 - DEBUG - [192.168.7.29]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:34:58,569 - DEBUG - Output : 192.168.7.29/24
172.17.0.1/16
192.168.27.29/24
2021-02-19 08:34:58,759 - DEBUG - [192.168.7.34]: Running cmd : hostname
2021-02-19 08:35:00,136 - DEBUG - Output : nodei34
2021-02-19 08:35:00,137 - DEBUG - [192.168.7.34]: Running cmd : hostname -f
2021-02-19 08:35:00,238 - DEBUG - Output : nodei34.maas
2021-02-19 08:35:00,239 - DEBUG - [192.168.7.34]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:35:00,466 - DEBUG - Output : NAMES
webui_web_1
webui_job_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
redis_redis_1
redis_stunnel_1
control_named_1
control_dns_1
control_nodemgr_1
control_control_1
configdatabase_cassandra_1
configdatabase_zookeeper_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_schema_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_api_1
configapi_svcmonitor_1
2021-02-19 08:35:00,467 - DEBUG - [192.168.7.34]: Running cmd : getent hosts 192.168.7.34 | head -n 1 | awk '{print $2}'
2021-02-19 08:35:00,579 - DEBUG - Output : nodei34.maas
2021-02-19 08:35:00,580 - DEBUG - [192.168.7.34]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:35:00,697 - DEBUG - Output : 192.168.7.34/24
192.168.27.34/24
172.17.0.1/16
2021-02-19 08:35:00,698 - DEBUG - [192.168.7.19]: Running cmd : hostname
2021-02-19 08:35:01,945 - DEBUG - Output : noden19
2021-02-19 08:35:01,946 - DEBUG - [192.168.7.19]: Running cmd : hostname -f
2021-02-19 08:35:02,057 - DEBUG - Output : noden19.maas
2021-02-19 08:35:02,057 - DEBUG - [192.168.7.19]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:35:02,235 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
k8s_nginx_nginx_default_e122a4d5-13d3-4b5c-a917-c375f5a0cafa_0
k8s_cirros_cirros_default_17de7c97-01cd-4350-8401-3c2249528561_0
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_23
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_22
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-hcvxs_kube-system_64575096-0773-4881-8bba-f16559ca5fd6_0
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-4gj79_kube-system_83e45f58-f119-4828-9b80-a681ecebeb2b_0
2021-02-19 08:35:02,236 - DEBUG - [192.168.7.19]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:35:02,335 - DEBUG - Output : 192.168.27.19/24
2021-02-19 08:35:02,336 - DEBUG - [192.168.7.19]: Running cmd : getent hosts 192.168.27.19 | head -n 1 | awk '{print $2}'
2021-02-19 08:35:02,443 - DEBUG - Output : noden19.maas
2021-02-19 08:35:02,443 - DEBUG - [192.168.7.9]: Running cmd : hostname
2021-02-19 08:35:03,182 - DEBUG - Output : nodec9
2021-02-19 08:35:03,182 - DEBUG - [192.168.7.9]: Running cmd : hostname -f
2021-02-19 08:35:03,262 - DEBUG - Output : nodec9.maas
2021-02-19 08:35:03,263 - DEBUG - [192.168.7.9]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:35:03,388 - DEBUG - Output : NAMES
vrouter_vrouter-agent_1
vrouter_nodemgr_1
2021-02-19 08:35:03,388 - DEBUG - [192.168.7.9]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:35:03,474 - DEBUG - Output : 192.168.27.9/24
2021-02-19 08:35:03,474 - DEBUG - [192.168.7.9]: Running cmd : getent hosts 192.168.27.9 | head -n 1 | awk '{print $2}'
2021-02-19 08:35:03,553 - DEBUG - Output : nodec9.maas
2021-02-19 08:35:03,554 - DEBUG - [192.168.7.18]: Running cmd : hostname
2021-02-19 08:35:03,930 - DEBUG - Output : noden18
2021-02-19 08:35:03,930 - DEBUG - [192.168.7.18]: Running cmd : hostname -f
2021-02-19 08:35:04,008 - DEBUG - Output : noden18.englab.juniper.net
2021-02-19 08:35:04,008 - DEBUG - [192.168.7.18]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:35:04,192 - DEBUG - Output : NAMES
nuthan_test8
nuthan_test2
nuthan_test7
tf_test
scale_test
nuthan_test
2021-02-19 08:35:06,173 - DEBUG - Not creating keypair since it exists
2021-02-19 08:35:07,055 - INFO - Using existing project ['admin_domain', 'admin'](6d52ffce-adf6-4a1b-b907-bb9dd95efc70)
2021-02-19 08:35:07,191 - INFO - Using existing project ['admin_domain', 'admin'](6d52ffce-adf6-4a1b-b907-bb9dd95efc70)
2021-02-19 08:35:07,221 - INFO - Adding rules to the default security group in Project admin
2021-02-19 08:35:07,360 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:35:07,701 - INFO - ================================================================================
2021-02-19 08:35:07,701 - INFO - STARTING TEST    : test_admin_project_with_kube_manager_restart
2021-02-19 08:35:07,702 - INFO - TEST DESCRIPTION : 
        Description: Test to validate normal operations after kube manager restart
         Test steps:
                1. Create stackrc_dict for admin user
                2. Set the resource expectation list to all k8s resources
                3. Perform create and delete operations
                4. Restart kube manager
                5. Perform create and delete operations again
         Pass criteria: Even after kube manager restart, admin user must be able to perform all operations successfully
         Maintainer : nuthanc@juniper.net
        
2021-02-19 08:35:09,020 - DEBUG - Skipping xmpp flap check
2021-02-19 08:35:09,020 - INFO - Initial checks done. Running the testcase now
2021-02-19 08:35:09,020 - INFO - 
2021-02-19 08:35:10,511 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:35:24,209 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:36:06,445 - INFO - Will restart contrail-kube-manager  services now on ['192.168.7.29']
2021-02-19 08:36:06,447 - INFO - Running docker restart contrailkubernetesmaster_kubemanager_1 -t 60 on noden29
2021-02-19 08:36:06,449 - DEBUG - [192.168.7.29]: Running cmd : docker restart contrailkubernetesmaster_kubemanager_1 -t 60
2021-02-19 08:36:08,603 - DEBUG - Output : contrailkubernetesmaster_kubemanager_1
2021-02-19 08:36:08,605 - DEBUG - [192.168.7.29]: Running cmd : docker ps -f status=running --format {{.Names}} 2>/dev/null
2021-02-19 08:36:08,834 - DEBUG - Output : vrouter_nodemgr_1
vrouter_provisioner_1
vrouter_vrouter-agent_1
control_provisioner_1
configapi_provisioner_1
webui_job_1
webui_web_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticsdatabase_provisioner_1
analyticsdatabase_cassandra_1
analyticssnmp_snmp-collector_1
analyticssnmp_provisioner_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_provisioner_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_provisioner_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
contrailkubernetesmaster_kubemanager_1
redis_stunnel_1
redis_redis_1
control_named_1
control_control_1
control_nodemgr_1
control_dns_1
configdatabase_cassandra_1
configdatabase_nodemgr_1
configdatabase_zookeeper_1
configdatabase_provisioner_1
configapi_devicemgr_1
configapi_nodemgr_1
configapi_api_1
configapi_schema_1
configapi_svcmonitor_1
configapi_dnsmasq_1
2021-02-19 08:36:08,835 - INFO - 192.168.7.29
2021-02-19 08:36:08,869 - INFO -     contrail-kube-manager:backup
2021-02-19 08:36:08,871 - INFO - Contrail services ['contrail-kube-manager'] are up on nodes 192.168.7.29
2021-02-19 08:36:45,644 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:37:02,511 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:37:43,821 - DEBUG - Skipping xmpp flap check
2021-02-19 08:37:43,821 - INFO - END TEST : test_admin_project_with_kube_manager_restart : PASSED[0:02:36]
2021-02-19 08:37:43,821 - INFO - --------------------------------------------------------------------------------
2021-02-19 08:38:17,161 - DEBUG - [192.168.7.20]: Running cmd : hostname
2021-02-19 08:38:18,274 - DEBUG - Output : noden20
2021-02-19 08:38:18,275 - DEBUG - [192.168.7.20]: Running cmd : hostname -f
2021-02-19 08:38:18,385 - DEBUG - Output : noden20.maas
2021-02-19 08:38:18,385 - DEBUG - [192.168.7.20]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:38:18,603 - DEBUG - Output : NAMES
webui_job_1
webui_web_1
analyticssnmp_snmp-collector_1
analyticssnmp_topology_1
analyticssnmp_nodemgr_1
analyticsalarm_kafka_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analytics_api_1
analytics_nodemgr_1
analytics_collector_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
redis_stunnel_1
redis_redis_1
control_named_1
control_nodemgr_1
control_dns_1
control_control_1
configdatabase_zookeeper_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_schema_1
configapi_svcmonitor_1
configapi_api_1
2021-02-19 08:38:18,603 - DEBUG - [192.168.7.20]: Running cmd : getent hosts 192.168.7.20 | head -n 1 | awk '{print $2}'
2021-02-19 08:38:18,714 - DEBUG - Output : noden20.maas
2021-02-19 08:38:18,715 - DEBUG - [192.168.7.20]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:38:18,844 - DEBUG - Output : 192.168.27.20/24
172.17.0.1/16
192.168.7.20/24
2021-02-19 08:38:18,845 - DEBUG - [192.168.7.29]: Running cmd : hostname
2021-02-19 08:38:19,889 - DEBUG - Output : noden29
2021-02-19 08:38:19,889 - DEBUG - [192.168.7.29]: Running cmd : hostname -f
2021-02-19 08:38:19,978 - DEBUG - Output : noden29.maas
2021-02-19 08:38:19,978 - DEBUG - [192.168.7.29]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:38:20,206 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
webui_job_1
webui_web_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticsdatabase_cassandra_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
contrailkubernetesmaster_kubemanager_1
redis_stunnel_1
redis_redis_1
control_named_1
control_control_1
control_nodemgr_1
control_dns_1
configdatabase_cassandra_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configdatabase_zookeeper_1
configapi_devicemgr_1
configapi_nodemgr_1
configapi_api_1
configapi_schema_1
configapi_svcmonitor_1
configapi_dnsmasq_1
2021-02-19 08:38:20,206 - DEBUG - [192.168.7.29]: Running cmd : getent hosts 192.168.7.29 | head -n 1 | awk '{print $2}'
2021-02-19 08:38:20,385 - DEBUG - Output : 
2021-02-19 08:38:20,385 - DEBUG - [192.168.7.29]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:38:20,495 - DEBUG - Output : 192.168.7.29/24
172.17.0.1/16
192.168.27.29/24
2021-02-19 08:38:20,690 - DEBUG - [192.168.7.34]: Running cmd : hostname
2021-02-19 08:38:21,966 - DEBUG - Output : nodei34
2021-02-19 08:38:21,967 - DEBUG - [192.168.7.34]: Running cmd : hostname -f
2021-02-19 08:38:22,064 - DEBUG - Output : nodei34.maas
2021-02-19 08:38:22,064 - DEBUG - [192.168.7.34]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:38:22,288 - DEBUG - Output : NAMES
webui_web_1
webui_job_1
analyticsdatabase_cassandra_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticssnmp_snmp-collector_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
redis_redis_1
redis_stunnel_1
control_named_1
control_dns_1
control_nodemgr_1
control_control_1
configdatabase_cassandra_1
configdatabase_zookeeper_1
configdatabase_rabbitmq_1
configdatabase_nodemgr_1
configapi_devicemgr_1
configapi_schema_1
configapi_dnsmasq_1
configapi_nodemgr_1
configapi_api_1
configapi_svcmonitor_1
2021-02-19 08:38:22,289 - DEBUG - [192.168.7.34]: Running cmd : getent hosts 192.168.7.34 | head -n 1 | awk '{print $2}'
2021-02-19 08:38:22,396 - DEBUG - Output : nodei34.maas
2021-02-19 08:38:22,396 - DEBUG - [192.168.7.34]: Running cmd : ip addr show | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:38:22,502 - DEBUG - Output : 192.168.7.34/24
192.168.27.34/24
172.17.0.1/16
2021-02-19 08:38:22,503 - DEBUG - [192.168.7.19]: Running cmd : hostname
2021-02-19 08:38:23,536 - DEBUG - Output : noden19
2021-02-19 08:38:23,537 - DEBUG - [192.168.7.19]: Running cmd : hostname -f
2021-02-19 08:38:23,638 - DEBUG - Output : noden19.maas
2021-02-19 08:38:23,639 - DEBUG - [192.168.7.19]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:38:23,806 - DEBUG - Output : NAMES
vrouter_nodemgr_1
vrouter_vrouter-agent_1
k8s_nginx_nginx_default_e122a4d5-13d3-4b5c-a917-c375f5a0cafa_0
k8s_cirros_cirros_default_17de7c97-01cd-4350-8401-3c2249528561_0
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_23
k8s_coredns_coredns-6b59b8bd9f-f7hgs_kube-system_efbcc658-8b0f-4982-860d-15887593226b_22
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-hcvxs_kube-system_64575096-0773-4881-8bba-f16559ca5fd6_0
k8s_k8s-keystone-auth_k8s-keystone-auth-bd454d699-4gj79_kube-system_83e45f58-f119-4828-9b80-a681ecebeb2b_0
2021-02-19 08:38:23,807 - DEBUG - [192.168.7.19]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:38:23,914 - DEBUG - Output : 192.168.27.19/24
2021-02-19 08:38:23,915 - DEBUG - [192.168.7.19]: Running cmd : getent hosts 192.168.27.19 | head -n 1 | awk '{print $2}'
2021-02-19 08:38:24,021 - DEBUG - Output : noden19.maas
2021-02-19 08:38:24,022 - DEBUG - [192.168.7.9]: Running cmd : hostname
2021-02-19 08:38:24,733 - DEBUG - Output : nodec9
2021-02-19 08:38:24,733 - DEBUG - [192.168.7.9]: Running cmd : hostname -f
2021-02-19 08:38:24,813 - DEBUG - Output : nodec9.maas
2021-02-19 08:38:24,814 - DEBUG - [192.168.7.9]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:38:24,939 - DEBUG - Output : NAMES
vrouter_vrouter-agent_1
vrouter_nodemgr_1
2021-02-19 08:38:24,940 - DEBUG - [192.168.7.9]: Running cmd : ip addr show dev vhost0 | grep 'inet .*/.* brd ' | awk '{print $2}'
2021-02-19 08:38:25,025 - DEBUG - Output : 192.168.27.9/24
2021-02-19 08:38:25,025 - DEBUG - [192.168.7.9]: Running cmd : getent hosts 192.168.27.9 | head -n 1 | awk '{print $2}'
2021-02-19 08:38:25,110 - DEBUG - Output : nodec9.maas
2021-02-19 08:38:25,110 - DEBUG - [192.168.7.18]: Running cmd : hostname
2021-02-19 08:38:25,493 - DEBUG - Output : noden18
2021-02-19 08:38:25,493 - DEBUG - [192.168.7.18]: Running cmd : hostname -f
2021-02-19 08:38:25,548 - DEBUG - Output : noden18.englab.juniper.net
2021-02-19 08:38:25,549 - DEBUG - [192.168.7.18]: Running cmd : docker ps -a 2>/dev/null | grep -v "/pause\|/usr/bin/pod\|nova_api_\|contrail.*init\|init.*contrail\|provisioner\|placement" | awk '{print $NF}'
2021-02-19 08:38:25,722 - DEBUG - Output : NAMES
nuthan_test8
nuthan_test2
nuthan_test7
tf_test
scale_test
nuthan_test
2021-02-19 08:38:27,762 - DEBUG - Not creating keypair since it exists
2021-02-19 08:38:28,649 - INFO - Using existing project ['admin_domain', 'admin'](6d52ffce-adf6-4a1b-b907-bb9dd95efc70)
2021-02-19 08:38:28,783 - INFO - Using existing project ['admin_domain', 'admin'](6d52ffce-adf6-4a1b-b907-bb9dd95efc70)
2021-02-19 08:38:28,813 - INFO - Adding rules to the default security group in Project admin
2021-02-19 08:38:28,969 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:38:29,330 - INFO - ================================================================================
2021-02-19 08:38:29,330 - INFO - STARTING TEST    : test_admin_project_with_kube_manager_restart
2021-02-19 08:38:29,331 - INFO - TEST DESCRIPTION : 
        Description: Test to validate normal operations after kube manager restart
         Test steps:
                1. Create stackrc_dict for admin user
                2. Set the resource expectation list to all k8s resources
                3. Perform create and delete operations
                4. Restart kube manager
                5. Perform create and delete operations again
         Pass criteria: Even after kube manager restart, admin user must be able to perform all operations successfully
         Maintainer : nuthanc@juniper.net
        
2021-02-19 08:38:30,644 - DEBUG - Skipping xmpp flap check
2021-02-19 08:38:30,644 - INFO - Initial checks done. Running the testcase now
2021-02-19 08:38:30,644 - INFO - 
2021-02-19 08:38:32,241 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:38:41,089 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:39:15,237 - INFO - Will restart contrail-kube-manager  services now on ['192.168.7.29']
2021-02-19 08:39:15,238 - INFO - Running docker restart contrailkubernetesmaster_kubemanager_1 -t 60 on noden29
2021-02-19 08:39:15,239 - DEBUG - [192.168.7.29]: Running cmd : docker restart contrailkubernetesmaster_kubemanager_1 -t 60
2021-02-19 08:39:16,878 - DEBUG - Output : contrailkubernetesmaster_kubemanager_1
2021-02-19 08:39:16,879 - DEBUG - [192.168.7.29]: Running cmd : docker ps -f status=running --format {{.Names}} 2>/dev/null
2021-02-19 08:39:17,087 - DEBUG - Output : gracious_kalam
vrouter_nodemgr_1
vrouter_provisioner_1
vrouter_vrouter-agent_1
control_provisioner_1
configapi_provisioner_1
webui_job_1
webui_web_1
analyticsdatabase_query-engine_1
analyticsdatabase_nodemgr_1
analyticsdatabase_provisioner_1
analyticsdatabase_cassandra_1
analyticssnmp_snmp-collector_1
analyticssnmp_provisioner_1
analyticssnmp_nodemgr_1
analyticssnmp_topology_1
analyticsalarm_provisioner_1
analyticsalarm_nodemgr_1
analyticsalarm_alarm-gen_1
analyticsalarm_kafka_1
analytics_provisioner_1
analytics_nodemgr_1
analytics_api_1
analytics_collector_1
contrailkubernetesmaster_kubemanager_1
redis_stunnel_1
redis_redis_1
control_named_1
control_control_1
control_nodemgr_1
control_dns_1
configdatabase_cassandra_1
configdatabase_nodemgr_1
configdatabase_zookeeper_1
configdatabase_provisioner_1
configapi_devicemgr_1
configapi_nodemgr_1
configapi_api_1
configapi_schema_1
configapi_svcmonitor_1
configapi_dnsmasq_1
2021-02-19 08:39:17,087 - INFO - 192.168.7.29
2021-02-19 08:39:17,098 - INFO -     contrail-kube-manager:backup
2021-02-19 08:39:17,098 - INFO - Contrail services ['contrail-kube-manager'] are up on nodes 192.168.7.29
2021-02-19 08:39:47,106 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:40:03,967 - DEBUG - Container None not in host 192.168.7.18, copying to  host itself
2021-02-19 08:40:43,960 - DEBUG - Skipping xmpp flap check
2021-02-19 08:40:43,961 - INFO - END TEST : test_admin_project_with_kube_manager_restart : PASSED[0:02:14]
2021-02-19 08:40:43,961 - INFO - --------------------------------------------------------------------------------
